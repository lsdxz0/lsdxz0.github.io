<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>01绪论</title>
    <url>/2024/06/07/1.xu-lun/</url>
    <content><![CDATA[<h2 id="绪论">1. 绪论</h2>
<h3 id="电力电子是干啥的">1. 电力电子是干啥的</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406071712091.png" alt="image-20240311162400570">
<figcaption aria-hidden="true">image-20240311162400570</figcaption>
</figure>
<p>控制器比如用的单片机， 输出5v,3.3v
被控对象要用几百v的电压，电力电子：我会出手</p>
<h3 id="什么是电力电子技术">2. 什么是电力电子技术</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406071712092.png" alt="image-20240311162704621">
<figcaption aria-hidden="true">image-20240311162704621</figcaption>
</figure>
<h3 id="电力电子变换器的分类">3. 电力电子变换器的分类</h3>
<p>tip：</p>
<ul>
<li>变换器Converter 包含功率半导体开关器件， 及储能元件（电感电容）</li>
<li>为避免攻略损耗和效率降低， 变换器主回路一般无电阻元件</li>
<li>控制器通过检测输入输出信号， 对开关器件导通关断进行控制</li>
</ul>
<p><strong>分类：</strong></p>
<ul>
<li>AC/DC变换器。 整流器
<ul>
<li>将交流输入变换成直流输出，</li>
</ul></li>
<li>DC/AC变换器， 逆变器
<ul>
<li>将直流输入变换到交流输出</li>
</ul></li>
<li>DC/DC变换器
<ul>
<li>适用于负荷需求特定（或可调）的直流电压或电流，
而源石不同的活不可调的直流电压或电流</li>
</ul></li>
<li>AC/AC变换器
<ul>
<li>用于变换交流电的等级和频率</li>
</ul></li>
</ul>
<h3 id="电力电子的概念">4. 电力电子的概念</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406071712093.png" alt="image-20240311170409638">
<figcaption aria-hidden="true">image-20240311170409638</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406071712094.png" alt="image-20240311170542168">
<figcaption aria-hidden="true">image-20240311170542168</figcaption>
</figure>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>西瓜粥</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo</title>
    <url>/2025/03/12/hexo/</url>
    <content><![CDATA[<h2 id="记录搭建博客出现的问题">记录搭建博客出现的问题</h2>
<h4 id="部分文章的图片不显示">1. 部分文章的图片不显示</h4>
<ul>
<li>路径问题，存图片的文件夹不能有空格</li>
</ul>
<h4 id="图片名称重复显示">2. 图片名称重复显示</h4>
<p><img src="/medias/loading.gif" data-original="/2025/03/12/hexo/image-20250312144548200.png"></p>
<p>​ 大概就是这样，然后F12查看代码</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/12/hexo/image-20250312144637255.png"></p>
<p>图片名显示两次（一次在 <code>alt</code>，一次在
<code>figcaption</code>）。</p>
<p>这里采用的方法是把在 <code>figcaption</code>的隐藏掉</p>
<p><strong>步骤</strong></p>
<ol type="1">
<li><p>打开
<code>themes/matery/layout/_partial/post-detail.ejs</code></p></li>
<li><p>在</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文章最开头直接复制</span><br></pre></td></tr></table></figure>
<p>里面添加：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">    <span class="selector-tag">figure</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="行外公式正确显示行内公式不行">3.
行外公式正确显示，行内公式不行</h4>
<ul>
<li><p>打开 Matery 主题的 <code>_config.yml</code></p></li>
<li><p>找到 <code>math</code> 相关配置</p>
<ul>
<li><p>```yaml mathjax: enable: true cdn:
https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">- 把这部分修改为：</span><br><span class="line"></span><br><span class="line">  - ```yaml</span><br><span class="line">    mathjax:</span><br><span class="line">      enable: true</span><br><span class="line">      cdn: https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js</span><br><span class="line">      options:</span><br><span class="line">        tex:</span><br><span class="line">          inlineMath: [[&quot;$&quot;, &quot;$&quot;], [&quot;\\(&quot;, &quot;\\)&quot;]]</span><br><span class="line">          displayMath: [[&quot;$$&quot;, &quot;$$&quot;], [&quot;\\[&quot;, &quot;\\]&quot;]]</span><br><span class="line">    </span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<p>​ 重新生成，正确显示</p>
<h4 id="超链接不显示存疑">4. 超链接不显示(存疑)</h4>
<p><strong>问题：</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/12/hexo/image-20250312150829669.png" alt="超链接显示问题">
<figcaption aria-hidden="true">超链接显示问题</figcaption>
</figure>
<p><strong>解决：</strong></p>
<ol type="1">
<li><p><strong>打开
<code>themes/matery/layout/_partial/post-detail.ejs</code></strong></p></li>
<li><p><strong>在 <code>&lt;/body&gt;</code> 之前，替换为以下 JavaScript
代码</strong>：</p></li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;articleContent&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (content) &#123;</span></span><br><span class="line"><span class="language-javascript">        content.<span class="property">innerHTML</span> = content.<span class="property">innerHTML</span>.<span class="title function_">replace</span>(</span></span><br><span class="line"><span class="language-javascript">            <span class="regexp">/\b(https?:\/\/[^\s&lt;]+)(?=\s|$)/g</span>, </span></span><br><span class="line"><span class="language-javascript">            <span class="string">&#x27;&lt;a href=&quot;$1&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;$1&lt;/a&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">        );</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="3" type="1">
<li><strong>保存后，重新生成博客</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p><strong>解决：</strong></p>
<p>​ 别直接cv链接，用</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[文章名](链接)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
  </entry>
  <entry>
    <title>【simulink】PI控制器</title>
    <url>/2025/02/26/cllc-pi-kong-zhi-qi/</url>
    <content><![CDATA[<h2 id="simulinkpi控制器">【simulink】PI控制器</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/26/cllc-pi-kong-zhi-qi/image-20250226151246541.png" alt="PI控制器">
<figcaption aria-hidden="true">PI控制器</figcaption>
</figure>
<h4 id="fr不好说了还有说是电压增益">1.Fr（不好说了，还有说是电压增益）</h4>
<p><strong>定义</strong></p>
<p>fr通常表示<strong>基准频率</strong>，通常对应CLLC谐振变换器的固有谐振频率，在控制系统中，可能以<strong>归一化值表示</strong>，来简化数值计算</p>
<p><strong>作用</strong></p>
<ul>
<li><strong>频率调节基准</strong>：首先明确，闭环控制的最终目的是通过调节开关频率f_sw使输出电压跟踪参考值。
<ul>
<li>f_sw = fr CLLC工作在谐振点，增益为1</li>
<li>f_sw &gt; fr CLLC增益下降（降压模式）</li>
<li>f_sw &lt; fr CLLC增益上升（升压模式）</li>
</ul></li>
</ul>
<h5 id="还记得为啥是这个关系吗">还记得为啥是这个关系吗</h5>
<ul>
<li>当开关频率大于固有频率
<ul>
<li>这时候感性阻抗占主导，电流相位滞后于电压，导致谐振腔等效阻抗升高，感性阻抗会分压，使得输出电压低于输入电压，进入降压模式</li>
</ul></li>
<li>当开关频率小于固有频率
<ul>
<li>这时容性阻抗占主导，电流相位超前于电压，导致谐振腔等效阻抗降低，容性阻抗分压减小，输出电压高于输入电压，进入升压模式</li>
</ul></li>
</ul>
<p><strong>这里还得额外说一下</strong></p>
<p><strong>首先，啥时候是感抗，啥时候是容抗</strong></p>
<p>CLLC的谐振腔是由谐振电感电容组成的，其阻抗为 <span class="math display">\[
Z_{res}=j\omega L_r+\frac{1}{j\omega C_r}=j\left(\omega
L_r-\frac{1}{\omega C_r}\right)
\]</span> 这里虚部符号决定了阻抗的性质，正为感性，负为容性，</p>
<p>此外这个<span class="math inline">\(w\)</span>，跟开关频率有关，<span class="math inline">\(w=2πfsw\)</span></p>
<p>而对于固有频率 <span class="math display">\[
f_r=\frac{1}{2\pi\sqrt{L_rC_r}}
\]</span> 带进去即可得到这样的关系</p>
<ul>
<li><strong>PI控制器的叠加</strong>
<ul>
<li>PI控制器的输出是一个频率偏移量，叠加到f<sub>r</sub>上形成最终的开关频率指令</li>
<li><span class="math display">\[f_sw = △f + fr\]</span></li>
</ul></li>
</ul>
<h4 id="后面这部分为啥用减法器而不是加法器">2.
后面这部分，为啥用减法器而不是加法器</h4>
<p>首先，这部分的输出是一个<strong>工作频率</strong><span class="math inline">\(f_{sw}=f_r-\text{PI输出值}\)</span></p>
<p>当电压误差增大时，PI输出值增加，导致开关频率降低，增益升高，拉回输出电压至目标值</p>
<p><strong>为啥是减法器呢</strong></p>
<ul>
<li>频率降低----&gt;增益升高，输出电压上升</li>
</ul>
<p>这玩意是反着的，你误差变大，pi输出变大，再加，频率也加，那就寄了</p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>simulink</tag>
        <tag>PI</tag>
      </tags>
  </entry>
  <entry>
    <title>02 电力电子器件</title>
    <url>/2024/06/07/2.dian-li-dian-zi-qi-jian/</url>
    <content><![CDATA[<h2 id="电力电子器件">2. 电力电子器件</h2>
<h3 id="功率半导体器件概述">2.1 功率半导体器件概述</h3>
<ul>
<li>种类多， 用作电力电子设备中的开关或整流的半导体器件，
也称为功率器件， 功率IC</li>
<li>功率范围广 uw~MW</li>
<li>工作模式：
<ul>
<li>整流：用于让电流只往一个方向流动</li>
<li>放大 用于放大电子信号</li>
<li>开关：用于控制电力的导通和关断</li>
<li>功率半导体器件多用于整流和开关， 极少用于放大， 为了降低损耗</li>
</ul></li>
<li>开关特性：
<ul>
<li>导通时， 阻抗很小， 接近于短路，管压降接近于0 电流由外电路决定</li>
<li>阻断时， 阻抗很大， 接近于开路， 电流几乎为0
而罐子两端电压由外电路决定</li>
<li>导通关断瞬间将产生较大功率</li>
<li>分析电路稳态的时候不会考虑开通和关断的损耗问题（用理想开关替代）</li>
<li>当器件的选型， 散热能不能达到要求， 考虑开通和关断的过程</li>
</ul></li>
<li>耗散功率大
<ul>
<li>耗散功率大， 通常需要配备额外冷却装置</li>
<li>当前攻略半导体器件热量的设计是优化的关键因素之一
<ul>
<li>自然冷却</li>
<li>强制风冷</li>
<li>水冷</li>
<li>热管冷却</li>
<li>强制风冷</li>
<li>混合冷却</li>
</ul></li>
</ul></li>
</ul>
<h3 id="功率二极管power-diode">2.2 功率二极管Power Diode</h3>
<h4 id="pn结原理介绍">2.2.1 PN结原理介绍</h4>
<p>**二极管， P接+，N接-则导通</p>
<p>PN结， P接电源正极， N接电源负极， 抵消里面的势垒层，
电子源源不断的从外部电路进入到N区， P区， 再回到外部电路， 导通</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730533.png" alt="image-20240312161534252">
<figcaption aria-hidden="true">image-20240312161534252</figcaption>
</figure>
<p>遇到的那俩绿色的就是共价键， 自由电子就是往外跑的那个
剩下的坑是空穴</p>
<p><strong>N掺杂</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730534.png" alt="image-20240312161634773">
<figcaption aria-hidden="true">image-20240312161634773</figcaption>
</figure>
<ul>
<li>掺杂价电子为5的磷</li>
<li>有一个电子可在其中自由移动</li>
</ul>
<p><strong>P掺杂</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730535.png" alt="image-20240312161844090">
<figcaption aria-hidden="true">image-20240312161844090</figcaption>
</figure>
<ul>
<li>掺杂价电子为3的铝;</li>
<li>有一个可放置电子的空穴;</li>
<li>相邻电子可随时填上，电子运动即空穴相对运动;<strong>空穴是不会动的，
动的是自由电子</strong></li>
</ul>
<p><strong>PN结</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730536.png" alt="image-20240312162042127">
<figcaption aria-hidden="true">image-20240312162042127</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730537.png" alt="image-20240312163038904">
<figcaption aria-hidden="true">image-20240312163038904</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730538.png" alt="image-20240312163527966">
<figcaption aria-hidden="true">image-20240312163527966</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730539.png" alt="image-20240312164347765">
<figcaption aria-hidden="true">image-20240312164347765</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730540.png" alt="image-20240312164445659">
<figcaption aria-hidden="true">image-20240312164445659</figcaption>
</figure>
<p>势垒区随着电压的增大不断抵消，最终消失</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730541.png" alt="image-20240312164550299">
<figcaption aria-hidden="true">image-20240312164550299</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730542.png" alt="image-20240312164700114">
<figcaption aria-hidden="true">image-20240312164700114</figcaption>
</figure>
<p>这里反向饱和电流的产生主要是因为空穴发生了漂移运动</p>
<h5 id="两种击穿">2.2.1.2 两种击穿</h5>
<ul>
<li><strong>雪崩击穿</strong> --撞出来了
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730543.png" alt="image-20240312165123268">
<figcaption aria-hidden="true">image-20240312165123268</figcaption>
</figure></li>
</ul></li>
<li>齐纳击穿--拉出来的
<ul>
<li><img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730544.png" alt="image-20240312165255229"></li>
</ul></li>
</ul>
<h5 id="电容">2.2.1.3 电容</h5>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730545.png" alt="image-20240312165521715">
<figcaption aria-hidden="true">image-20240312165521715</figcaption>
</figure>
<h4 id="功率二极管的引出">2.2.2 功率二极管的引出</h4>
<p>​ 通过在两个重掺杂的P+和N+层之间引入所需厚度的轻掺杂N-"漂移层(drift
layer)”以解决功率二极管需求的矛盾。</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730546.png" alt="image-20240313150952843">
<figcaption aria-hidden="true">image-20240313150952843</figcaption>
</figure>
<p>增加了N-的影响：</p>
<ul>
<li>提高耐压</li>
<li>通态压降升高</li>
<li>结电容増加</li>
</ul>
<p><strong>结构</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730547.png" alt="image-20240313151245570">
<figcaption aria-hidden="true">image-20240313151245570</figcaption>
</figure>
<p><strong>符号</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730548.png" alt="image-20240313151315256">
<figcaption aria-hidden="true">image-20240313151315256</figcaption>
</figure>
<p>A是阳极， k是阴极， 电流指向阴极，</p>
<h4 id="功率二极管的静态特性-体现器件最基本的电压与电流稳态特性伏安特性">2.2.3
功率二极管的静态特性-体现器件最基本的电压与电流稳态特性（伏安特性）</h4>
<p><strong>反向偏置</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730549.png" alt="image-20240313152855121">
<figcaption aria-hidden="true">image-20240313152855121</figcaption>
</figure>
<p>从右往左看</p>
<p><strong>几个参数</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730550.png" alt="image-20240313153034186">
<figcaption aria-hidden="true">image-20240313153034186</figcaption>
</figure>
<h5 id="正向偏置">2.2.3.2 正向偏置</h5>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730551.png" alt="image-20240313153520745">
<figcaption aria-hidden="true">image-20240313153520745</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730552.png" alt="image-20240313154032153">
<figcaption aria-hidden="true">image-20240313154032153</figcaption>
</figure>
<h4 id="功率二极管的动态特性开关特性">2.2.4
功率二极管的动态特性（开关特性）</h4>
<ul>
<li>动态过程中可伴随过电压或过电流的产生</li>
<li>器件开关过程中， 电压和电流可同时存在，
动态过程与器件的能量损耗有关</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730553.png" alt="image-20240313154153681">
<figcaption aria-hidden="true">image-20240313154153681</figcaption>
</figure>
<p><img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730554.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730555.png" alt="image-20240313154637730">
<figcaption aria-hidden="true">image-20240313154637730</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730556.png" alt="image-20240313154921323">
<figcaption aria-hidden="true">image-20240313154921323</figcaption>
</figure>
<p>二极管仍然有电流通过， 电压保持不变</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730557.png" alt="image-20240313155031690">
<figcaption aria-hidden="true">image-20240313155031690</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730558.png" alt="image-20240313155058731">
<figcaption aria-hidden="true">image-20240313155058731</figcaption>
</figure>
<h5 id="功率二极管的分类">2.2.3 功率二极管的分类</h5>
<ul>
<li>功率二极管似乎只是用于处理比信号二极管更大的电流和电压。理想情况，
它允许电流在一个方向(阳极到阴极)上流过它的两端，并阻止电流在另一
个方向(阴极到阳极)上流过它。</li>
<li>事实上，半导体物理学和当前工艺阻止了理想二极管”的诞生，现实功率
二极管只能按照不同的性能参数制造，以满足不同的应用场合。</li>
<li>功率二极管包括常规、快恢复和超快恢复PN结二极管，以及肖特基势垒二极
管。各类型都有不同的特点。</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730559.png" alt="image-20240313203735710">
<figcaption aria-hidden="true">image-20240313203735710</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730560.png" alt="image-20240313204107043">
<figcaption aria-hidden="true">image-20240313204107043</figcaption>
</figure>
<h3 id="双极结型晶体管bjt">2.3 双极结型晶体管—BJT</h3>
<h4 id="三极管npn原理">2.3.1 三极管NPN原理</h4>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730561.png" alt="image-20240313204429409">
<figcaption aria-hidden="true">image-20240313204429409</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730562.png" alt="image-20240313204505451">
<figcaption aria-hidden="true">image-20240313204505451</figcaption>
</figure>
<p>同方向的是增强， 不同方向的减弱</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730563.png" alt="image-20240314152843968">
<figcaption aria-hidden="true">image-20240314152843968</figcaption>
</figure>
<p>NPN结 ，N是发射极， P为基极， N为集电极</p>
<p>控制里面的那个电压， 增大它，
会有更多的电子从n到p，那么会有更多的电子到n， 实现放大</p>
<p>β=集电极电流比基极电流， β是放大倍数</p>
<h4 id="功率bjt引出">2.3.2 功率BJT引出</h4>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730564.png" alt="image-20240314193442888">
<figcaption aria-hidden="true">image-20240314193442888</figcaption>
</figure>
<p>往外的是NPN型</p>
<p>这玩意，中间的是基极B， 有箭头的是E，发射极， 剩下的是集电极C</p>
<h4 id="功率bjt的静态特性">2.3.3 功率BJT的静态特性</h4>
<p>对于三极管而言， 在电力电子中主要用在它的截止区跟饱和区，
在截止区，电压很大没有电流，相当于断路，
在饱和区电流很大，电压很小，，而在放大区， 既有电压又有电流pass</p>
<p>输入特性： VCE Vbe与ib之间的关系</p>
<p><img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730565.png"></p>
<p>输出特性：I B 一定， Ic跟Vce之间的关系</p>
<h4 id="功率bjt的动态特性">2.3.4 功率BJT的动态特性</h4>
<h3 id="晶闸管-triac与gto">2.4 晶闸管， Triac与GTO</h3>
<h4 id="晶闸管的引出及pnpn结">2.4.1 晶闸管的引出及PNPN结</h4>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730566.png" alt="image-20240314212429792">
<figcaption aria-hidden="true">image-20240314212429792</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730567.png" alt="image-20240314213006752">
<figcaption aria-hidden="true">image-20240314213006752</figcaption>
</figure>
<h4 id="晶闸管的引出及pnpn结-1">2.4.2 晶闸管的引出及PNPN结</h4>
<h4 id="triac及其特性双向晶闸管">2.4.3 TRIAC及其特性（双向晶闸管）</h4>
<h4 id="gto及其特性">2.4.4 GTO及其特性</h4>
<h3 id="功率mosfet">2.5 功率MOSFET</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406101730568.png" alt="image-20240314213603106">
<figcaption aria-hidden="true">image-20240314213603106</figcaption>
</figure>
<h3 id="igbt">2.6 IGBT</h3>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>西瓜粥</tag>
      </tags>
  </entry>
  <entry>
    <title>【simulink】VCO</title>
    <url>/2025/02/27/cllc-vco/</url>
    <content><![CDATA[<h2 id="simulinkvco">【simulink】VCO</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227150215222.png" alt="VCO">
<figcaption aria-hidden="true">VCO</figcaption>
</figure>
<p>都tm长这样</p>
<h4 id="积分模块-integrator">1.积分模块 Integrator</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227153717442.png" alt="长这b样">
<figcaption aria-hidden="true">长这b样</figcaption>
</figure>
<p>恒明显，长的不一样，可以开始改设置了（双击）</p>
<h5 id="外部重置">外部重置</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227153859360.png" alt="外部重置">
<figcaption aria-hidden="true">外部重置</figcaption>
</figure>
<p><strong>作用：</strong>除无以外的外部条件后，积分器将增加<strong>第二个输入端口</strong></p>
<p>这里用的是<strong>上升沿</strong>，这玩意的意思就是说，给我一个重置信号，然后这个信号<strong>从负值或0上升到正时</strong>重置状态</p>
<p>比如我这里有个矩阵波，_|—|__|—| 就像这个，</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227154430791.png" alt="看这个，上面是波，下面的输出">
<figcaption aria-hidden="true">看这个，上面是波，下面的输出</figcaption>
</figure>
<p>然后他就变成了这样</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227154530387.png" alt="一次进化">
<figcaption aria-hidden="true">一次进化</figcaption>
</figure>
<h5 id="初始条件">初始条件</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227154613908.png" alt="初始条件">
<figcaption aria-hidden="true">初始条件</figcaption>
</figure>
<p>初始条件选外部，又多了个输入，x0</p>
<ul>
<li>选择内部，则显示初始条件对话框，在对话框内指定积分初始值；</li>
<li>选择外部则增加一个x_0输入端口用来指定积分初始值，同时初始条件对话框消失。</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227155031779.png" alt="二次进化!">
<figcaption aria-hidden="true">二次进化!</figcaption>
</figure>
<h5 id="限制输出">限制输出</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250227155103097.png" alt="搞不懂">
<figcaption aria-hidden="true">搞不懂</figcaption>
</figure>
<p>inf~是无穷，看不懂，脱了裤子放屁？AI说是，看似无用，实则策略，</p>
<p>没有进化</p>
<h5 id="显示状态端口">显示状态端口</h5>
<ul>
<li>一般情况下，状态端口的输出与模块的标准输出端口的输出相同，只能用于中断代数环或在系统之间
"传递" 状态。</li>
<li>如果在当前时间步重置模块，则状态端口的输出为模块尚未重置时在模块的标准输出中显示的值。</li>
</ul>
<p>这里区分一下这个常规输出</p>
<p>​ 比如有一个银行账户，每天凌晨自动计算利息并更新余额</p>
<ul>
<li><strong>状态端口：</strong>
随时可以查看当前的余额（截止到昨晚24点的余额）</li>
<li><strong>常规输出：</strong>银行计算利息后生成的明日新余额（今天24点菜1生效）</li>
</ul>
<p>​
积分器的输出本质上是<strong>系统状态变量的时间积分结果</strong>。状态端口直接暴露的是积分器内部存储的<strong>当前时刻状态值</strong>（即积分结果），而常规输出端口是<strong>下一时刻的状态值</strong>（积分结果的更新版本）</p>
<p><strong>再举个例子，汽车运动建模</strong></p>
<ul>
<li>系统方程：<span class="math display">\[x(t)=∫v（t）dt\]</span></li>
<li><strong>状态端口：</strong>直接暴露当前时刻<span class="math inline">\(t\)</span>的位置<span class="math inline">\(x(t)\)</span></li>
<li><strong>常规输出：</strong>根据当前速度<span class="math inline">\(v(t)\)</span>预测下一时刻<span class="math inline">\(t+△t\)</span>的位置<span class="math inline">\(x（t+△t）\)</span></li>
</ul>
<p>在仿真中，假设仿真时间从时间<code>t=10秒</code>到<code>t=11秒</code></p>
<table>
<thead>
<tr>
<th>时间</th>
<th>状态端口值</th>
<th>常规输出值</th>
<th>物理意义</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>t=10s</code></td>
<td><code>x(10)</code>（实际值）</td>
<td><code>x(11)</code>（预测值）</td>
<td>当前vs下一时刻位置</td>
</tr>
</tbody>
</table>
<p><strong>反馈是基于当前状态控制而非依赖未发生的未来值</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/def10d8641f9ddce3c2f5363bdfe51ae.png">每次输出值到达2时下一采样时刻都会复位到0重新开始积分。并且随着仿真时间量的增大,积分值达到2所需要的时间越来越短。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304133829722.png" alt="究极进化">
<figcaption aria-hidden="true">究极进化</figcaption>
</figure>
<h4 id="compare-to-constant1模块">2. Compare To Constant(&gt;1模块)</h4>
<p>​ 状态端口输出到俩地方，首先就是这玩意，</p>
<ul>
<li><strong>输入：</strong>积分器的当前输出值</li>
<li><strong>作用：</strong>实时比较积分器的输出值与常数1
<ul>
<li>当积分器输出&gt;1时，<strong>输出高电平</strong></li>
<li>否则<strong>输出低电平</strong></li>
</ul></li>
<li><strong>用于触发积分器复位</strong></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304135354081.png" alt="速速重开">
<figcaption aria-hidden="true">速速重开</figcaption>
</figure>
<h4 id="bias">3. bias</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304135435571.png" alt="减去偏置">
<figcaption aria-hidden="true">减去偏置</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304135455216.png" alt="参数">
<figcaption aria-hidden="true">参数</figcaption>
</figure>
<h4 id="ic">4. IC</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304140512662.png" alt="IC">
<figcaption aria-hidden="true">IC</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304140524557.png" alt="模块参数">
<figcaption aria-hidden="true">模块参数</figcaption>
</figure>
<p>3跟4结合起来作为积分器的初始条件x（0）</p>
<ul>
<li><strong>IC模块接在Bias后</strong>：实现积分器初始条件的动态更新，使每次复位后积分起点由Bias计算结果决定</li>
</ul>
<p><strong>静态初始条件（IC=固定值）：</strong></p>
<p>​ 每次复位后，积分器均从固定值（如图中的0）开始，生成标准锯齿波</p>
<p>三跟四哩，就给积分器生成了周期性的锯齿波，流程如下：</p>
<ul>
<li><strong>1.首次积分:</strong>
<ul>
<li>IC模块初始值 = 0 → 积分器从0开始积分。</li>
</ul></li>
<li><strong>2.首次复位：</strong>
<ul>
<li>积分器输出达到1.0 → 比较器触发复位。</li>
<li>Bias模块计算新初始值 = 1.0 -1 = 0 → IC模块将初始值更新为0。</li>
<li>积分器重新从0开始积分，形成锯齿波（0→1→0→1…）。</li>
</ul></li>
<li><strong>特殊情况：</strong>若积分器复位前输出为1.2：
<ul>
<li>新初始值 = 1.2 -1 = 0.2 →
下一周期从0.2开始积分，直到再次超过1。</li>
<li>此时波形为0.2→1→0.2→1…，频率仍由输入电压控制。</li>
</ul></li>
</ul>
<p>此时x0端口的输入为：</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304141252928.png" alt="这俩模块的输出波">
<figcaption aria-hidden="true">这俩模块的输出波</figcaption>
</figure>
<h4 id="vco输出">5. VCO输出</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/27/cllc-vco/image-20250304141541977.png" alt="输出这玩意">
<figcaption aria-hidden="true">输出这玩意</figcaption>
</figure>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>simulink</tag>
        <tag>CLLC</tag>
      </tags>
  </entry>
  <entry>
    <title>【simulink】PWM</title>
    <url>/2025/03/04/cllc-pwm-sheng-cheng-qi/</url>
    <content><![CDATA[<h2 id="simulinkpwm">【simulink】PWM</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304152717270.png" alt="PWM模块">
<figcaption aria-hidden="true">PWM模块</figcaption>
</figure>
<p>​
变频是在VCO里完成的，这里哩就是产生变频的占空比固定（0.5）的PWM波</p>
<h4 id="产生波">1. 产生波</h4>
<p>​ VCO产生锯齿波，然后跟0.5比，大于0.5为高电平，小于0.5为低电平，</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304155706119.png" alt="Re~Op的结果">
<figcaption aria-hidden="true">Re~Op的结果</figcaption>
</figure>
<h4 id="data-type-conversion模块">2. Data Type Conversion模块</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304160449208.png" alt="Data">
<figcaption aria-hidden="true">Data</figcaption>
</figure>
<p>​ 前面的方波的输出是逻辑电平，0/1也就是布尔类型，而后面的Transport
Delay（传输延迟）、AND逻辑等模块通常需要
<strong>双精度浮点数（double）</strong>
作为输入。所以加个这玩意改变一下数据类型</p>
<p>​
这里其实也就是<strong>0---&gt;0.0</strong>以及<strong>1---&gt;1.0</strong>，仅改变数据类型，不改变信号逻辑值</p>
<h4 id="transport-delay">3. Transport Delay</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304161230214.png" alt="死区时间">
<figcaption aria-hidden="true">死区时间</figcaption>
</figure>
<table>
<colgroup>
<col style="width: 23%">
<col style="width: 18%">
<col style="width: 58%">
</colgroup>
<thead>
<tr>
<th style="text-align: center;"><strong>参数项</strong></th>
<th><strong>设定值</strong></th>
<th><strong>物理意义</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><strong>时滞</strong></td>
<td><code>100e-9</code>秒（100ns）</td>
<td>信号延迟时间，需大于开关管关断时间（如MOSFET的关断延迟+体二极管反向恢复时间）。</td>
</tr>
<tr>
<td style="text-align: center;"><strong>初始输出</strong></td>
<td><code>0</code></td>
<td>仿真开始时模块输出为0，避免初始阶段误触发驱动信号。</td>
</tr>
<tr>
<td style="text-align: center;"><strong>初始缓冲区大小</strong></td>
<td><code>1024</code></td>
<td>预分配内存存储历史信号数据，确保延迟计算的稳定性（<strong>一般无需修改</strong>）。</td>
</tr>
<tr>
<td style="text-align: center;"><strong>使用固定缓冲区大小</strong></td>
<td>勾选</td>
<td>禁止仿真中动态调整缓冲区，提升运行效率。</td>
</tr>
<tr>
<td style="text-align: center;"><strong>Pade阶（用于线性化）</strong></td>
<td><code>0</code></td>
<td>禁用Pade近似，保持精确的非线性延迟（适合开关电源仿真）。</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>信号流示例：</strong>
<ul>
<li><strong>原始PWM波</strong>（S1驱动信号）：
<ul>
<li><code>0→1→0→1...</code></li>
<li><code>0→（延迟100ns）→1...</code></li>
</ul></li>
<li><strong>互补信号生成</strong>
<ul>
<li>S1驱动信号：原PWM波延迟100ns →
<code>[0→延迟→1→延迟→0...]</code></li>
<li>S4驱动信号：原PWM波取反后延迟100ns →
<code>[1→延迟→0→延迟→1...]</code></li>
</ul></li>
</ul></li>
<li><strong>死区生成效果</strong>
<ul>
<li>S1和S4的驱动信号在跳变沿之间存在100ns的重叠低电平区（死区），完全消除直通风险</li>
</ul></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304162125397.png" alt="死区效果">
<figcaption aria-hidden="true">死区效果</figcaption>
</figure>
<h4 id="and">4. AND</h4>
<p>​ 首先要明确AND的功能</p>
<h5 id="死区时间的生成原理"><strong>(1) 死区时间的生成原理</strong></h5>
<ul>
<li><p><strong>目标</strong>：在S14和S23的跳变沿之间插入100ns低电平区间（死区）。</p></li>
<li><p><strong>实现逻辑：</strong></p>
<p>只有当<strong>原始信号</strong>和
<strong>延迟后的信号</strong>同时为高电平 时，AND门才输出高电平。</p>
<p><strong>效果：</strong></p>
<ul>
<li>每个跳变沿（上升沿或下降沿）后，原始信号与延迟信号存在100ns的不同步。</li>
<li>AND操作将高电平持续时间缩短100ns，形成死区窗口。</li>
</ul></li>
</ul>
<h5 id="具体波形示例"><strong>(2) 具体波形示例</strong></h5>
<p>假设原始方波为50%占空比（高电平10μs，低电平10μs，频率50kHz）：</p>
<ul>
<li><strong>路径A（直接通道）</strong>：立即跟随原始方波。</li>
<li><strong>路径B（延迟通道）</strong>：原始方波延迟100ns后到达AND门。</li>
<li><strong>AND输出（S14）</strong>
<ul>
<li>仅当两路信号均为高电平时输出高电平。</li>
<li><strong>高电平持续时间</strong> = 原始高电平时间 - 延迟时间 = 10μs -
100ns = 9.9μs。</li>
<li><strong>死区效果</strong>：在原始方波下降沿后的100ns内，AND输出保持低电平。</li>
</ul></li>
</ul>
<p><strong>一个自我误区</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/04/cllc-pwm-sheng-cheng-qi/image-20250304164519330.png" alt="误区">
<figcaption aria-hidden="true">误区</figcaption>
</figure>
<p>（黄色是A，蓝色是B）<strong>死区时间是100ns而不是200ns</strong>，别看两个波的前后比，而是单个波</p>
<ul>
<li><p><strong>原始信号（A）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">高电平时间：0μs→10μs  </span><br><span class="line">低电平时间：10μs→20μs  </span><br></pre></td></tr></table></figure></li>
<li><p><strong>延迟信号（B = A延迟100ns）</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">高电平时间：0.1μs→10.1μs  </span><br><span class="line">低电平时间：10.1μs→20.1μs  </span><br></pre></td></tr></table></figure></li>
<li><p><strong>AND输出（A AND B）</strong>：
仅当A和B同时为高时输出高电平，因此高电平区间为
​<strong>0.1μs→10μs</strong>，持续时间为 ​<strong>9.9μs</strong>。
​<strong>高电平减少量</strong>​ = 原始高电平时间（10μs） -
AND输出高电平时间（9.9μs） =
​<strong>100ns</strong>​（而非200ns）</p></li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>simulink</tag>
        <tag>CLLC</tag>
      </tags>
  </entry>
  <entry>
    <title>【LLC变换器设计基础】第一节 谐振腔分类 等效负载和串联谐振</title>
    <url>/2024/06/13/llc-bian-huan-qi-she-ji-ji-chu-di-yi-jie-xie-zhen-qiang-fen-lei-deng-xiao-fu-zai-he-chuan-lian-xie-zhen/</url>
    <content><![CDATA[<h1 id="llc变换器设计基础第一节-谐振腔分类-等效负载和串联谐振">【LLC变换器设计基础】第一节
谐振腔分类 等效负载和串联谐振</h1>
<h4 id="谐振腔分类">1.谐振腔分类</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/13/llc-bian-huan-qi-she-ji-ji-chu-di-yi-jie-xie-zhen-qiang-fen-lei-deng-xiao-fu-zai-he-chuan-lian-xie-zhen/image-20240613100012343.png" alt="image-20240613100012343">
<figcaption aria-hidden="true">image-20240613100012343</figcaption>
</figure>
<p>​ 串联 并联（不是那种L与C并到一块的） LCC LLC</p>
<h4 id="等效负载计算">2.等效负载计算</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/13/llc-bian-huan-qi-she-ji-ji-chu-di-yi-jie-xie-zhen-qiang-fen-lei-deng-xiao-fu-zai-he-chuan-lian-xie-zhen/image-20240613100817623.png" alt="image-20240613100817623">
<figcaption aria-hidden="true">image-20240613100817623</figcaption>
</figure>
<p>​
副边，谐振腔等效为电流源，电流波形为Ip正弦，整流桥的电压波形为Eo，电流经过全波整流之后变成馒头波Ip，滤波之后的平均值为Io
<span class="math display">\[
i_{0}=\frac{2}{\pi}i_{p}=\frac{2\sqrt{2}}{\pi}i_{\mathrm{ac}}(rms)
\]</span> 把这个倒过来就可以得到 Iac（rms） <span class="math display">\[
I_{ac}(rms)\quad=\quad\frac{\pi}{2\sqrt{2}}\quad
\]</span> ​
Eo为方波信号的最大值，那么对于峰值电压Eac_p。对于一个方波电压，其等效正弦波的峰值电压是方波最大值Eo
的倍数。这倍数由傅里叶级数的第一项决定，即方波的基波成分。基波成分的峰值是方波峰值的4/π倍
<span class="math display">\[
E_{ac_p}=\frac4\pi E_o
\]</span> 等效正弦波的有效值是其峰值的1/根号2 倍： <span class="math display">\[
E_{ac}(rms)\quad=\quad\frac{2\sqrt{2}}\pi E_o
\]</span> 等效电阻Rac <span class="math display">\[
R_{ac}=\frac{E_{ac}(rms)}{I_{ac}(rms)}\quad=\frac{8}{\pi^{2}}\frac{E_{0}}{I_{0}}=\frac{8}{\pi^{2}}R_{L}
\]</span>
<strong>在并联的情况下，比如电容并到变压器的两段，LCC。视为电压驱动，</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/13/llc-bian-huan-qi-she-ji-ji-chu-di-yi-jie-xie-zhen-qiang-fen-lei-deng-xiao-fu-zai-he-chuan-lian-xie-zhen/image-20240613103623395.png" alt="image-20240613103623395">
<figcaption aria-hidden="true">image-20240613103623395</figcaption>
</figure>
<h4 id="串联谐振">3.串联谐振</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/13/llc-bian-huan-qi-she-ji-ji-chu-di-yi-jie-xie-zhen-qiang-fen-lei-deng-xiao-fu-zai-he-chuan-lian-xie-zhen/image-20240613143610199.png" alt="image-20240613143610199">
<figcaption aria-hidden="true">image-20240613143610199</figcaption>
</figure>
<ul>
<li>在串联谐振里， DCgain=ACgain，在谐振点处为1</li>
<li>在谐振点的时候，输入进来就输出出去了</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>硬核博士老J</tag>
        <tag>LLC</tag>
      </tags>
  </entry>
  <entry>
    <title>【LLC变换器设计基础】第三节 ZCS并联谐振LLC的谐振分析Q品质因数的正解</title>
    <url>/2024/06/21/llc-bian-huan-qi-she-ji-ji-chu-di-san-jie-zcs-bing-lian-xie-zhen-llc-de-xie-zhen-fen-xi-q-pin-zhi-yin-shu-de-zheng-jie/</url>
    <content><![CDATA[<h1 id="llc变换器设计基础第三节-zcs并联谐振llc的谐振分析q品质因数的正解">【LLC变换器设计基础】第三节
ZCS|并联谐振|LLC的谐振分析|Q品质因数的正解</h1>
<h4 id="zcs的理解">1.ZCS的理解</h4>
<p>​
对于MOSFET而言，ZCS用的比较少，ZVS会比较多，那么ZCS会用在IGBT里面比较多，IGBT在关断的时候有个拖尾的现象，所以有较大的关断损耗</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/llc-bian-huan-qi-she-ji-ji-chu-di-san-jie-zcs-bing-lian-xie-zhen-llc-de-xie-zhen-fen-xi-q-pin-zhi-yin-shu-de-zheng-jie/image-20240621215559332.png"></p>
<p>​ 电容模式，电流超前电压，再这个位置<img src="/medias/loading.gif" data-original="/2024/06/21/llc-bian-huan-qi-she-ji-ji-chu-di-san-jie-zcs-bing-lian-xie-zhen-llc-de-xie-zhen-fen-xi-q-pin-zhi-yin-shu-de-zheng-jie/image-20240621215644838.png" alt="image-20240621215644838">之前，都是Q1在导通，然后电流反向了，Q1关断，实现ZCSOFF。这时候下面的IGBT还没导通，但是电流反向了呀，所以只能通过D1（上管的反向二极管)，直到下管导通的时候，电流走下管了，那么把下管关断，就会从下管的D2续流，实现ZCSOFF</p>
<p><strong>开通挑战</strong>：容性模式下实现零电流开通较为困难，因为电流超前电压，开关器件开通时电流可能不为零，导致开通损耗增加</p>
<p>这里出现出入，实现ZCS应该也是在感性状态下的</p>
<h4 id="并联谐振">2. 并联谐振</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/llc-bian-huan-qi-she-ji-ji-chu-di-san-jie-zcs-bing-lian-xie-zhen-llc-de-xie-zhen-fen-xi-q-pin-zhi-yin-shu-de-zheng-jie/image-20240621220449704.png" alt="并联谐振">
<figcaption aria-hidden="true">并联谐振</figcaption>
</figure>
<p>​ <strong>是说跟这个负载的并联，不是L跟C并联</strong></p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>硬核博士老J</tag>
        <tag>LLC</tag>
        <tag>ZCS</tag>
      </tags>
  </entry>
  <entry>
    <title>【OBC】背景</title>
    <url>/2024/12/03/obc-chang-jing/</url>
    <content><![CDATA[<h1 id="obc背景">OBC背景</h1>
<h3 id="常规的充电方式">常规的充电方式</h3>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">电流：水流的量。 决定充电速度，电流越大充电越快</span><br><span class="line">电压：水流的压力。 决定电池是否可以接受电流，电压越高，电池能接收更多的电流</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>恒流充电</strong>(cc)
<ul>
<li><strong>水流量固定</strong>，开始注水时，水桶空的，水压较低，水流很容易进入，随着水位升高，水桶内部压力增加，水流的压力也需要增加才能灌水</li>
<li><strong>电流大小固定不变</strong>，充电初期，电池电压较低，充电速度较快，冲到一定电压时，电池的电压会逐渐增高，但充电电流保持不变，可能会导致过充，尤其是快充满的时候</li>
</ul></li>
<li><strong>恒压充电</strong>（cv）
<ul>
<li>这次的水管可以固定水压，<strong>水压始终保持恒定</strong>，一开始水流量很大，随着水位上升，水压趋近，水流量减小</li>
<li><strong>恒压输出</strong>，电池电压接近充电器设定的电压，电流会逐渐减少，防止过充</li>
</ul></li>
<li><strong>恒流恒压充电</strong>（CC-CV)
<ul>
<li><strong>初期阶段</strong>：充电开始时，电流保持固定，快速充电</li>
<li><strong>接近满电</strong>：电流开始减小，保持恒定的电压，电流逐渐减小，以保持电池电压在安全范围内</li>
</ul></li>
</ul>
<blockquote>
<p>但需要注意这并不是恒功率，恒流的时候，I不变，V变大，P增大，恒压相反</p>
</blockquote>
<h3 id="锂电池充电三阶段">锂电池充电三阶段</h3>
<ul>
<li><strong>涓流充电</strong>
<ul>
<li>通常用于<strong>深度放电后的电池</strong>，或为了防止电池过度放电而保持电池电量</li>
<li>在这一阶段，电池会以很小的电流进行充电，比如使用10%额定值的恒定电流</li>
</ul></li>
<li><strong>大容量充电</strong>
<ul>
<li>充电主要阶段，以<strong>较大的恒定电流</strong>对电池充电，直到电池的电压接近最大值</li>
<li><strong>输出电压增加</strong>，<strong>电流恒定</strong></li>
</ul></li>
<li><strong>恒压充电</strong>
<ul>
<li>当电池的电压接近额定电压时，维持电池的电压在一个固定值，并通过减小充电电流来防止过充</li>
<li>这个阶段内，<strong>电压不变</strong>，<strong>电流逐渐减小</strong>，直到接近0，充电完成</li>
</ul></li>
</ul>
<p><a href="https://www.powerlandtech.com/cn"><img src="/medias/loading.gif" data-original="/2024/12/03/obc-chang-jing/logo1-1723790061202-3.png" alt="Powerland logo"></a></p>
<p><a href="https://www.powerlandtech.com/cn/product-detail/138">6.6kW双向车载OBC-博兰得电子
(powerlandtech.com)</a></p>
<p>后级dcdc。。输入电压280V~500V 500V~750V，输出电压13.5V-14.5V</p>
<p><a href="https://www.ti.com.cn/cn/lit/an/zhcac01/zhcac01.pdf?ts=1699183331222&amp;ref_url=https%3A%2F%2Fwww.ti.com.cn%2Fproduct%2Fcn%2FUCC5350-Q1">OBC
DC/DC SiC MOSFET驱动选型及供电设计要点 (ti.com.cn)</a></p>
<p>对于单向PFC，直流母线电压通常为400V-600V</p>
]]></content>
      <categories>
        <category>车载充电机</category>
      </categories>
  </entry>
  <entry>
    <title>【LLC变换器设计基础】第二节 谐振变换器ZVS原理</title>
    <url>/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/</url>
    <content><![CDATA[<h1 id="llc变换器设计基础第二节-谐振变换器zvs原理">【LLC变换器设计基础】第二节
谐振变换器ZVS原理</h1>
<h3 id="电感电容模式">1. 电感电容模式</h3>
<p>​ 搞谐振电路的目的就是为了实现 ZVS ZCS</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618204118539.png" alt="image-20240618204118539">
<figcaption aria-hidden="true">image-20240618204118539</figcaption>
</figure>
<p>​ 负载越重，gain越陡，越窄，Re越小，Q越大，越窄</p>
<p>​
找谐振峰值，小于谐振峰值的时候，电容占据主导地位，呈容性，当大于谐振峰值的时候，电感占据主导地位，呈感性。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618204414646.png" alt="image-20240618204414646">
<figcaption aria-hidden="true">image-20240618204414646</figcaption>
</figure>
<p><strong>谐振峰值</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618204642891.png" alt="image-20240618204642891">
<figcaption aria-hidden="true">image-20240618204642891</figcaption>
</figure>
<p>​ 所以在这个DCgain里面，fo左侧为电容模式，右侧为电感模式</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618204520521.png" alt="image-20240618204520521">
<figcaption aria-hidden="true">image-20240618204520521</figcaption>
</figure>
<p><strong>1. 容性</strong></p>
<p>​
此时，如果输入电压是个正弦的话，电流应该超前于电压，实现ZCS，这里纯容性的话，会超前90°，所以这里最大为90°</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618205000111.png" alt="image-20240618205000111">
<figcaption aria-hidden="true">image-20240618205000111</figcaption>
</figure>
<p><strong>2. 感性</strong></p>
<p>​ 电流滞后于电压，纯感性的话，电压比电流超前90°，</p>
<p>​ <img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240618205113313.png" alt="image-20240618205113313"></p>
<h3 id="zvs原理这里默认占空比50只调频">2.ZVS原理（这里默认占空比50，只调频）</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240621211918013.png" alt="image-20240621211918013">
<figcaption aria-hidden="true">image-20240621211918013</figcaption>
</figure>
<p>​ 电容隔离作用，设工作在感性状态下，绿色的iL，滞后于电压，</p>
<p>​ 应该是先把Q2关断，再打开Q1，来控制死区</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/18/llc-bian-huan-qi-she-ji-ji-chu-di-er-jie-xie-zhen-bian-huan-qi-zvs-yuan-li/image-20240621213135314.png" alt="image-20240621213135314">
<figcaption aria-hidden="true">image-20240621213135314</figcaption>
</figure>
<p>​
电感放电，电流方向如那个绿色的颜色很重的那个~经过不了Q2，但是Q1因为有电容的存在，电流也过不去，Q1两端的电压如Vds所示，当他降到0的时候，电容g了，如果还有电流存在，就通过Q1的二极管，所以最后会出现一个零点几的反向电压，然后Q1接受到PWM的导通信号，Q1导通</p>
<p>tip：</p>
<ul>
<li>要有负电流，（相对于导通的方向）</li>
<li>适当的死区</li>
</ul>
<p>如何去实现负电流：</p>
<p>​
使整个谐振腔呈现感性，电流才滞后于电压，电压上升的时候，电流还是负的，利用这个电流来充放电结电容，实现对当前开通管子的ZVS</p>
<p><strong>零电压导通（ZVS）</strong>的实现依赖于将开关器件导通时的电压降至接近零。具体步骤如下：</p>
<ul>
<li>当一个开关器件（比如S1）关闭时，电感和电容的谐振作用会使电压开始下降。</li>
<li>在死区时间内，由于S1已经关闭而另一个开关器件（比如S2）还没有打开，电压继续下降，达到或接近零。</li>
<li>这时，如果S2在电压接近零的时刻开启，那么由于电压非常低，开关损耗就会大大减少。这就是零电压导通的原理。</li>
</ul>
<p><strong>关系总结：</strong></p>
<ul>
<li>工作频率f<sub>sw</sub>&gt;谐振频率f<sub>0</sub>，呈现为感性，此时电流滞后于电压，易于实现ZVS</li>
<li>工作频率f<sub>sw</sub>&lt;谐振频率f<sub>0</sub>，呈现为容性，此时电流超前于电压，易于实现ZCS</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>硬核博士老J</tag>
        <tag>LLC</tag>
      </tags>
  </entry>
  <entry>
    <title>【OBC】控制电路</title>
    <url>/2024/12/03/obc-kong-zhi-dian-lu/</url>
    <content><![CDATA[<h1 id="obc控制电路">【OBC】控制电路</h1>
<h3 id="控制导引电路">控制导引电路</h3>
<p><strong>作用：</strong>
用于判断与充电桩连接状态及充电电流上限的电路</p>
<p>​
背景：电动汽车应具备检测CC和CP信号并进行判断的功能，在电车充电过程中，CC信号用于判断充电器是否与电车的车身插座完全连接且能通过CC信号判断供电设备线缆能承受的最大充电电流值；CP信号用于向充电机转达供电设备能供给的最大电流值</p>
<p><strong>应该用不到论文里，主要看车身插座那边的电压信号</strong></p>
<hr>
<h3 id="can通信电路">CAN通信电路</h3>
<p><strong>作用：</strong>MCU通过SPI通信的方式对CAN收发器进行配置，将其设定为某一帧ID报文或某一类ID报文即输出唤醒，即受到特定的来自CAN总线的报文后唤醒充电机，可实现充电机的<strong>远程唤醒</strong></p>
<hr>
<h3 id="唤醒电路设计">唤醒电路设计</h3>
<p><strong>作用：</strong>不充电的时候，电车一般处于休眠状态，所以得唤醒</p>
<p><strong>两种唤醒方式</strong></p>
<ul>
<li>CP唤醒
<ul>
<li>当车辆未充电时，充电机与12V常电切断联系，充电机处于休眠状态，当检测到CP信号传入时，CP信号会使辅助电源的开关管动作，使12V电池与充电机恢复联系进而唤醒充电机</li>
</ul></li>
<li>远程唤醒
<ul>
<li>向充电机发送唤醒报文使其由休眠状态转为待机状态并保持唤醒，通常在进行电检时使用，通过CAN收发器完成，不需要单独的唤醒电路</li>
</ul></li>
</ul>
<hr>
]]></content>
      <categories>
        <category>车载充电机</category>
      </categories>
  </entry>
  <entry>
    <title>【simulink】模糊PID控制器</title>
    <url>/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/</url>
    <content><![CDATA[<h2 id="simulink模糊pid控制器">【simulink】模糊PID控制器</h2>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310153911781.png"></p>
<h3 id="输入的e跟ec在哪">1. 输入的e跟ec在哪</h3>
<p>​
e其实很好理解，输入-输出就是我们的误差，也就是开头的sum，那么<strong>误差变化率ec</strong>呢</p>
<h5 id="unit-delay单位延迟模块">Unit Delay（单位延迟模块）</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310155506441.png" alt="p1">
<figcaption aria-hidden="true">p1</figcaption>
</figure>
<p>​
先来看这部分，输出跟输入做差，得到e，这里e分了四路，先看下面两路，一路直接进行sum准备运算，另外一路经过了UD模块，下面介绍一下这个模块</p>
<p><strong>作用：</strong>将输入的误差信号<span class="math inline">\(e（t）\)</span><strong>延迟一个时间步长</strong>，输出前一刻的误差<span class="math inline">\(e（t-1）\)</span></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310155830884.png" alt="image-20250310155830884">
<figcaption aria-hidden="true">image-20250310155830884</figcaption>
</figure>
<h5 id="sum求和模块此处做减法">sum（求和模块，此处做减法）</h5>
<ul>
<li><strong>输入：</strong> 当前误差<span class="math display">\[e(t)\]</span>和延迟后的误差<span class="math display">\[e(t-1)\]</span></li>
<li><strong>输出：</strong><span class="math display">\[e(t)-e(t-1)\]</span>，即误差的变化量△e</li>
</ul>
<h4 id="这一步是在干啥">这一步是在干啥</h4>
<ul>
<li><p><strong>计算误差变化率ec</strong>：</p>
<p>通过<span class="math display">\[e(t)−e(t−1)\]</span>，得到误差在单位时间内的变化量（离散系统的微分近似）。</p>
<ul>
<li><strong>物理意义</strong>：若 <em>ec</em>&gt;0，误差正在增大；若
<em>ec</em>&lt;0，误差正在减小。</li>
</ul></li>
<li><p><strong>为微分控制（D项）提供输入</strong>： 该变化量 <em>ec</em>
会乘以微分系数
*K**d*，生成PID中的<strong>微分控制量</strong>，用于抑制系统震荡和超调。</p></li>
</ul>
<hr>
<h3 id="准备输入到模糊控制器了">2. 准备输入到模糊控制器了</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310160542508.png" alt="p2">
<figcaption aria-hidden="true">p2</figcaption>
</figure>
<p>​ 前面我们得到了e跟ec了，然后进入Mux模块</p>
<h5 id="mux模块多路复用器">Mux模块（多路复用器）</h5>
<ul>
<li><strong>输入：</strong> 指有两路独立的输入信号（e跟ec）</li>
<li><strong>输出：</strong>Mux将两路信号<strong>合并为一个向量信号</strong>（如[e,ec])</li>
<li><strong>物理表现：</strong>看似输出是“一路”，但实际上传输的是包含两个分量的数据</li>
<li><strong>必要性：</strong>模糊控制器的规则库需要同时基于
<code>e</code> 和 <code>ec</code>
的状态（例如“误差大且快速增大”），必须将两者合并为统一输入。</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310160823477.png" alt="Mux参数">
<figcaption aria-hidden="true">Mux参数</figcaption>
</figure>
<h5 id="gain增益模块">Gain（增益模块）</h5>
<p>量化因子</p>
<h3 id="模糊控制">3. 模糊控制</h3>
<p>​ <a href="https://blog.csdn.net/orangekmj/article/details/123499412?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E6%A8%A1%E7%B3%8API%E4%BB%BF%E7%9C%9F&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-123499412.142">模糊PI控制的Simulink仿真（保姆级别）</a></p>
<h4 id="在matlab命令行中输入fuzzy">3.1 在matlab命令行中输入fuzzy</h4>
<p>​ 就打开了下图这玩意</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311131219958.png" alt="模糊控制">
<figcaption aria-hidden="true">模糊控制</figcaption>
</figure>
<h4 id="确定模糊控制工具箱的输入输出">3.2
确定模糊控制工具箱的输入输出</h4>
<ul>
<li><strong>输入</strong>
<ul>
<li>e：实际值与给定值的误差</li>
<li>ec：为e的导数</li>
</ul></li>
<li><strong>输出</strong>
<ul>
<li>△Kp</li>
<li>△Ki</li>
</ul></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311131532127.png"></p>
<p>​ 点一下框选中，然后下侧name改名</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311131639063.png" alt="改名">
<figcaption aria-hidden="true">改名</figcaption>
</figure>
<p>​ 最后长这样，<strong>就是明确了输入输出</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311131742593.png"></p>
<h4 id="确定隶属度函数输入输出都要-目的为了模糊化和解模糊">3.3
确定隶属度函数（输入输出都要） 目的：为了模糊化和解模糊</h4>
<p>​ <strong>隶属度函数在哪写</strong>、</p>
<p>​ 双击 输入/输出，就弹出来新的窗口</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311132133472.png"></p>
<p>​ <strong>一般是用中间三角形隶属函数，两边高斯型隶属函数</strong></p>
<p>这四个圈起来的分别是：</p>
<ol type="1">
<li><p><strong>rang</strong></p>
<p>设置输入、输出的边界，下面是个例子，定义输入输出的论域和隶属函数如下图：</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311132401890.png"></p>
<p>一共七个等级，论域是【-3,3】</p></li>
<li><p><strong>Name</strong></p>
<p>没看懂啥意义，但是是这么说的：</p>
<p>这里我们要严格按照 matlab
初始的时候给我们的顺序来从左到右定义我们的等级，这样子后面写模糊规则会方便很多。</p>
<p>哦~大概就是按规定的等级，从左到右改名</p></li>
<li><p><strong>type</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311132609405.png"></p>
<p>图中圈起来的就是三角跟高斯</p></li>
<li><p><strong>Params</strong></p>
<p>三角函数这里的参数有仨数，分别代表了图中的仨实圈，，这里的参数是说的<strong>x轴</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311133450943.png"></p>
<p>我们之前选了7个等级吧，那如何产生7个哩</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311133721500.png"></p></li>
</ol>
<p>在这一节中，最终得到的隶属函数图如下</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311135358146.png"></p>
<h4 id="确定模糊规则">3.4 确定模糊规则</h4>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311141211931.png"></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311141226012.png"></p>
<p>这个表应该是写错了吧？，△ki的PM
PB应该是PB，还有最后，PB+NS，kp没有ns直接就nm了，可以改成ns试试</p>
<h4 id="在simulink中实现">3.5 在simulink中实现</h4>
<p>​ 关掉保存，取好名字</p>
<p>在simulink中，打开下图的模块</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311145604018.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250311145740757.png" alt="改名">
<figcaption aria-hidden="true">改名</figcaption>
</figure>
<h3 id="模糊控制器的输出">4. 模糊控制器的输出</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310162034233.png" alt="p4">
<figcaption aria-hidden="true">p4</figcaption>
</figure>
<p>​ 看上去输出的是三维的[△Kp，△Ki， △Kd]</p>
<h5 id="demux多路分解器">Demux（多路分解器）</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310162126759.png" alt="demux">
<figcaption aria-hidden="true">demux</figcaption>
</figure>
<p>​ 有归一化就得有解归一化，有mux就有demux</p>
<ul>
<li><strong>功能：</strong>将一个输入信号拆分为多个独立的输出信号
<ul>
<li><strong>输入：</strong>一个信号</li>
<li><strong>输出：</strong>多路独立信号</li>
</ul></li>
</ul>
<p>这后面的<code>gain</code>应该就是比例因子了，在经过<code>sum</code>，就完成了
<span class="math display">\[
Kp=Kp+△Kp
\]</span></p>
<h3 id="the-end">5.The End</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310162712814.png" alt="最终输出">
<figcaption aria-hidden="true">最终输出</figcaption>
</figure>
<p>​ 这里已经是看图说话了，首先还是认识模块</p>
<h5 id="product乘法器">Product（乘法器）</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310164620884.png" alt="乘法器参数">
<figcaption aria-hidden="true">乘法器参数</figcaption>
</figure>
<h5 id="add加法器">Add（加法器）</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/simulink-mo-hu-pid-kong-zhi-qi/image-20250310164658710.png" alt="加法器参数">
<figcaption aria-hidden="true">加法器参数</figcaption>
</figure>
<p>所以这里的最终输出也就是pid控制器的那个公式： <span class="math display">\[
u(t) = K_p \cdot e + K_s \cdot \int e \, dt + K_d \cdot \frac{de}{dt}
\]</span></p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>simulink</tag>
        <tag>模糊PI</tag>
      </tags>
  </entry>
  <entry>
    <title>立创eda-02 了解立创EDA软件</title>
    <url>/2025/01/09/eda-02.liao-jie-li-chuang-ead-ruan-jian/</url>
    <content><![CDATA[<h2 id="立创eda-02-了解立创eda软件">立创eda-02 了解立创EDA软件</h2>
<h3 id="改路径">改路径</h3>
<p>设置---客户端</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-02.liao-jie-li-chuang-ead-ruan-jian/image-20250109101549945.png" alt="数据路径">
<figcaption aria-hidden="true">数据路径</figcaption>
</figure>
<h4 id="运行模式">运行模式</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-02.liao-jie-li-chuang-ead-ruan-jian/image-20250109101609057.png" alt="运行模式">
<figcaption aria-hidden="true">运行模式</figcaption>
</figure>
]]></content>
      <categories>
        <category>EDA</category>
      </categories>
      <tags>
        <tag>eda</tag>
      </tags>
  </entry>
  <entry>
    <title>立创eda-01基础篇</title>
    <url>/2025/01/07/eda-01-ji-chu/</url>
    <content><![CDATA[<h2 id="立创eda-01基础篇">立创eda-01基础篇</h2>
<h3 id="pcb印制电路板">0. PCB印制电路板</h3>
<ol type="1">
<li><p>PCB的定义</p>
<p>印刷线路板；</p>
<p>作用：</p>
<ul>
<li>元器件的支撑体</li>
<li>实现诸多电子元器件电气连接的载体</li>
</ul></li>
</ol>
<h3 id="pcb的层叠结构">1. PCB的层叠结构</h3>
<h4 id="pcb单层板">1.1 PCB单层板</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107214406992.png" alt="单层板">
<figcaption aria-hidden="true">单层板</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107214535871.png" alt="加入阻焊层">
<figcaption aria-hidden="true">加入阻焊层</figcaption>
</figure>
<p>绿色的为阻焊层</p>
<ul>
<li>防止触电</li>
<li>防止氧化</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107214832339.png" alt="丝印层">
<figcaption aria-hidden="true">丝印层</figcaption>
</figure>
<h4 id="pcb双层板">1.2 PCB双层板</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107215048664.png" alt="过孔">
<figcaption aria-hidden="true">过孔</figcaption>
</figure>
<p>打个孔，用铜导通</p>
<h4 id="pcb四层板">1.3 PCB四层板</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107215429929.png" alt="四层板">
<figcaption aria-hidden="true">四层板</figcaption>
</figure>
<h4 id="图层管理器">1.4 图层管理器</h4>
<p>工具---&gt;图层管理器</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107215915322.png" alt="图层管理器">
<figcaption aria-hidden="true">图层管理器</figcaption>
</figure>
<hr>
<h3 id="pcb的通孔盲孔埋孔">2. PCB的通孔，盲孔，埋孔</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107220556691.png" alt="三种孔">
<figcaption aria-hidden="true">三种孔</figcaption>
</figure>
<h3 id="元器件的符号和封装">3 元器件的符号和封装</h3>
<p>立创商城</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107222058280.png" alt="电阻">
<figcaption aria-hidden="true">电阻</figcaption>
</figure>
<ul>
<li>红色的为焊盘，焊盘上面是不需要绿油的，有了器件焊不上去了</li>
<li>紫色这个框的意思就是里面不需要上绿油</li>
<li>黄色这个框是丝印层，呈现为白色，表示这个框里面是一个整体</li>
</ul>
<h3 id="pcb的元素组成">4. PCB的元素组成</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/07/eda-01-ji-chu/image-20250107225403791.png" alt="元素组成">
<figcaption aria-hidden="true">元素组成</figcaption>
</figure>
<h3 id="pcb的生产过程">5. PCB的生产过程</h3>
<p>PCBA就是·工厂帮你焊好了元器件</p>
<h3 id="pcb焊接技术">6. PCB焊接技术</h3>
<h3 id="pcb和pcba">7. PCB和PCBA</h3>
<ul>
<li>PCBA是英文印刷电路板+组装的缩写
<ul>
<li>空的PCB板经过SMT加载，然后经过DIP插件</li>
</ul></li>
</ul>
<p>简单来说</p>
<ul>
<li>PCB是没有组件的电路板</li>
<li>PCBA是焊接有电子组件的电路板</li>
</ul>
]]></content>
      <categories>
        <category>EDA</category>
      </categories>
      <tags>
        <tag>eda</tag>
      </tags>
  </entry>
  <entry>
    <title>立创eda-04 原理图的绘制</title>
    <url>/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/</url>
    <content><![CDATA[<h2 id="立创eda-04-原理图的绘制">立创eda-04 原理图的绘制</h2>
<h4 id="新建工程">0 新建工程</h4>
<p>文件--新建---工程</p>
<p><strong>图纸基本信息更改</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109102631514.png" alt="更改图纸默认信息">
<figcaption aria-hidden="true">更改图纸默认信息</figcaption>
</figure>
<p><strong>更改图纸大小</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109102744499.png" alt="改图纸大小">
<figcaption aria-hidden="true">改图纸大小</figcaption>
</figure>
<h4 id="绘制led部分">1. 绘制LED部分</h4>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109102928198.png" alt="LED灯原理图">
<figcaption aria-hidden="true">LED灯原理图</figcaption>
</figure>
<p><strong>新建元件</strong></p>
<p>​ 在新建元件之前要先新建元件库</p>
<p>**可以把网格单位调至最小*-**</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109104031718.png" alt="网格单位">
<figcaption aria-hidden="true">网格单位</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109105114685.png" alt="新建电阻器件">
<figcaption aria-hidden="true">新建电阻器件</figcaption>
</figure>
<ul>
<li>一个矩形，两个引脚</li>
<li>引脚那个圆圈是电气连接部分，与外部相连</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109111131639.png" alt="可以用名称表示值">
<figcaption aria-hidden="true">可以用名称表示值</figcaption>
</figure>
<p><strong>网络端口</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109111419545.png" alt="网络端口放置">
<figcaption aria-hidden="true">网络端口放置</figcaption>
</figure>
<h4 id="v稳压输出">2. 3.3V稳压输出</h4>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109132051635.png" alt="3.3V稳压输出">
<figcaption aria-hidden="true">3.3V稳压输出</figcaption>
</figure>
<p><strong>圆圈</strong></p>
<p>这里的圆圈代表是方向，大小可以从属性里面修改更为方便</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109135154698.png" alt="圆圈">
<figcaption aria-hidden="true">圆圈</figcaption>
</figure>
<h4 id="micro输入口">3. micro输入口</h4>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109140059230.png" alt="原理图">
<figcaption aria-hidden="true">原理图</figcaption>
</figure>
<p><strong>用了个差分信号</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109140402510.png" alt="差分信号">
<figcaption aria-hidden="true">差分信号</figcaption>
</figure>
<ul>
<li>目的
<ul>
<li>抗干扰，如果有2,3，两条线的话，在某一时刻产生了脉冲，本来应该3.3V的，变了，但是两条线差分，在这一时刻都变，差值不变</li>
</ul></li>
<li><img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109140602020.png">
<ul>
<li>压差大的时候视为1；压差小的时候视为0</li>
</ul></li>
</ul>
<h4 id="mcu最小系统">4. MCU最小系统</h4>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109144752246.png" alt="原理图">
<figcaption aria-hidden="true">原理图</figcaption>
</figure>
<h4 id="晶振电路">5.晶振电路</h4>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109162715347.png" alt="外部晶振">
<figcaption aria-hidden="true">外部晶振</figcaption>
</figure>
<ul>
<li>R3主要是用来消除谐波和干扰的</li>
<li>一般晶振这里的电容都是20pF</li>
</ul>
<h4 id="按键部分">6. 按键部分</h4>
<h5 id="复位按键">复位按键</h5>
<p><strong>原理图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109164228324.png" alt="复位按键原理图">
<figcaption aria-hidden="true">复位按键原理图</figcaption>
</figure>
<ul>
<li>刚上电的时候，电容充电，nrst电位上升，电容起到缓冲作用</li>
<li>开关闭合，nrst为0.复位</li>
</ul>
<h5 id="唤醒按键">唤醒按键</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250109164548756.png" alt="唤醒按键原理图">
<figcaption aria-hidden="true">唤醒按键原理图</figcaption>
</figure>
<h4 id="两个排针">7. 两个排针</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250114140557881.png" alt="原理图1">
<figcaption aria-hidden="true">原理图1</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250114142425018.png" alt="J3原理图">
<figcaption aria-hidden="true">J3原理图</figcaption>
</figure>
<p><strong>选择参考点</strong></p>
<p>设置---通用</p>
<p><img src="/medias/loading.gif" data-original="/2025/01/09/eda-04.xin-jian-gong-cheng-ji-led-deng-mo-kuai/image-20250114145020863.png"></p>
<p>这样就能一路复制下来了</p>
<hr>
<h4 id="原理图整理">8. 原理图整理</h4>
<ul>
<li>横着先划线，分大区域，再竖着分</li>
<li>注意是折线而不是导线</li>
<li>点线的属性，改成虚线</li>
<li>添加文字介绍</li>
</ul>
<h4 id="drc检测">9. DRC检测</h4>
<p><strong>DRC检测即规则检查</strong></p>
<p>设计---检查DRC</p>
<p>可以在，设计---设计规则；；里对规则进行更改</p>
]]></content>
      <categories>
        <category>EDA</category>
      </categories>
      <tags>
        <tag>eda</tag>
      </tags>
  </entry>
  <entry>
    <title>立创eda-06 原理图到PCB</title>
    <url>/2025/03/10/eda-06.dao-pcb/</url>
    <content><![CDATA[<h2 id="立创eda-06-原理图到pcb">立创eda-06 原理图到PCB</h2>
<h4 id="从原理图到pcb">0. 从原理图到PCB</h4>
<h5 id="如何正确使用嘉立创的库">如何正确使用嘉立创的库·</h5>
<p>​ 首先去嘉立创商城，看看有没有·货</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310213111533.png" alt="找到要用器件的编号">
<figcaption aria-hidden="true">找到要用器件的编号</figcaption>
</figure>
<p>然后去eda下面</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310213202541.png" alt="image-20250310213202541">
<figcaption aria-hidden="true">image-20250310213202541</figcaption>
</figure>
<p>在这个位置搜</p>
<h5 id="如何转到pcb">如何转到PCB</h5>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310213331909.png"></p>
<h4 id="网络表概念解读">1. 网络表概念解读</h4>
<p>​ 相同网络的焊盘是连到一起的</p>
<h4 id="板框绘制">2. 板框绘制</h4>
<p>​ 先框定范围，在原来焊盘的位置是板框</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310213859578.png" alt="板框位置">
<figcaption aria-hidden="true">板框位置</figcaption>
</figure>
<p><strong>单位切换</strong></p>
<p>​ 点击画板，点击Q，单位就从mil转化为了mm</p>
<p>选好尺寸后可以给一个圆角半径，</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310214128698.png"></p>
<h4 id="模块化预布局">3. 模块化预布局</h4>
<p>​
首先，原理图是按模块来的，那PCB也应该模块化，首先在原理图中选中某一模块，比如mcu，。此时在pcb中，该模块的内容也被选中</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310214348891.png"></p>
<p>然后就可以把这一部分单独拿出来了</p>
<h5 id="关于位号">3.1 关于位号</h5>
<p>​
一般会习惯放中间（大错特错），首先点击一个位号，然后右键查找，查找全部，这样就全选了所有位号，不要放中间，不然虚焊后不好查错</p>
<p>​ 然后发现上面这一步根本没有意义，直接布局开始</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250310215020310.png"></p>
<h5 id="大致位置范围">3.2 大致位置范围</h5>
<ul>
<li>芯片中心，晶振在芯片附近，</li>
<li>有那种输出端口，应该放在外面，像排针，接口啥的</li>
<li>选中某器件，然后ctrl+R，隐藏飞线</li>
<li><img src="/medias/loading.gif" data-original="/2025/03/10/eda-06.dao-pcb/image-20250311202439114.png">
<ul>
<li>像这个排针这里，旁边可以空留一些位置，来做标识，用丝印层标明是啥</li>
</ul></li>
</ul>
<p>如果变更封装要怎么改：</p>
<p>​ 首先改完之后，要重新在封装管理器里关联封装，然后设计更新到pcb</p>
<h4 id="模块化精细布局">4. 模块化精细布局</h4>
]]></content>
      <categories>
        <category>EDA</category>
      </categories>
      <tags>
        <tag>eda</tag>
      </tags>
  </entry>
  <entry>
    <title>立创eda-05 封装绘制</title>
    <url>/2025/02/24/eda-05.feng-zhuang-hui-zhi/</url>
    <content><![CDATA[<h2 id="立创eda-05-封装绘制">立创eda-05 封装绘制</h2>
<h4 id="c0603封装绘制">0. C0603封装绘制</h4>
<p>0603指的是尺寸，越大表示封装的面积越大</p>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224201839585.png" alt="PCB画法">、</p>
<ul>
<li><p>文件---新建---封装</p></li>
<li><p>放置---焊盘</p>
<ul>
<li>点击焊盘，图层里面，多层就是通孔，顶层就在上面那层焊</li>
<li>同点击焊盘，更改形状，宽高</li>
<li>通过计算，以中心为原件，那么左侧x轴应该就是（0.965+0.635）/2，即x轴坐标为-0.8</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224202720555.png" alt="焊盘">
<figcaption aria-hidden="true">焊盘</figcaption>
</figure></li>
<li><p>然后加丝印</p>
<ul>
<li>选择图层，选择顶层丝印层</li>
<li>选择折线，角度选择圆弧90°，然后线宽可以设为0.2</li>
<li>在弧的时候点一下就行</li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224203036200.png" alt="左侧丝印">
<figcaption aria-hidden="true">左侧丝印</figcaption>
</figure></li>
<li>c复制，选择中间点为参考点，然后移到右边，空格旋转，完成</li>
</ul></li>
<li><p>阻焊层</p>
<ul>
<li>其实在封装的时候就自动生成了，就是红色外围那个紫色，可以点击封装，然后属性里面的阻焊拓展里更改，不过默认就可以了</li>
</ul></li>
</ul>
<hr>
<p>这样封装就完事了，然后打开工具，封装管理器，根据boom更新一下</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224203542916.png" alt="更新封装">
<figcaption aria-hidden="true">更新封装</figcaption>
</figure>
<p>可以找一个电容点进去封装，检查尺寸再看看，封装尺寸要正确，丝印无所屌谓</p>
<h4 id="c0805封装绘制">1. C0805封装绘制</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224204101556.png" alt="C0805">
<figcaption aria-hidden="true">C0805</figcaption>
</figure>
<h4 id="f1210">2. F1210</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224205153250.png" alt="f1210尺寸">
<figcaption aria-hidden="true">f1210尺寸</figcaption>
</figure>
<p>​ 这个是保险丝，保险丝的焊盘是S，那么就可以直接用文字插入个S进去</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224205512825.png" alt="技巧">
<figcaption aria-hidden="true">技巧</figcaption>
</figure>
<p>在画线的时候，可以按tab来更改当前线宽</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224205628687.png" alt="成品">
<figcaption aria-hidden="true">成品</figcaption>
</figure>
<h4 id="l0603">3. L0603</h4>
<p>这里其实跟C0603的尺寸是一样的</p>
<p>选择另外一种丝印来区分</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224210336389.png" alt="image-20250224210336389">
<figcaption aria-hidden="true">image-20250224210336389</figcaption>
</figure>
<h4 id="led0603">4. LED0603</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250224211709728.png" alt="成品">
<figcaption aria-hidden="true">成品</figcaption>
</figure>
<h4 id="r0603">5. R0603</h4>
<h4 id="h1-h2排针封装绘制">6. H1 H2排针封装绘制</h4>
<p>去嘉立创商场找模样，对应着画</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250225215012200.png" alt="焊盘">
<figcaption aria-hidden="true">焊盘</figcaption>
</figure>
<ul>
<li>这里直径是1.02mm但是其实可以画大一些也问题不大</li>
<li>这里间距都是2.54，然后就可以去改网格，让网格跟栅格都是2.54，这样好操作</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250225215504916.png" alt="P2">
<figcaption aria-hidden="true">P2</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250225215522874.png" alt="P3">
<figcaption aria-hidden="true">P3</figcaption>
</figure>
<h4 id="j1-j3-20p排针封装绘制">7. J1 J3 20P排针封装绘制</h4>
<h4 id="按键封装绘制">8. 按键封装绘制</h4>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250227210942806.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250227211017139.png" alt="image-20250227211017139">
<figcaption aria-hidden="true">image-20250227211017139</figcaption>
</figure>
<p>这里焊盘是1.5，可以做成1.5*2.5~大点好焊</p>
<h4 id="tqfp-48封装绘制">9. TQFP-48封装绘制</h4>
<h4 id="sot-223封装绘制">10. SOT-223封装绘制</h4>
<h4 id="usb座子封装绘制">11.USB座子封装绘制</h4>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250310203826926.png"></p>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250310203859106.png"></p>
<p>这玩意是焊盘·放置在多层</p>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250310204039899.png"></p>
<p>这东西呢其实是过孔，因为这里我们是用来固定的，可以设置内外径一致，就成黑色的圆圈了</p>
<p><img src="/medias/loading.gif" data-original="/2025/02/24/eda-05.feng-zhuang-hui-zhi/image-20250310204022633.png"></p>
<h4 id="mhz晶振封装绘制">12. 8MHZ晶振封装绘制</h4>
<h4 id="khz晶振封装绘制">13. 32.768KHZ晶振封装绘制</h4>
]]></content>
      <categories>
        <category>EDAA</category>
      </categories>
      <tags>
        <tag>eda</tag>
      </tags>
  </entry>
  <entry>
    <title>延时模块</title>
    <url>/2024/09/04/simulink-yan-shi-mo-kuai/</url>
    <content><![CDATA[<h2 id="延时模块">延时模块</h2>
<h3 id="delay">delay</h3>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>simulink</tag>
        <tag>延时</tag>
      </tags>
  </entry>
  <entry>
    <title>01. STM32+软件安装</title>
    <url>/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/</url>
    <content><![CDATA[<h2 id="stm32软件安装">01. STM32+软件安装</h2>
<h4 id="硬件介绍">1. 硬件介绍</h4>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720213900952.png" alt="image-20240720213900952">面板板</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720213913143.png" alt="image-20240720213913143">面包板的跳线，较短，可以贴在面包板上，适合长时间的接线</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214004609.png" alt="image-20240720214004609">上面这个是面包板的飞线，比较长，方便挪动；下面是杜邦线，分别是公对母和母对母的，用于插接一些电路模块</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214108007.png" alt="image-20240720214108007">STM32最小系统板，上面这黑色的就是stm32，</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214138860.png" alt="image-20240720214138860">0.96寸的OLED显示屏模块，4引脚的</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214213483.png" alt="image-20240720214213483">电位器，主要用来进行AD转换实验</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214232595.png" alt="image-20240720214232595">按键，选用两引脚正好可以跨接在面包板的引脚插孔和电源插孔之间，<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214319164.png" alt="image-20240720214319164"></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214332567.png" alt="image-20240720214332567">led灯</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214344197.png" alt="image-20240720214344197">STLINK，用来下载程序和供电的</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214404156.png" alt="image-20240720214404156">USB转串口模块，使用这个模块就可以实现STM32和电脑进行串口通信了</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214515832.png" alt="image-20240720214515832">有源蜂鸣器模块，内置振荡源，接电就响</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720214610516.png" alt="image-20240720214610516">一些传感器模块分别是:光敏电阻模块，下面的四个引脚有两个是用来供电，还有两个是光敏电阻信号的模拟输出和数字输出，可以用来进行IO口读取实验或者AD实验，第二个是热敏电阻模块，也是有模拟输出和数字输出的；第三个是对射式红外模块，配合遮光片可以用来计次，或者配合编码盘用来测速；第四个是反射式红外模块，在小车寻迹里，向地面发射红外光，再用红外接收管接收地面反射的红外光，通过判断接收光的强度，就可以大致识别出地面的颜色变化</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720215011924.png" alt="image-20240720215011924">W25Q64
Flash存储模块，可以存储数据，并且是用SPI总线进行通信的</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720215105486.png" alt="image-20240720215105486">MPU6050陀螺仪和加速度计；可以测量芯片自身的姿态，I2C总线通信</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720215145944.png" alt="image-20240720215145944">旋转编码器，可以输出两路正交的方波信号，用于指示旋转的方向和速度，</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720215258620.png" alt="image-20240720215258620">直流电机和TB6612电机驱动模块，可以用来进行直流电机的PWM调速实验</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720215339362.png" alt="image-20240720215339362">SG90舵机；用PWM控制，输出端可以像船舵一样，根据给定PWM信号的占空比固定在某个角度上</p>
<h4 id="stm32简介">2. STM32简介</h4>
<p>​ 32位微处理器，st是公司，m是微控制器；51是8位的，采用ARM
Cortex-M内核</p>
<p><strong>ARM</strong></p>
<ul>
<li>指ARM公司，也指ARM处理器内核</li>
</ul>
<p><strong>STM32F103C8T6</strong></p>
<ul>
<li>系列： 主流系列STM32F1</li>
<li>内核： ARM Cortex-M3</li>
<li>主频： 72MHz</li>
<li>RAM： 20K(SRAM)</li>
<li>ROM: 64K(Flash)</li>
<li>供电： 2.0~3.6V（标准3.3v）</li>
<li>封装： LQFP48</li>
</ul>
<p><strong>片上资源/外设</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240720220154004.png" alt="image-20240720220154004">
<figcaption aria-hidden="true">image-20240720220154004</figcaption>
</figure>
<ul>
<li><strong>NVIC：</strong>位于Cortex-M3内核里的外设；用于管理中断的设备，比如配置中断优先级</li>
<li><strong>SysTick：</strong>位于Cortex-M3内核里的外设，剩下的都是内核外的外设；内核里面的定时器，用于给操作系统提供定时服务</li>
<li><strong>RCC：</strong>对系统的时钟进行配置,使能各模块的时钟，（不给时钟的情况下，操作外设是无效的）</li>
<li><strong>GPIO:</strong> 点灯，读取按键等</li>
<li><strong>AFIO:</strong> 复用功能端口的重定义，还有中断端口的配置</li>
<li><strong>EXTI:</strong>
配置好外部中断之后，当引脚有电平变化时，就可以触发中断，让CPU来处理任务</li>
<li><strong>TIM:</strong>
分为高级，通用，基本定时器三种类型，不仅可以完成定时中断任务，还可以完成测频率，生成PWM波形，配置成专用的编码器接口等功能</li>
<li><strong>ADC：</strong>
内置了12位的AD转换器，可以直接读取IO口的模拟电压值，无需外部连接AD芯片，使用非常方便</li>
<li><strong>DMA: </strong> 帮助CPU完成搬运大量数据的繁琐任务</li>
<li><strong>USART:</strong> 实际还是用异步串口多</li>
<li><strong>I2C:</strong> 通信协议</li>
<li><strong>SPI:</strong> 通信协议</li>
<li><strong>CAN:</strong> 通信协议，一般用于汽车领域</li>
<li><strong>USB:</strong> 通信协议</li>
<li><strong>RTC:</strong> 实时时钟</li>
<li><strong>CRC: </strong> 数据校验方式，用于判断数据的正确性</li>
<li><strong>PWR:</strong>
可以让芯片进入睡眠模式等状态，达到省电的目的</li>
<li><strong>BKP: </strong> 系统掉电时，仍可用备用电池保持数据</li>
<li><strong>IWDG:</strong> 看门狗，</li>
<li><strong>WWDG:</strong> 看门狗，及时复位芯片，保持系统稳定</li>
<li><strong>DAC:</strong> 在IO口直接输出模拟电压</li>
<li><strong>SDIO:</strong> 用于读取SD卡</li>
<li><strong>FSMC:</strong> 可以用于扩展内存，或者配置成其他总线协议</li>
<li><strong>USB OTG: </strong>
可以让stm32作为USB主机去读取其他usb设备</li>
</ul>
<h4 id="芯片命名规则">芯片命名规则</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809151119400.png" alt="芯片命名规则">
<figcaption aria-hidden="true">芯片命名规则</figcaption>
</figure>
<h4 id="芯片系统结构">芯片系统结构</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809151207671.png" alt="系统结构">
<figcaption aria-hidden="true">系统结构</figcaption>
</figure>
<ul>
<li>左上角是Cortex-M3的内核，引出三条总线，分别是ICode指令总线，DCode数据总线，System系统总线，前两种总线主要是用于连接Flash闪存的，Flash里面存储的是我们编写的程序，ICode指令总线是用来加载程序指令的，DCode数据总线是用来加载数据的，比如常量和调试参数这些；System系统总线连接了些其他东西，比如SRAM，用于存储程序运行时的变量数据，还有FMSC，AHB系统总线，用于挂载基本或高性能外设，比如复位和时钟控制这些基本电路，还有SDIO也是挂载上AHB上的，再后来就是两个桥接，接到了APB2和APB1两个外设总线上，APB是指先进外设总线，用于连接一般的外设</li>
<li>（待重学）</li>
</ul>
<h4 id="引脚配置">引脚配置</h4>
<h4 id="启动配置">启动配置</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809152619484.png" alt="启动配置">
<figcaption aria-hidden="true">启动配置</figcaption>
</figure>
<p>​
用于指定程序开始运行的位置，一般情况下，程序都是从Flash程序存储器开始运行，</p>
<h2 id="软件安装">软件安装</h2>
<h4 id="安装器件支持包">安装器件支持包</h4>
<p><strong>why</strong></p>
<p>​ 型号多，芯片的器件支持包独立出来，只需要安装对应的器件支持包即可</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809153210049.png" alt="image-20240809153210049">
<figcaption aria-hidden="true">image-20240809153210049</figcaption>
</figure>
<p><strong>how</strong></p>
<p>在线安装</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809153302214.png" alt="image-20240809153302214">
<figcaption aria-hidden="true">image-20240809153302214</figcaption>
</figure>
<p>点击绿色按钮</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/20/stm32-1.stm32-ruan-jian-an-zhuang/image-20240809153420780.png" alt="image-20240809153420780">
<figcaption aria-hidden="true">image-20240809153420780</figcaption>
</figure>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>02. 新建工程</title>
    <url>/2024/08/09/stm32-2.xin-jian-gong-cheng/</url>
    <content><![CDATA[<h2 id="新建工程">02. 新建工程</h2>
<p><strong>目前STM32的开发方式主要有</strong></p>
<ul>
<li>基于寄存器</li>
<li>库函数
<ul>
<li>需要固件库</li>
</ul></li>
<li>HAL库</li>
</ul>
<h3 id="新建工程文件">1. 新建工程文件</h3>
<ol type="1">
<li>project---new project</li>
<li>在工程文件里，新建一个文件夹用于存放工程结构，然后再里面输入项目名称</li>
<li>需要添加工程必备文件
<ol type="1">
<li><img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104201802483.png" alt="image-20241104201802483">这就是STM32的启动文件，程序的执行就是从启动文件开始的；然后就把这些玩意复制到所建的工程结构文件夹，可命名为一个start的子文件夹</li>
<li>stm32f10x.h
<ol type="1">
<li>这是外设寄存器描述文件，用于描述有哪些寄存器和它对应的地址的</li>
</ol></li>
<li>system_stm32f10x.h；；；；system_stm32f10x.c
<ol type="1">
<li>用于配置时钟</li>
</ol></li>
<li>以上为外核寄存器的描述文件，除此之外还有内核寄存器的描述文件</li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104202249657.png" alt="image-20241104202249657">
<figcaption aria-hidden="true">image-20241104202249657</figcaption>
</figure></li>
<li>至此，必要文件复制完成，然后需要配置到工程上</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104202453911.png" alt="image-20241104202453911">改名start，然后选择添加已有，启动文件只需要选择一个，教程需要的是后缀为md.s的启动文件，然后.C//.H都要添加<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104202639692.png" alt="image-20241104202639692"></li>
<li>然后需要添加头文件路径，不然软件找不到.h文件<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104202835909.png" alt="image-20241104202835909"></li>
<li>然后测试，在工程结构目录下新建一个文件夹User，然后再工程里新建个组，改为User，然后新建一个C文件<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104203107196.png" alt="image-20241104203107196"></li>
</ol></li>
</ol>
<h3 id="通过配置寄存器点灯">2. 通过配置寄存器点灯</h3>
<ul>
<li><p>连接</p>
<ul>
<li><p>STM32最小系统板+STLink + 四根杜邦线</p></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104203750299.png" alt="image-20241104203750299">
<figcaption aria-hidden="true">image-20241104203750299</figcaption>
</figure></li>
<li><p><strong>配置调试器</strong>魔术棒----debug--</p>
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104204024023.png" alt="image-20241104204024023">
<figcaption aria-hidden="true">image-20241104204024023</figcaption>
</figure></li>
</ul></li>
</ul></li>
<li><p>点灯</p>
<p><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//通过寄存器的方式点灯</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;stm32f10x.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    RCC-&gt;APB2ENR = <span class="number">0x00000010</span>;</span><br><span class="line">    GPIOC-&gt;CRH = <span class="number">0x00300000</span>;</span><br><span class="line">    GPIOC-&gt;ODR = <span class="number">0x00000000</span>;<span class="comment">//这个灯是低电平亮，所以ODR全0就是亮；0x00002000</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<ul>
<li>通过库函数点灯
<ul>
<li>新建library文件夹，下面的先是库函数的源文件，然后第二个是库函数的头文件<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104204726496.png" alt="image-20241104204726496"><img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104204847245.png" alt="image-20241104204847245"></li>
<li><img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104204953711.png" alt="image-20241104204953711">全选添加</li>
<li>还有三个需要配置的：<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104205142584.png" alt="image-20241104205142584">
<ul>
<li>conf是用来配置库函数头文件的包含关系的</li>
<li>两个it文件是用来存放中断函数的</li>
<li>把这三个文件复制到User文件夹里，并在工程里添加（User就是我们用来执行程序的文件夹</li>
</ul></li>
<li>最后需要一个宏定义，在头文件右键，打开文件<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104205517226.png" alt="image-20241104205517226">
<ul>
<li>这样才能包含标准外设库，也就是库函数</li>
</ul></li>
<li>还是上面这位置，下面的路径也不要忘了library跟User</li>
</ul></li>
</ul></li>
<li><div class="sourceCode" id="cb1"><pre class="sourceCode c"><code class="sourceCode c"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;stm32f10x.h&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">void</span><span class="op">)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">&#123;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    GPIO_InitTypeDef GPIO_InitStructure<span class="op">;</span> <span class="co">// 将声明提前</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    RCC_APB2PeriphClockCmd<span class="op">(</span>RCC_APB2Periph_GPIOC<span class="op">,</span> ENABLE<span class="op">);</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    GPIO_InitStructure<span class="op">.</span>GPIO_Mode <span class="op">=</span> GPIO_Mode_Out_PP<span class="op">;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    GPIO_InitStructure<span class="op">.</span>GPIO_Pin <span class="op">=</span> GPIO_Pin_13<span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    GPIO_InitStructure<span class="op">.</span>GPIO_Speed <span class="op">=</span> GPIO_Speed_50MHz<span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    GPIO_Init<span class="op">(</span>GPIOC<span class="op">,</span> <span class="op">&amp;</span>GPIO_InitStructure<span class="op">);</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">// GPIO_SetBits(GPIOC, GPIO_Pin_13); //高电平，</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    GPIO_ResetBits<span class="op">(</span>GPIOC<span class="op">,</span> GPIO_Pin_13<span class="op">);</span> <span class="co">//低电平，灯亮</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="op">(</span><span class="dv">1</span><span class="op">)</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#123;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">&#125;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="op">&#125;</span></span></code></pre></div></li>
</ul>
<h3 id="启动文件的选择">启动文件的选择</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104210621062-1730725582127-1.png" alt="image-20241104210621062">
<figcaption aria-hidden="true">image-20241104210621062</figcaption>
</figure>
<p>​
如图所示为STM32F1系列中的型号分类，根据Flash容量大小分类，F100是超值系列，然后根据Flash容量大小确定</p>
<h3 id="新建工程步骤总结">新建工程步骤总结</h3>
<ul>
<li><strong>建立工程文件夹</strong>，在Keil中创建工程，选择对应的芯片型号。</li>
<li>在工程文件夹里建立
<code>Start</code>、<code>Library</code>、<code>User</code>
等文件夹，复制固件库里面的文件到工程文件夹。</li>
<li>在工程里对应建立
<code>Start</code>、<code>Library</code>、<code>User</code>
等同名的分组，然后将文件夹内的文件添加到工程分组里。</li>
<li><strong>工程选项</strong> -&gt; <strong>C/C++</strong> -&gt; 在
<strong>Include Paths</strong> 内声明所有包含头文件的文件夹路径。</li>
<li><strong>工程选项</strong> -&gt; <strong>C/C++</strong> -&gt; 在
<strong>Define</strong> 内定义 <code>USE_STDPERIPH_DRIVER</code>。</li>
<li><strong>工程选项</strong> -&gt; <strong>Debug</strong> -&gt;
在下拉列表中选择对应调试器 -&gt; <strong>Settings</strong> -&gt;
<strong>Flash Download</strong> 里勾选 <code>Reset and Run</code>。</li>
</ul>
<h3 id="工程架构">工程架构</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/09/stm32-2.xin-jian-gong-cheng/image-20241104211023323.png" alt="image-20241104211023323">
<figcaption aria-hidden="true">image-20241104211023323</figcaption>
</figure>
<ul>
<li>蓝色为启动文件，是程序执行的最基本的文件</li>
</ul>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>STM32</tag>
        <tag>江科大</tag>
      </tags>
  </entry>
  <entry>
    <title>3-1. GPIO输出</title>
    <url>/2024/11/04/stm32-3.gpio/</url>
    <content><![CDATA[<h3 id="gpio输出">GPIO输出</h3>
<h4 id="gpio简介">GPIO简介</h4>
<ul>
<li>GPIO 通用输入输出口</li>
<li>可配置8种输入输出模式</li>
<li>引脚电平：0V-3.3V， 部分引脚可容忍5V</li>
<li>输出模式下可控制端口输出高低电平，用以驱动LED、控制蜂鸣器、模拟通信协议输出时序等</li>
<li>输入模式下可读取端口的高低电平或电压，用于读取按键输入、外接模块电平信号输入、ADC电压采集、模拟通信协议接收数据等</li>
</ul>
<h4 id="gpio基本结构">GPIO基本结构</h4>
<p><img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20240827205639500.png"></p>
<ul>
<li>GPIO 外设的名称是按照GPIOA，GPIOB....</li>
<li>每个GPIO外设，总共有16个引脚，编号0-15，PA0...PA15</li>
<li>在每个GPIO模块内，主要包含了寄存器和驱动器
<ul>
<li>寄存器就是一段特殊的存储器，内核可以通过APB2总线对寄存器进行读写，这样就可以完成输出电平跟读取电平的功能了</li>
<li>寄存器是32位的，跟后面的引脚是对应的，所以只有低16位对应的又端口</li>
<li>驱动器是用来增加信号的驱动能力的</li>
</ul></li>
</ul>
<p>在STM32中，所有GPIO都是挂载在APB2外设总线上的</p>
<p><img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20240827205701930.png"></p>
<h4 id="gpio位结构">GPIO位结构</h4>
<p><img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104212156937.png"></p>
<ul>
<li>左边三个为寄存器</li>
<li>中间虚线部分为驱动器</li>
<li>右边这个就是某一个IO口的引脚</li>
</ul>
<p>​ 整体结构可以分为如下两个部分，上面是输入部分，下面是输出部分。</p>
<p><img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20240827210035886.png"></p>
<p><strong>输入部分</strong></p>
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104212337333.png" alt="image-20241104212337333">
<figcaption aria-hidden="true">image-20241104212337333</figcaption>
</figure>
<ul>
<li>接两个保护二极管对输入电压进行限幅，上面接VDD3.3V，下面VSS 0V。</li>
<li>输入电压大于3.3V，上方二极管导通，电流不流入内部电路了就</li>
<li>输入电压小于0V，下方二极管导通，保护电路</li>
<li>0-3.3V，正常工作</li>
</ul></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104212541578.png" alt="image-20241104212541578">
<figcaption aria-hidden="true">image-20241104212541578</figcaption>
</figure>
<ul>
<li>·上通，下断---&gt;上拉输入模式</li>
<li>上断下通----&gt;下拉输入模式</li>
<li>两个都断开----&gt;浮空输入模式</li>
</ul></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104212709323.png" alt="image-20241104212709323">
<figcaption aria-hidden="true">image-20241104212709323</figcaption>
</figure>
<ul>
<li>这里的触发器应该是翻译错误，应该是施密特触发器，规定某一阈值上下限，高于阈值输出高电平，低于阈值输出低电平</li>
<li>这里是规定了两个值，大于大的才是高，低于小的才为低，在遇到上下限之前~电平不会发生变化</li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20240827210703188.png" alt="image-20240827210703188">
<figcaption aria-hidden="true">image-20240827210703188</figcaption>
</figure></li>
<li>绿色的为上下限阈值，蓝色的为输出波形，红色为给定信号</li>
</ul></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104213316506.png" alt="image-20241104213316506">
<figcaption aria-hidden="true">image-20241104213316506</figcaption>
</figure>
<ul>
<li>经施密特触发器整形的波形就可以直接写入输入数据寄存器了，在用程序读取输入寄存器对应某一位的数据，就可以知道端口的输入电平了</li>
<li>上面那两条线路，就是连接到片上外设的一些端口
<ul>
<li>模拟输入，是连接到ADC上的，因为ADC需要接收模拟量。所以这根线是接到施密特触发器前面的</li>
<li>复用功能输入，连接到其他需要读取端口的外设上的，比如串口的输入引脚等，接收的是数字量，所以在施密特触发器后面</li>
</ul></li>
</ul></li>
<li>输出部分<img src="/medias/loading.gif" data-original="/2024/11/04/stm32-3.gpio/image-20241104213640096.png" alt="image-20241104213640096">
<ul>
<li>数字部分可以由输出数据寄存器或片上外设控制</li>
<li>选择通过输出</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>STM32</tag>
      </tags>
  </entry>
  <entry>
    <title>01. 三电平DCDC拓扑结构介绍</title>
    <url>/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/</url>
    <content><![CDATA[<h2 id="三电平dcdc拓扑结构介绍">01. 三电平DCDC拓扑结构介绍</h2>
<p><strong>单相三电平DCDC变换器-Buck-主电路结构</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709102410864.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709102432328.png"></p>
<p>U<sub>1</sub>为输入电压，U<sub>2</sub>为输出电压，C<sub>12</sub>为分压电容，每个电容的电压为1/2；四个开关管，（都用的双向的，所以可以实现能量的双向流动）；下面的图把电感分为两个是为了对称，为上图的一半；</p>
<ul>
<li><strong>三个电平</strong>： **U<sub>ab</sub>：
0（右侧电路通过S<sub>23</sub>的二极管续流，ab两侧电位差为0，电压为0）</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709103928483.png" alt="image-20240709103928483">
<figcaption aria-hidden="true">image-20240709103928483</figcaption>
</figure>
<p><strong>U<sub>1</sub>/2</strong>：U<sub>ab</sub>为电容C<sub>1</sub>两端的电压</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709104134177.png"></p>
<p><strong>-U<sub>1</sub>/2</strong>：U<sub>ab</sub>为电容C<sub>2</sub>两端的电压</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709104236304.png"></p>
<p>​
S<sub>1</sub>这里就跟电容C<sub>1</sub>并联了，所以对于S<sub>1</sub>,它的耐压基准应该根据U<sub>1</sub>/2来选择，S<sub>4</sub>同理(根据前面一个图来选)</p>
<p><strong>U<sub>1</sub></strong>:</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/09/san-dian-ping-01.san-dian-ping-dcdc-tuo-bu-jie-gou-jie-shao/image-20240709104457821.png"></p>
<p>这里S<sub>2,3</sub>分别与C<sub>1,2</sub>并联了，其耐压也是以U<sub>1</sub>/2</p>
<ul>
<li>S<sub>1,2</sub>互补导通，S<sub>3,4</sub>互补导通，否则上下直流侧会短路从而烧毁管子，则有且仅有四种开关状态</li>
<li><h2 id="两对不同工作状态的管子则最简要么他们的调制信号相同载波不同通常是相位不同或者相反">两对不同工作状态的管子，则最简要么他们的调制信号相同，载波不同（通常是相位不同），或者相反</h2></li>
</ul>
<p><strong>补充：关于调制信号与载波</strong></p>
<p>​ <strong>调制信号</strong>：通常是个低频信号</p>
<p>​ <strong>载波信号</strong>：通常是高频锯齿波或三角波信号</p>
<p><strong>工作过程</strong></p>
<ol type="1">
<li><strong>调制信号与载波信号的比较：</strong>
<ul>
<li>将调制信号与载波信号输入到比较器。</li>
<li>比较器实时比较两者的瞬时值。</li>
</ul></li>
<li><strong>产生PWM信号：</strong>
<ul>
<li>当调制信号大于载波信号时，比较器输出高电平。</li>
<li>当调制信号小于载波信号时，比较器输出低电平。</li>
<li>通过这种比较，产生一个脉宽调制（PWM）信号，其脉冲宽度与调制信号的幅度成比例。</li>
</ul></li>
<li><strong>控制开关管导通：</strong>
<ul>
<li>PWM信号用来驱动开关管（如晶体管或MOSFET）。</li>
<li>当PWM信号为高电平时，开关管导通；当PWM信号为低电平时，开关管关闭。</li>
<li>通过控制PWM信号的占空比，可以精确控制开关管的导通时间，从而实现对负载（如电机、电源）的控制。</li>
</ul></li>
</ol>
<ul>
<li><p>C<sub>1,2</sub>的平衡：考虑电位偏移，电位波动</p></li>
<li><p>换流时最好是0-U<sub>1</sub>/2-U<sub>1</sub>，否则开关损耗增加，电压变化太过剧烈</p></li>
<li><p>输出侧电路和原Buck一致，参数计算方法不变</p></li>
<li><p>其余优点通过理论分析来获得：电感电流纹波减小，纹波频率提高一倍，因此电感体积可以减少</p></li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>02. 工作状态分析</title>
    <url>/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/</url>
    <content><![CDATA[<h2 id="工作状态分析">02. 工作状态分析</h2>
<p><strong>有且仅有四种开关状态</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711154237712.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711154247126.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711153850499.png"></p>
<p>​
电感上的电流是不可以突变的，所以当S<sub>1,4</sub>关断后，电流通过二极管续流，而不是经过开关管</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711154038224.png"></p>
<p>​
这里电流到了B为啥不往上经过二极管，因为：电流更容易往低电位流，上面那电位比下面的电位高</p>
<p><strong>切换开关</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711155235421.png"></p>
<ul>
<li>为保证换流时开关损耗尽可能少，避免（a)和（d）之间切换，(b)和(c)之间切换
<ul>
<li>b-&gt;a，开关管的状态只有S<sub>3,4</sub>发生了变化，但是b-&gt;c，S<sub>1,2</sub>与S<sub>3，4</sub>都发生了变化损耗更大</li>
<li>a，d同理</li>
</ul></li>
<li>不能只有a,d 不能只有b.c</li>
</ul>
<p><strong>有且仅有下面六种</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-02.gong-zuo-zhuang-tai-fen-xi/image-20240711155834457.png"></p>
<ul>
<li>最后两种只用到了b或者c，那么会造成C<sub>1</sub>或C<sub>2</sub>的电位偏移非常严重，使电容不平衡增加，所以舍去最后一行的两种切换模式</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>03. 确定最终的两个调制状态</title>
    <url>/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/</url>
    <content><![CDATA[<h2 id="确定最终的两个调制状态">03. 确定最终的两个调制状态</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711160439391.png" alt="image-20240711160439391">
<figcaption aria-hidden="true">image-20240711160439391</figcaption>
</figure>
<p><strong>常用的载波形状：</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711162116289.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711162201850.png" alt="image-20240711162201850">
<figcaption aria-hidden="true">image-20240711162201850</figcaption>
</figure>
<p>红色的横线为调制信号，大于则为高电平，小于为低电平</p>
<p><strong>第一种情况</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711162406841.png"></p>
<p>观察开关状态可知，aba为中心对称，那么将C的一半时间移到最左边，构成cabac呈现对称性，选用三角波</p>
<p><strong>第二种情况</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711162704946.png"></p>
<p>分析同上</p>
<p><strong>第三种+第四种情况</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-03.que-ding-zui-zhong-de-liang-ge-diao-zhi-zhuang-tai/image-20240711162744813.png"></p>
<p>dcdc的电平越多，分析越复杂，但是三电平整流跟逆变不一样，电平越多，输出交流谐波越好S<sub>1,2</sub>是1.0
选用非对称载波，S<sub>3,4</sub>不是严格的对称载波，可以把C放到a左边，可用锯齿波</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>04.1 交错锯齿波调制</title>
    <url>/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/</url>
    <content><![CDATA[<h2 id="交错锯齿波调制">4.1 交错锯齿波调制</h2>
<blockquote>
<p>图片失联了</p>
</blockquote>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712104549073.png"></p>
<ul>
<li>用锯齿波那么就不用考虑对称了，对于c不用对半分了</li>
</ul>
<p><strong>S<sub>1，2</sub></strong></p>
<ul>
<li>这两个开关管互补导通，所以只看S<sub>1</sub>就行，S<sub>2</sub>进行取反</li>
<li>调制如右图所示，蓝色的直角三角形为载波信号，被绿色的调制信号所截，设调制信号大于载波为高电平，小于载波为低电平，可得10即开关管S<sub>1</sub>的状态，设1为t<sub>1</sub>，0为t<sub>2</sub>，
根据三角形的相似可得调制信号（的高度）为t<sub>1</sub>/T<sub>s</sub>，即为占空比</li>
</ul>
<p><strong>S<sub>3,4</sub></strong></p>
<ul>
<li>对于这俩开关状态，因为是0100，都交叉着，所以可以多写两个周期，如右侧表所示</li>
<li><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712105126369.png">
<ul>
<li>S<sub>1,2</sub>对应的开关状态往左平移半个周期即为S<sub>3,4</sub>的开关状态</li>
<li><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712105313733.png"></li>
<li><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712105355675.png"></li>
</ul></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712105645917.png"></p>
<p>计数器的实现如图红色所示：当他到达周期时间后，重新开始计数</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-04.1.jiao-cuo-ju-chi-bo-diao-zhi/image-20240712105727973.png"></p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>05. 占空比D在0.5到1之间的工作波形分析</title>
    <url>/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/</url>
    <content><![CDATA[<h2 id="占空比d在0.5到1之间的工作波形分析">05.
占空比D在0.5到1之间的工作波形分析</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715150501849.png" alt="开关状态">
<figcaption aria-hidden="true">开关状态</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715150523767.png" alt="D&gt;0.5的工作波形">
<figcaption aria-hidden="true">D&gt;0.5的工作波形</figcaption>
</figure>
<p><strong>开关管S<sub>1,2</sub></strong></p>
<ul>
<li>横着的线为调制信号，有两个相位相差180°的载波，跟同一个调制信号比较，归一化之后认为载波为0-1，所以调制信号视为
D 。</li>
<li>调制信号与载波进行比较，中间这个时间就是**t<sub>1</sub>=D*T<sub>s</sub>**
，大于载波就是高电平，小于载波为低电平，这个时间就是图一中的t<sub>1</sub>。</li>
<li>所以S<sub>1</sub>就是010，S<sub>2</sub>为其互补。为101</li>
</ul>
<p><strong>开关管S<sub>3,4</sub></strong></p>
<ul>
<li>同样的比较方式，S<sub>4</sub>为101，S<sub>3</sub>互补</li>
<li>所以对应中间的这段时间即为t<sub>2</sub>。可得<strong>t<sub>2</sub>=（1-D）T<sub>s</sub></strong>
。</li>
</ul>
<p><strong>电感波形 i<sub>L</sub></strong></p>
<ul>
<li><p>电感电流先看电感电压，电压大于0，电感电流上升，电压小于0.电感电流下降，（通过i=L*du/dt）</p></li>
<li><p><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715151636879.png"></p></li>
<li><p>由图可以看出，电感上的电压就是U<sub>ab</sub>减去U<sub>2</sub></p></li>
<li><p><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715151824042.png"></p></li>
<li><p>那么对于dU<sub>1</sub> &lt;0，
对应的时间段i<sub>L</sub>呈现下降趋势，dU<sub>2</sub>时间上升，+伏秒平衡，上升的值等于下降的值</p></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715152036951.png" alt="电感电流波形">
<figcaption aria-hidden="true">电感电流波形</figcaption>
</figure>
<p><strong>输入输出对应的关系跟普通的一样</strong></p>
<p>U<sub>ab</sub><em>所对应的时间等于U<sub>2</sub></em>Ts，根据上图的电压值与时间的对应关系可得：</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715152510327.png"></p></li>
</ul>
<p><strong>电感电流纹波的变化</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715152752499.png"></p>
<ul>
<li>直接计算红色部分的电感电流纹波，因为这段变化的时间是已知的，就是t<sub>2</sub></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715153131058.png" alt="三电平的电感电流纹波">
<figcaption aria-hidden="true">三电平的电感电流纹波</figcaption>
</figure></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-05.zhan-kong-bi-d-zai-0.5-dao-1-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715153230930.png" alt="一般buck的电感电流纹波">
<figcaption aria-hidden="true">一般buck的电感电流纹波</figcaption>
</figure></li>
<li>三电平的多减了一个u1/2，所以其电感电流纹波减少，且倍频了，相同标准时电感体积可以更小</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>04. 载波调制过程详细分析</title>
    <url>/2024/07/11/san-dian-ping-04.zai-bo-diao-zhi-guo-cheng-xiang-xi-fen-xi/</url>
    <content><![CDATA[<h2 id="载波调制过程详细分析">04. 载波调制过程详细分析</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-04.zai-bo-diao-zhi-guo-cheng-xiang-xi-fen-xi/image-20240712101818471.png" alt="image-20240712101818471">
<figcaption aria-hidden="true">image-20240712101818471</figcaption>
</figure>
<p>​
设C为t<sub>2</sub>将其分成两份，为使两电容电位平衡，可得b的时间也为t<sub>2</sub>，由S<sub>1</sub>01110
可得载波为等腰三角波，被调制信号所截，为010 。</p>
<p>得到<strong>调制的两种思路</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-04.zai-bo-diao-zhi-guo-cheng-xiang-xi-fen-xi/image-20240712102035604.png"></p>
<p>​ 用相同的调制信号与相位相差180°的载波进行比较</p>
<ul>
<li>S<sub>1</sub>用上面的</li>
<li>S<sub>3</sub>用下面的，比较方式变了，当小于载波的时候对应S<sub>3</sub>是高电平，大于的时候为低电平，为010，</li>
<li>t<sub>1</sub>+t<sub>2</sub>=T<sub>s</sub></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-04.zai-bo-diao-zhi-guo-cheng-xiang-xi-fen-xi/image-20240712102139539.png"></p>
<p>​ 用同一个载波，用互补的两个调制信号进行比较</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/11/san-dian-ping-04.zai-bo-diao-zhi-guo-cheng-xiang-xi-fen-xi/image-20240712103835307.png"></p>
<p>也是可以用上述两种调制方式</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>06. 占空比D在0到0.5之间的工作波形分析</title>
    <url>/2024/07/15/san-dian-ping-06.zhan-kong-bi-d-zai-0-dao-0.5-zhi-jian-de-gong-zuo-bo-xing-fen-xi/</url>
    <content><![CDATA[<h2 id="占空比d在0到0.5之间的工作波形分析">06.
占空比D在0到0.5之间的工作波形分析</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-06.zhan-kong-bi-d-zai-0-dao-0.5-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715153716110.png" alt="image-20240715153716110">
<figcaption aria-hidden="true">image-20240715153716110</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-06.zhan-kong-bi-d-zai-0-dao-0.5-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715153725566.png" alt="image-20240715153725566">
<figcaption aria-hidden="true">image-20240715153725566</figcaption>
</figure>
<ul>
<li>一样的分析。<strong>t<sub>1</sub>=DT<sub>s</sub></strong>。
<strong>t<sub>2</sub>= (1-D)T<sub>s</sub></strong></li>
<li>0&lt;U<sub>2</sub>&lt;U<sub>1</sub>/2;
dU<sub>1</sub>=U<sub>1</sub>/2-U<sub>2</sub>&gt;0;
此时电感电流上升。dU<sub>2</sub>=-U<sub>2</sub>&lt;0，下降</li>
<li>**电感电流纹波：（选取t<sub>1</sub>-t<sub>2</sub>）
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-06.zhan-kong-bi-d-zai-0-dao-0.5-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715154250607.png" alt="三电平电感电流纹波">
<figcaption aria-hidden="true">三电平电感电流纹波</figcaption>
</figure></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-06.zhan-kong-bi-d-zai-0-dao-0.5-zhi-jian-de-gong-zuo-bo-xing-fen-xi/image-20240715154446961.png" alt="一般buck的电感电流纹波">
<figcaption aria-hidden="true">一般buck的电感电流纹波</figcaption>
</figure></li>
<li>又多减去了U1/2L*DT<sub>s</sub></li>
<li>带入数据可得，相比于之前，电感电流波动总共减少了5.2A,之前总共约7.8A，还剩2.6A</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>07. 重新计算输出侧电感值和电容值</title>
    <url>/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/</url>
    <content><![CDATA[<h2 id="重新计算输出侧电感值和电容值">07.
重新计算输出侧电感值和电容值</h2>
<p>​
首先根据设计要求，计算出占空比，选择对应的开关控制策略，及其相应的纹波计算公式</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/image-20240715155045802.png" alt="设计要求">
<figcaption aria-hidden="true">设计要求</figcaption>
</figure>
<h4 id="输出侧电感值">输出侧电感值</h4>
<p><strong>根据新的纹波公式重新计算电感参数：</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/image-20240715155225523.png"></p>
<p><strong>关于这个电感电流纹波值8</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/image-20240715155458910.png"></p>
<p>设计要求里面的4A是指上下，而计算中的为总的纹波，应该是4+4=8</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/image-20240715155322015.png"></p>
<h4 id="输出侧电容值">输出侧电容值</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/12/san-dian-ping-07.chong-xin-ji-suan-shu-chu-ce-dian-gan-zhi-he-dian-rong-zhi/image-20240715155800696.png" alt="image-20240715155800696">
<figcaption aria-hidden="true">image-20240715155800696</figcaption>
</figure>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>08. 计算输入侧分压电容</title>
    <url>/2024/07/15/san-dian-ping-08.ji-suan-shu-ru-ce-fen-ya-dian-rong/</url>
    <content><![CDATA[<h2 id="计算输入侧分压电容">08. 计算输入侧分压电容</h2>
<p>0&lt;D&lt;0.5,C-D-B-D-C</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-08.ji-suan-shu-ru-ce-fen-ya-dian-rong/image-20240715212810924.png"></p>
<p>​
为了保持电荷平衡，b的时间跟c的时间是一样的，工作状态在bd之间与cd之间切换，二者具有对称性，只分析一个即可。</p>
<p>​
在b状态。C<sub>1</sub>放电给负载，由<strong>能量守恒</strong>，在这个状态时间内，负载需要P*t<sub>1</sub>能量，所以电容必须提供这么大的能量：</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-08.ji-suan-shu-ru-ce-fen-ya-dian-rong/image-20240715213302974.png" alt="image-20240715213302974">
<figcaption aria-hidden="true">image-20240715213302974</figcaption>
</figure>
<ul>
<li>这里U<sub>1</sub>是指在t<sub>0</sub>初始时刻电容两端的电压值，U<sub>2</sub>指经过时间t，电容两端的电压</li>
<li>U<sub>1</sub>+U<sub>2</sub>可以近似为直流侧的电压即电源电压U<sub>dc</sub>，基本不变</li>
<li>P为额定功率，t<sub>1</sub>表示b状态作用的时间，t<sub>1</sub>=DTs，都是保持不变</li>
<li><img src="/medias/loading.gif" data-original="/2024/07/15/san-dian-ping-08.ji-suan-shu-ru-ce-fen-ya-dian-rong/image-20240715213650071.png">
<ul>
<li>△U<sub>cmax</sub>=2%*Udc=8V，可取C<sub>1</sub>=C<sub>2</sub>=22uf</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>09. 开环仿真验证</title>
    <url>/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/</url>
    <content><![CDATA[<h2 id="开环仿真验证">09. 开环仿真验证</h2>
<h4 id="模型初始化参数">模型初始化参数</h4>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716095949318.png">模型属性</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716100026671.png"></p>
<h4 id="分压电容">分压电容</h4>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716101041055.png"></p>
<ul>
<li>在仿真中，电容不能直接与电源并联，会报错，所以加上一个电阻，设置一个非常小的电阻值，不会对电容产生影响</li>
<li>设置初始电压为Udc/2</li>
</ul>
<h4 id="模块旋转">模块旋转</h4>
<p>ctrl + R = 旋转90° ctrl + I = 左右旋转</p>
<h4 id="信号调制">信号调制</h4>
<p><strong>总体介绍</strong></p>
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152008403.png" alt="image-20240716152008403">
<figcaption aria-hidden="true">image-20240716152008403</figcaption>
</figure></li>
</ul>
<p><strong>模块介绍</strong></p>
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152027015.png" alt="image-20240716152027015">表示占空比</li>
<li><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152049383.png" alt="image-20240716152049383">这个就是载波；参数设计为：<img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152111011.png" alt="image-20240716152111011"></li>
<li>因为载波为0-1，所以加一个限幅：<img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152146101.png" alt="image-20240716152146101">设置为0-0.98</li>
<li><img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152201990.png" alt="image-20240716152201990">比较模块；<img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152217557.png" alt="image-20240716152217557"></li>
<li>调制信号大于载波，则开关管1输出高电平，否则输出低电平，开关管2与之相反</li>
<li>对于<strong>S<sub>3,4</sub></strong>其载波有：<img src="/medias/loading.gif" data-original="/2024/07/16/san-dian-ping-09.kai-huan-fang-zhen-yan-zheng/image-20240716152345436.png" alt="image-20240716152345436">波形相差180°</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>木修于淋</tag>
        <tag>三电平DCDC</tag>
      </tags>
  </entry>
  <entry>
    <title>GPIO输出</title>
    <url>/2024/09/10/dan-pian-ji-gpio-shu-chu/</url>
    <content><![CDATA[<h2 id="gpio输出">GPIO输出</h2>
<h3 id="gpio内部示意图">GPIO内部示意图</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910083607163.png"></p>
<p>​ 所以GPIO配置为输出时，就会处于这三种状态</p>
<h3 id="推挽输出">推挽输出</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910083742242.png"></p>
<p>把这俩拿出来做个组合</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910083819842.png"></p>
<p>​ 输出高电平为推，把电流推出去</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910083844787.png"></p>
<p>​
输出为低电平的时候，电流流入，给外面的MOS的栅极放电，给电流挽回来</p>
<h3 id="开漏输出">开漏输出</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910153145304.png"></p>
<p>这个组合里，上面的MOS一直是关闭的，这时候下面MOS管的漏极就相当于啥也没接，就是<strong>开漏</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910153254163.png" alt="image-20240910153254163">
<figcaption aria-hidden="true">image-20240910153254163</figcaption>
</figure>
<p><strong>第一个作用</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910153441565.png"></p>
<ul>
<li>Q2关闭，输出为高阻态，这时候给他一个上拉电阻，输出为3.3V的高电平</li>
<li>Q2打开，电压全部落在上拉电阻上，该点处电压为低电平</li>
</ul>
<p><strong>第二个作用</strong></p>
<p>​ 实现几个GPIO同时控制一个输入</p>
<p><strong>如果用推挽的话</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910153734659.png"></p>
<p>所以需要把两个GPIO配置为开漏模式，然后再外接一个上拉电阻</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/10/dan-pian-ji-gpio-shu-chu/image-20240910153821628.png"></p>
<p>​ 只要有任意一个GPIO输出低电平，这边的enable就是低电平</p>
<p>​ 如果都处于高阻态，就输出高电平</p>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>单片机</tag>
      </tags>
  </entry>
  <entry>
    <title>看门狗</title>
    <url>/2024/08/19/dan-pian-ji-kan-men-gou/</url>
    <content><![CDATA[<h3 id="看门狗">看门狗</h3>
<p><strong>设计目的：</strong>防止死机，cpu死机后，触发看门狗，复位</p>
<h4 id="什么是看门狗">什么是看门狗</h4>
<p>看门狗----Watch Dog Timer 本质还是一个<strong>定时器</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819141651132.png"></p>
<p>比如这样一个八位的定时器，他最多可定时255个脉冲，if一个脉冲时间为1ms，就可以定时255ms</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819142021849.png"></p>
<p>看门狗到达时间后不是中断，而是<strong>重启</strong></p>
<h4 id="怎么使用看门狗">怎么使用看门狗</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819142124282.png"></p>
<p>这是一段流水灯的程序</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819142239363.png"></p>
<p>然后加入看门狗，设置看门狗时间为50ms，当时间到达50ms，重启。所以在循环里面加入喂狗，每次进入玄幻看门狗清零，然后执行流水灯程序，用时40ms，该循环结束，重新进入循环，看门狗时间清零，如此往返，</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819142621296.png"></p>
<p>​ 直到某次，死机了，</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/19/dan-pian-ji-kan-men-gou/image-20240819142741889.png"></p>
<p>程序就不会回到第一步去喂狗了，时间到达50ms，触发复位</p>
]]></content>
      <categories>
        <category>嵌入式</category>
      </categories>
      <tags>
        <tag>单片机</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件02-----二极管</title>
    <url>/2024/08/28/qi-jian-02-er-ji-guan/</url>
    <content><![CDATA[<h2 id="电子器件02-----二极管">电子器件02-----二极管</h2>
<h3 id="前言">前言</h3>
<p>​ 二极管的本质是由P型半导体和N型半导体接触形成的PN结</p>
<p>​ PN结除了构成单向到点的二极管外，还存在一个结电容</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828082007449.png"></p>
<p><strong>结电容会导致‘双向’导电</strong></p>
<h3 id="反向恢复时间">反向恢复时间</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828082922646.png"></p>
<h5 id="对于二极管串联电阻的情况">对于二极管串联电阻的情况</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828082952128.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828083004153.png"></p>
<p>在t<sub>1</sub>时刻，电压反向，但二极管的并<strong>不是立即截止</strong>，而是由正向的I<sub>F</sub>变成一个很大的反向电流
I<sub>R</sub>=V<sub>R</sub>/R<sub>L</sub>(R<sub>L</sub>是与二极管串联的电阻)这个电流维持一段时间t<sub>S</sub>之后才逐渐下降，再经过t<sub>t</sub>后，下降到一个很小的值0.1R，这时二极管才进入反向截止状态。</p>
<p><strong>把二极管从正向导通转为反向截止所经过的转化过程称为反向恢复过程</strong></p>
<p>t<sub>S</sub>称为<strong>存储时间</strong>；t<sub>t</sub>称为<strong>过渡时间</strong>；t<sub>rr</sub>=t<sub>s</sub>+t<sub>t</sub>
称为**反向恢复时间</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828083446010.png"></p>
<ul>
<li>由于结电容的存在，电压不能突变，所以在电压突变之后，且由于之前存储的电荷，电荷没有放完，二极管两端的电压就不会变反向</li>
<li>因为电源电压方向，所以电流也会立马反向，需要注意，这时电流的成因是少数载流子反向运动的结果，到了t<sub>s</sub>，少数载流子被消耗光了，二极管恢复反向阻断能力</li>
</ul>
<h5 id="对于二极管串联电感的情况">对于二极管串联电感的情况</h5>
<p>电路不同，当没有电阻或者电阻很小的时候，反向电流会非常大，从正向变为反向需要时间，di/dt就非常大，就不能忽略电感了</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828083913935.png"></p>
<ul>
<li>t<sub>0</sub>时刻，电源突然反向，此时二极管内充满电荷，相当于导体，压降很小，反向电压全部落在电感上，电流以斜率为di/dt斜率下降</li>
<li>t<sub>s</sub>二极管恢复阻断能力，此时电流达到最大，随后电流下降</li>
<li>t&gt;t<sub>s</sub>后，二极管的电流为复合电流，随着载流子越来越少，电流也越来越小，此时电感会阻碍电流变小，因此会产生反向感应电压，这会导致在二极管两侧的反向电压比电源电压还大，也就是会出现<strong>反向电压尖峰V<sub>rm</sub></strong></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/28/qi-jian-02-er-ji-guan/image-20240828083933570.png"></p>
<h5 id="总结">总结</h5>
<ul>
<li><strong>总的来说，反向恢复时间就是存储的少数载流子耗尽所需要的时间</strong></li>
<li>误区：反向恢复时间与结电容的大小其实没啥关系</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件04-----TVS</title>
    <url>/2024/08/21/qi-jian-04tvs/</url>
    <content><![CDATA[<h3 id="电子器件04-----tvs">电子器件04-----TVS</h3>
<p>​ TVS（Transient Voltage
Suppression）二极管，也称为<strong>瞬态电压抑制二极管</strong>，是一种用于保护电子电路免受瞬态电压冲击的器件。作用：<strong>抑制电压峰值</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821105350767.png"></p>
<p>​
比如这里，电源为5V，这时候突然来了个2000V的尖峰电压，如果没有TVS，内部电路会被烧坏，但是经过TVS之后，它的电压波形会变成右边所示，
TVS把它的电压钳位在了10V，所以后面的电路就可以免收尖峰电压的冲击</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821105554721.png"></p>
<ul>
<li><p>当5V的电压工作时，TVS的阻抗非常高，该支路相当于开路状态</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821105649150.png"></p></li>
<li><p>当尖峰电压来临，这个TVS的阻抗变得极低，此时电压尖峰的能量都通过TVS流向了负极，相当于TVS把后面都给短路了</p></li>
</ul>
<h4 id="重要参数">重要参数</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821110011921.png"></p>
<p>下图为它的伏安特性曲线，右边为正向导通，左边为施加反向电压，施加正向时与普通无异，主要就是施加反向电压时的这些参数</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821110727339.png"></p>
<ul>
<li>在达到V<sub>RWM</sub>时，它的电流I<sub>R</sub>及其微弱，只有1.5ua，V<sub>RWM</sub>就是最大工作电压，对应电流为漏电流，设备工作范围就应该在V<sub>RWM</sub>内，当设备电压小于该值时，漏电流较小，当设备电压大于该值的时候，漏电流急剧增大，漏电流过大意味着能耗越大</li>
<li>当到达V<sub>BR</sub>时，TVS开始击穿，所以V<sub>BR</sub>叫做反向击穿电压，之后电流增加的更加急剧。但是电压增加的很慢，直到增加到V<sub>C</sub></li>
<li>V<sub>C</sub>是钳位电压，此型号的V<sub>C</sub>为11V，代表的意义是，当TVS接收到来自电源的尖端电压后，会将这个尖端电压钳位到11V，设备工作时<strong>最大电压</strong>一定要大于V<sub>C</sub>,
因为V<sub>C</sub>随时都可能出现，如果设备工作的最大电压小于这个值，会导致设备损坏，与之相对的电流就是I<sub>pp</sub>峰值脉冲电流，意思是当TVS处于钳位电压时，他能流过的最大电流，该型号的I<sub>PP</sub>为120A，如果超过这个电流TVS可能会发生损坏
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-04tvs/image-20240821111326638.png"></li>
<li>V<sub>c</sub>*I<sub>pp</sub>=P<sub>PP</sub>,就是反向脉冲峰值功率P<sub>pp</sub>那么如果说工作过程可能出现的静电能量是1000w，那么P<sub>pp</sub>&gt;1000w,否则管子也可能击穿</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件01-----MOS管</title>
    <url>/2024/08/21/qi-jian-01mos-guan/</url>
    <content><![CDATA[<h2 id="电子器件01-----mos管">电子器件01-----MOS管</h2>
<h3 id="三个极的判定">1. 三个极的判定</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/ae3be941d58a27bc1c7ae66900a319c1.png">
G极(gate)—栅极，不用说比较好认
S极(source)—源极，不论是P沟道还是N沟道，两根线相交的就是
D极(drain)—漏极，不论是P沟道还是N沟道，是单独引线的那边</p>
<h3 id="n沟道与p沟道判别">2. N沟道与P沟道判别</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/64c2d9fd96130f91825e0e984d740bcc.png"><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/9ef5be7a51aeceb28b8987a10ec993d0.png">
箭头指向G极的是N沟道 箭头背向G极的是P沟道</p>
<h3 id="寄生二极管方向判定">3. 寄生二极管方向判定</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/0d3f045ce50459361e98fbabf604795f.png" alt="这里写图片描述"><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/c2f7e5496a9171ae53d25792558fec95.png" alt="这里写图片描述">
不论N沟道还是P沟道MOS管，中间衬底箭头方向和寄生二极管的箭头方向总是一致的：
<strong>要么都由S指向D，要么都有D指向S</strong></p>
<h3 id="mos管的方向">MOS管的方向</h3>
<ul>
<li>nmos--从D到S，D接电源正极，S接电源负极</li>
<li>Pmos--从S到D，S接电源正极，D接电源负极</li>
</ul>
<p>这个跟二极管对应着看就行，二极管导通要我MOS干嘛</p>
<p>也不能这么说，SD是同一沟道的两端，跟PN结不一样，这玩意两个方向其实都能导通，只要满足导通条件，</p>
<h3 id="mos管的导通">MOS管的导通</h3>
<ul>
<li>nmos---G为高电平，S为低电平（D--&gt;S)</li>
<li>pmos---S极电压大于G极，则导通(S--&gt;D)</li>
</ul>
<h3 id="mos开关实现的功能">4. MOS开关实现的功能</h3>
<ul>
<li>信号切换</li>
<li>电压通断</li>
</ul>
<h3 id="mos管用作开关时在电路中的连接方法">5.
MOS管用作开关时在电路中的连接方法</h3>
<p>关键点:</p>
<ul>
<li><p>确定那一极连接输入端，那一极连接输出端</p></li>
<li><p>控制极电平为？V 时MOS管导通</p></li>
<li><p>控制极电平为？V 时MOS管截止</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/132d75104da1250e7e34398a024abebc.png" alt="这里写图片描述"><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/94bbdd38004fca0abedb90ff7033ee45.png" alt="这里写图片描述"></p>
<p>NMOS：D极接输入，S极接输出 PMOS：S极接输入，D极接输出</p></li>
</ul>
<p><strong>反证法加强理解</strong> NMOS假如：S接输入，D接输出 <img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/a323f755db58f9f870272b32bb82e765.png" alt="这里写图片描述">
由于寄生二极管直接导通，因此S极电压可以无条件到D极，MOS管就失去了开关的作用
PMOS假如：D接输入，S接输出 <img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/9cbebe85df4c5c1413c116ce4efdbc03.png" alt="这里写图片描述"> 同样失去了开关的作用</p>
<h3 id="mos管的开关条件">6. MOS管的开关条件</h3>
<p>N沟道—导通时 Ug&gt; Us,Ugs&gt; Ugs(th)时导通 P沟道—导通时 Ug&lt;
Us,Ugs&lt; Ugs(th)时导通
总之，导通条件：<strong>|Ugs|&gt;|Ugs(th)|</strong></p>
<ul>
<li><p><strong>n型三极管（NPN）</strong>：</p>
<ul>
<li><strong>高电平</strong>（基极相对于发射极的电压高于0.7V）时导通。</li>
<li><strong>低电平</strong>时断开。</li>
</ul></li>
<li><p><strong>p型三极管（PNP）</strong>：</p>
<ul>
<li><p><strong>低电平</strong>（基极相对于发射极的电压低于-0.7V）时导通。</p></li>
<li><p><strong>高电平</strong>时断开。</p></li>
</ul></li>
</ul>
<h3 id="相关概念">7. 相关概念</h3>
<p><strong>BJT</strong> Bipolar Junction Transistor
双极性晶体管，BJT是电流控制器件； <strong>FET</strong> Field Effect
Transistor 场效应晶体管，FET是电压控制器件.
按结构场效应管分为：结型场效应（简称JFET）、绝缘栅场效应（简称MOSFET）两大类
按沟道材料：结型和绝缘栅型各分N沟道和P沟道两种.
按导电方式：耗尽型与增强型，结型场效应管均为耗尽型，绝缘栅型场效应管既有耗尽型的，也有增强型的。
总的来说场效应晶体管可分为结场效应晶体管和MOS场效应晶体管，而MOS场效应晶体管又分为N沟耗尽型和增强型；P沟耗尽型和增强型四大类。</p>
<h3 id="mos管重要参数">8. MOS管重要参数</h3>
<p>①封装 ②类型（NMOS、PMOS）
③耐压Vds（器件在断开状态下漏极和源极所能承受的最大的电压） ④饱和电流Id
⑤导通阻抗Rds ⑥栅极阈值电压Vgs(th)</p>
<h3 id="从mos管实物识别管脚">9. 从MOS管实物识别管脚</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/efa35a300065748d7fd26bf13d9bfd5a.png" alt="这里写图片描述"> 无论是NMOS还是PMOS
按上图方向摆正，中间的一脚为D，左边为G，右边为S。
或者这么记：单独的一脚为D，逆时针转DGS。
这里顺便提一下三极管的管脚识别：同样按照上图方向摆正，中间一脚为C，左边为B，右边为E。</p>
<p><strong>管脚编号</strong> <img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/2f582e677354f945e3ef8ef879f69e76.png" alt="这里写图片描述"> 从G脚开始，逆时针123
三极管的管脚编号同样从B脚开始，逆时针123</p>
<h3 id="用万用表辨别nnospmos">10. 用万用表辨别NNOS、PMOS</h3>
<p>借助寄生二极管来辨别。将万用表档位拨至二极管档，红表笔接S,黑表笔接D，有数值显示，反过来接无数值，说明是N沟道，若情况相反是P沟道。</p>
<h3 id="画一个mos管">11. 画一个MOS管</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-01mos-guan/a7d7e822d114cfe84232d3df505bec93.png" alt="这里写图片描述">
<figcaption aria-hidden="true">这里写图片描述</figcaption>
</figure>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件03-----三极管</title>
    <url>/2024/08/21/qi-jian-03-san-ji-guan/</url>
    <content><![CDATA[<h2 id="电子器件03-----三极管">电子器件03-----三极管</h2>
<h3 id="三个极的判定">1. 三个极的判定</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240821164130856.png"></p>
<ul>
<li>B极 基极</li>
<li>C 集电极，没有箭头</li>
<li>E 发射极， 有箭头</li>
</ul>
<h3 id="n沟道与p沟道判别">2. N沟道与P沟道判别</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240821164753128.png"></p>
<ul>
<li><strong>1. NPN三极管：</strong>
<strong>基极加高电压，集电极与发射极短路，即三极管导通；</strong>
基极加低电压，集电极与发射极开路，即三极管截止。</li>
</ul>
<p>即高电位（高电平）有效。</p>
<ul>
<li><strong>2. PNP三极管：</strong>
基极高电压，集电极与发射极开路，即三极管截止；
<strong>基极加低电位，集电极与发射极短路，即三极管导通。</strong></li>
</ul>
<p>即低电位（低电平）有效。</p>
<h4 id="npn与pnp的区别">3. NPN与PNP的区别？</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240821165722629.png"></p>
<p>答：NPN：用 B→E 的电流（IB）控制 C→E
的电流（IC）。E极电位最低，且正常放大时通常C极电位最高，即 VC &gt; VB
&gt; VE；</p>
<p>PNP：用 E→B 的电流（IB）控制 E→C
的电流（IC）。E极电位最高，且正常放大时通常C极电位最低，即 VC &lt; VB
&lt; VE。</p>
<h4 id="三极管导通条件">4. 三极管导通条件</h4>
<p>导通这玩意是不看集电极的，只看基极跟发射极</p>
<ul>
<li>NPN型三极管的导通条件是：基极-发射极电压（V_BE）大于其导通电压，一般在0.6V至0.7V之间，同时集电极-发射极电压（V_CE）为正。这意味着基极电流流入，电子从发射极流向集电极，导致三极管导通。</li>
<li>对于PNP型三极管，其导通条件是：基极-发射极电压（V_BE）小于负导通电压（通常在-0.6V至-0.7V之间），同时集电极-发射极电压（V_CE）为负值。也就是说，基极电压低于发射极电压，电子从集电极流向发射极，导致三极管导通。</li>
</ul>
<h4 id="正偏反偏">5. 正偏反偏</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240822133600971.png"></p>
<p>不知道是不是可以这样理解，已知对于NPN型BJT，当其工作在放大区时，有U<sub>c</sub>&gt;U<sub>B</sub>&gt;U<sub>E</sub>,然后再记住发射结正偏集电结反偏时处于放大区，这下好了~死记硬背了，寄</p>
<p>以NPN为例，集电极与基极之间形成PN结称为<strong>集电结</strong>；发射区与基区之间形成的PN结为<strong>发射结</strong></p>
<ul>
<li>当C点电位高于b点电位几伏时，<strong>集电结处于反偏状态</strong></li>
<li>当b点电位高于e点电位零点几伏时，<strong>发射极处于正偏状态</strong></li>
</ul>
<p><strong>悟道</strong></p>
<p>​
联想记忆，是不是可以考虑PN结，NPN，基极为P，那么电压高放前面，PN就是正偏，NP就是反偏，发射极正偏的话就是说PN，基极到发射极，UB&gt;UE</p>
<p>​ 再进一步，也就是说，NPN型，正偏的时候肯定是Ub大；反偏肯定Ub小</p>
<h4 id="三个工作区域">6. 三个工作区域</h4>
<h5 id="截止区">截止区</h5>
<p>​ 三极管的发射结反偏，集电结反偏时，三极管会进入截止状态</p>
<p>Uc &gt; Ub且Ue &gt; Ub</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240822135429144.png"></p>
<p>​
还是得看水龙头，这个基极不过是个开关，流通还得是集电极跟发射极，那么对于一般的三极管，都是集电极输出，意思就是你打开阀门~肯定是集电极那就开始放大了，然后留到发射极，而不是在发射极才放大输出</p>
<h5 id="放大区">放大区</h5>
<p>​ ”当三极管发射结正偏，<a href="https://www.zhihu.com/search?q=集电结&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A3112575006%7D">集电结</a>反偏，三极管就会进入<strong>放大状态</strong>。”</p>
<p>​ U<sub>E</sub>&gt;U<sub>B</sub>&gt;U<sub>C</sub>;</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240822140355730.png"></p>
<p>在放大状态下，基极电流大一点儿~集电极的电流也会跟着变大</p>
<h5 id="饱和区">饱和区</h5>
<p>“当三极管发射结正偏，集电结正偏时，三极管工作在<strong>饱和状态</strong>。”</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/qi-jian-03-san-ji-guan/image-20240822140705435.png"></p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件05-----继电器</title>
    <url>/2024/08/26/qi-jian-05-ji-dian-qi/</url>
    <content><![CDATA[<h2 id="电子器件05-----继电器">电子器件05-----继电器</h2>
<p><strong>控制原理</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/qi-jian-05-ji-dian-qi/image-20240826131510078.png"></p>
<p>​ 给线圈接电，线圈有了磁性，它的衔铁会被吸引，这样电灯泡就会被电量</p>
<p><strong>继电器外壳</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/qi-jian-05-ji-dian-qi/image-20240826131627090.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/qi-jian-05-ji-dian-qi/image-20240826131652546.png"></p>
<p><strong>coil
5V：</strong>当施加5V的电压的时候，继电器的触电就会闭环，灯泡亮</p>
<p>​ 当施加电压小于5V的时候，所激发的电磁力不能激发触电动作</p>
<p>​ 当施加电压大于5V时，继电器的线圈很可能会直接烧毁</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/qi-jian-05-ji-dian-qi/image-20240826132102772.png"></p>
<p>​ 给mos管一个高电平，线圈接收到5V的电压，触点闭合，灯泡点亮</p>
<p><strong>与mos管比，继电器的优缺点：</strong></p>
<p><strong>优点</strong></p>
<ul>
<li>与MOS相比，继电器更能适应大电压大电流，
<ul>
<li>比如图中的继电器外壳数值，说的是它在直流电压下，最高能承受110V的电压，在给他施加交流电时，能承受380V交流电</li>
<li>MOS管是不能施加交流电的</li>
</ul></li>
<li>继电器具有电气隔离功能
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/08/26/qi-jian-05-ji-dian-qi/image-20240826132641345.png"></li>
</ul></li>
</ul>
<p><strong>劣势</strong></p>
<ul>
<li>开关次数：10w次，mos不用管开关次数</li>
<li>动作时间：10ms，1s开关100次，mos：10ns，继电器吸合一次的时间mos有100w次</li>
<li>散热：继电器不需要散热。稍微有点功率的mos得加散热</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件06-----变压器</title>
    <url>/2024/08/27/qi-jian-06-bian-ya-qi/</url>
    <content><![CDATA[<h2 id="电子器件06-----tvs变压器">电子器件06-----TVS变压器</h2>
<h3 id="变压器模型">变压器模型</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827085023143.png" style="zoom:200%;"></p>
<p><strong>作用：</strong></p>
<ul>
<li>电气隔离</li>
<li>提高降低电压或电流</li>
</ul>
<p><span class="math display">\[
\frac{\nu_1}{\nu_2}=\frac{N_1}{N_2}\quad\frac{i_1}{i_2}=\frac{N_2}{N_1}
\]</span></p>
<p><strong>两绕组上的点用于指示其相对极性</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827085207175.png"></p>
<p>对于这种在一起的同边的<strong>同名端</strong></p>
<ul>
<li>电压
<ul>
<li>左边上正下负，则右边上正下负</li>
</ul></li>
<li>电流
<ul>
<li>左边流入，右边流出</li>
</ul></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827085344393.png"></p>
<p>如果不在一起</p>
<ul>
<li>电压
<ul>
<li>左边上正下负，右边上负下正</li>
</ul></li>
<li>电流
<ul>
<li>左边流入，右边从那个圆点流出</li>
</ul></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827085553811.png"></p>
<p>​
所以说，在做仿真时，变压器出现的漏感，导线电阻等通通可以不管，只需要考虑Lm跟匝数比</p>
<p><strong>当变压器电路周期电压电流工作时，各开关周期起止时刻磁链必须相同，否则将导致磁饱和</strong></p>
<p>+++</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827102231723.png"></p>
<ul>
<li><p>绕组有电阻，电源电压有一部分会降落在绕组电阻上</p></li>
<li><p>大部分磁通沿着铁心形成闭环，大部分磁通是这样的，称为主磁通</p></li>
<li><p>还有一部分，在气隙中形成回路，这部分称为漏磁通</p></li>
<li><p>两个磁通都会在一次绕组中感应出电动势</p></li>
<li><p>忽略绕组电阻与漏磁通</p></li>
<li><p>近似认为一次侧的电压和感应电动势相等</p></li>
<li><p><span class="math display">\[
\dot{U}_1\approx-\dot{E}_1
\]</span></p>
<h3 id="为啥电源方向与感应电动势方向是反的"><strong>为啥电源方向与感应电动势方向是反的</strong></h3></li>
</ul>
<p><strong>基于理想变压器的分析</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827103055851.png"></p>
<ul>
<li>一次侧的线圈相当于纯感性的负载，所以一次侧的电流会滞后于一次侧电压90°</li>
<li>一次侧的电流全部用来建立主磁通，磁化电流与主磁通成正比，且没有相位差，也就是说，主磁通的方向是与一次侧电流相位相同，且同样呈正弦规律变化</li>
<li>变化的磁通又在一次侧产生感应电动势，感应电动势正比于磁通变化率，且呈阻碍原磁通作用：<span class="math inline">\(e=-N\frac{d\phi}{dt}\)</span></li>
<li>所以对于正弦变化的磁通，先取导数再取负号，就相当于一次感应电动势比磁通又滞后了90°</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827103912216.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827104019769.png" alt="image-20240827104019769">
<figcaption aria-hidden="true">image-20240827104019769</figcaption>
</figure>
<ul>
<li>电源电流分为两部分
<ul>
<li>一个作用于绕组电阻，</li>
<li>流过线圈会产生磁动势，这是建立磁通的原因
<ul>
<li>一部分生成的是漏磁通
<ul>
<li>它将在一次绕组中感应出漏电势，可以用一次绕组的漏电抗来表示</li>
</ul></li>
<li>另一部分磁通经过变压器铁心形成闭合回路，称为主磁通
<ul>
<li>在一次绕组上产生一次感应电动势</li>
<li>在二次绕组上产生二次感应电动势</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827104628705.png" alt="image-20240827104628705">
<figcaption aria-hidden="true">image-20240827104628705</figcaption>
</figure>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/qi-jian-06-bian-ya-qi/image-20240827104724317.png"></p>
<ul>
<li>对于一次侧电流，其实与空载相似，只不过加负载之后吗，一次侧电流要增加</li>
<li>那么对于二次侧电流，会产生主磁通与一次侧电流共同作用
<ul>
<li>此外也会产生漏磁通，也会作用于二次绕组电阻</li>
</ul></li>
</ul>
<h5 id="如何理解漏感">如何理解漏感</h5>
<p>现实变压器不是理想的，像98折的充值活动一样，原边绕组（原边线圈）充了100块钱，但是到副边只剩98块钱了，中介吞了2块钱。这中介便是漏感，漏感通俗的定义是<strong>无法耦合到副边的感量</strong>。</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>电子器件07-----电位器</title>
    <url>/2024/08/30/qi-jian-07-dian-wei-qi/</url>
    <content><![CDATA[<h2 id="电子器件07-----电位器">电子器件07-----电位器</h2>
<h3 id="符号">符号</h3>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/qi-jian-07-dian-wei-qi/image-20240830143857720.png" alt="符号">
<figcaption aria-hidden="true">符号</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/qi-jian-07-dian-wei-qi/image-20240830143923291.png" alt="PCB">
<figcaption aria-hidden="true">PCB</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/qi-jian-07-dian-wei-qi/image-20240830144005545.png" alt="实物">
<figcaption aria-hidden="true">实物</figcaption>
</figure>
<p>有三端，两个固定端，一个活动端子，</p>
<h3 id="作用">作用</h3>
<ul>
<li>用作分压器</li>
<li>用作变阻器
<ul>
<li>把它接成两端器件</li>
</ul></li>
<li>用作电流控制器
<ul>
<li>此时其中一个选定的电流输出端必须是滑动触电引出端</li>
</ul></li>
</ul>
<p><strong>基本上就是一个滑动变阻器</strong></p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
      </tags>
  </entry>
  <entry>
    <title>EMI滤波</title>
    <url>/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/</url>
    <content><![CDATA[<h3 id="emi滤波">EMI滤波</h3>
<p><strong>EMI的作用：</strong>（EMI是电磁干扰，EMC是电磁兼容）消灭EMI,
实现EMC</p>
<h4 id="什么是emi">1. 什么是EMI</h4>
<p>​ EMI-&gt;电磁干扰
指的是电磁波与电子元器件相互作用后而产生的电磁干扰现象</p>
<p><strong>啥是EMI滤波器：</strong>电磁干扰滤波器，主要用来抑制电磁干扰</p>
<h4 id="emi滤波器的作用">EMI滤波器的作用</h4>
<ul>
<li>抑制高次谐波
<ul>
<li>首先，所谓<strong>谐波</strong>是指基波频率的整数倍的频率成分</li>
<li>高次谐波指的是基波频率的高倍数谐波，这些谐波的频率比基波高，但并不一定是高频</li>
<li><strong>频率范围：</strong>比基波高，但通常低于几千赫兹（kHz）</li>
</ul></li>
<li>抑制高频谐波
<ul>
<li>高频谐波通常指频率非常高的谐波成分，它们可以是基波的高倍数，也可以是其他源产生的高频成分</li>
<li><strong>频率范围：</strong>通常在几十kHz到GHz的范围</li>
</ul></li>
<li><strong>抑制电磁干扰</strong></li>
</ul>
<h4 id="emi滤波器的组成">2. EMI滤波器的组成</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822084809689.png"></p>
<h5 id="电磁干扰">电磁干扰</h5>
<ul>
<li><strong>共模干扰</strong>是指在同一电路中，多条信号线或电源线在共用接地或电源时，容易产生相对于地（或电源）的共模电压</li>
<li><strong>差模干扰（也称串模干扰）</strong>在两个或者多个导线之间由于信号耦合而产生的干扰。</li>
</ul>
<p>首先要了解什么是共模信号，什么是差模信号</p>
<ul>
<li><strong>差模信号：</strong>从一个系统的一对输入端看，如果信号的极性相反（电流方向相反），把这种信号称为差模信号</li>
<li><strong>共模信号：</strong>如果信号的极性相同，则称其为共模信号</li>
</ul>
<p>​ 正常信号都是差模形式的，而噪声（干扰）二者都有</p>
<p><strong>他们是如何产生影响的</strong></p>
<ul>
<li>差模干扰信号会叠加在原有的正常差模信号上，造成原有信号失真</li>
<li>对于共模干扰信号
<ul>
<li>共模信号两端同相位同幅度，无法在系统中形成回路，只能与地之间形成一个分布电容；</li>
<li>共模干扰信号对原有正常差模信号没有影响，但由于共模信号电流方向相同，因此会形成两个方向相同的电磁场，两个磁场叠加在一起，会对附近的磁性元器件造成干扰</li>
<li>也会通过电磁场将干扰传递到其他线路，并转化为差模干扰，影响其他线路的信号</li>
</ul></li>
</ul>
<h5 id="xy电容">X、Y电容</h5>
<p><strong>X电容</strong></p>
<p>​
用于抑制电源线之间的EMI，通常连接在交流电源的两条线之间，主要用于消除差模干扰</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822090538886.png"></p>
<p>X电容分为X1, X2</p>
<ul>
<li>X1: 耐高压大于2.5kV，小于等于4kV</li>
<li>X2:耐高压小于等于2.5kV</li>
</ul>
<p>​ 图中为X2，表示这是一个X电容，最高耐压2.5kV，
334表示其电容值为330nf， K表示误差为10%， 310AC：
表示交流电压最大耐压为310V</p>
<p><strong>Y电容</strong></p>
<p>​
Y电容是一种三端式电容，通常由两个电容相反连接而成，中间还有一个接地端。</p>
<p>​
Y电容属于安规电容，符合安全规定，即使失效后也不会导致电击，不危及人身安全（X电容不属于安规电容？x好像也属于，gpt一会说属于，一会说不属于）</p>
<p>​ Y电容通常用于抗干扰电路中的滤波作用，主要对共模干扰起滤波作用</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822091417814.png"></p>
<h5 id="差模电感共模电感">差模电感、共模电感</h5>
<ul>
<li>差模电感：应用在大电流的场合，由于一个铁心上绕的一个线圈，当流进线圈的电流增大时，线圈中的铁心会饱和，因此市场上用的最多的铁心材料是金属粉心材料。</li>
<li>共模电感：同一铁心上的两组线圈的绕向相反，所以铁心不怕饱和。市场上用的最多的磁芯材料是高导铁氧体材料。</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822091817319.png"></p>
<p><strong>区别：</strong> 共模电感有4个引脚，差模电感有2个引脚。</p>
<h4 id="工作原理">3. 工作原理</h4>
<p><strong>差模电感的工作原理</strong>：</p>
<p>​
下图所示是差模电感器电路，差模电感器L1、L2与X电容串联构成回路，因为L1和L2对差模高频干扰的感抗大，而X电容C1对高频干扰的容抗小，这样将差模干扰噪声滤除，而不能加到后面的电路中，达到抑制差模高频干扰噪声的目的
。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092122539.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092137387.png"></p>
<p><strong>共模电感的工作原理</strong>：</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092339361.png"></p>
<ul>
<li>当差模信号进入共模电感时，一个线圈电流是流入，另一个线圈电流是流出，电流方向是相反的，这时这两个线圈形成的磁场方向是相反的，又因为这两个线圈是完全一样的，所以磁场强度是相等的，两个磁场相互抵消，这时这两个线圈基本可以看成导线，对差模信号没有阻碍作用。具体看下图：</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092420270.png"></p>
<ul>
<li>当共模信号进入共模电感时，如果两个线圈电流都是流入的，他们的电流方向是相同的，这时这两个线圈形成的磁场方向我们根据右手定则可以知道方向是相同的，两个磁场叠加成一个更强的磁场，从而两个线圈都具有很大的电感量，会阻止这个共模信号的变化，从而对共模信号有很强的抑制作用。</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092453559.png"></p>
<p><strong>共模电感总结：</strong></p>
<p>​
共模电感串联在供电线路上，同时抑制每根导线对地的共模高频噪声，而对于差模电流则没有影响。</p>
<p>​
正常差模信号流过共模电感时，在同相绕制的电感线圈中产生反向磁场而相互抵消，因此对差模信号不起阻碍效果；</p>
<p>​
而对共模信号，由于其同向性，会在线圈产生同相的磁场从而增大线圈的感抗，使线圈产生较强的阻尼效果，达到衰减共模干扰的目的。</p>
<h4 id="实物对照">4. 实物对照</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-emi-lu-bo-dian-lu/image-20240822092632555.png"></p>
<p>​
PC电源的一级EMI滤波电路主要由X电容和Y电容组成，X电容和Y电容都属于安规电容（存疑），</p>
<ul>
<li>X电容并接在火线和零线之间，块头通常比较大，负责滤除差模干扰;</li>
<li>而Y电容则是在火线与地线之间以及零线与地线之间并接的电容，通常以成对的形式出现，负责滤除共模干扰。</li>
</ul>
<h4 id="emi滤波器与emc滤波器的区别">5. EMI滤波器与EMC滤波器的区别</h4>
<p>​
严格意义上来讲，这两个真的没啥区别，只是同一个产品的不同叫法而已。</p>
<p>​
EMI是电磁干扰的意思，EMC是电磁兼容的意思，消灭了电磁干扰，就是为了实现电磁兼容。</p>
<p>​
如果非要将两者进行区分的话，有人这么区分EMI滤波器和EMC滤波器，那就是EMI滤波器一般泛指用于谐波源电源侧的滤波器，如MLAD-V-SR变频器专用输入滤波器等；而EMC滤波器则泛指用于谐波源输出侧的滤波器，如MLAD-V-SC变频器专用输出滤波器等。</p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>EMI</tag>
        <tag>EMC</tag>
        <tag>滤波</tag>
      </tags>
  </entry>
  <entry>
    <title>mos管防反接电路</title>
    <url>/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/</url>
    <content><![CDATA[<h3 id="mos管防反接电路">mos管防反接电路</h3>
<p><strong>why</strong></p>
<p>反接会导致许多电子器件烧毁</p>
<p><strong>常见的放反接电路有四种</strong></p>
<ul>
<li>二极管串联
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821103201763.png"></li>
<li>问题是功耗过大</li>
</ul></li>
<li>整流桥
<ul>
<li>可以实现无论正反接电路都能导通</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821103301712.png"></li>
<li>不管是一个二极管还是多个二极管，都会产生管压降并消耗电能</li>
</ul></li>
<li>NMOS
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821103356382.png"></li>
<li>当输入端为上正下负的时候，电流经过R1,R2，以及mos管的寄生二极管到地，经过电阻分压之后，G
S两极之间的电压大于MOS管的导通电压V<sub>gs</sub>，随后mos管导通（G是最上面的，S是两条线回合的，D是另外一边）</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821104029125.png"></li>
<li>当下正上负的时候，电源反接，这时候电流路径会被mos管的寄生二极管反向截止，那么GS由于没有用了电压而截止，电路回路被切断</li>
<li>这里加电阻，是怕</li>
</ul></li>
<li>PMOS
<ul>
<li>与nmos是一样的，区别在于nmos接负极，pmos放上面，接正极</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821104237826.png"></li>
</ul></li>
</ul>
<p>看的另外一个视频的长这样，它的g极与一个电阻串联</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/21/ji-chu-dian-lu-mos-fang-fan-jie-dian-lu/image-20240821104915545.png" style="zoom:150%;"></p>
<ul>
<li>加入电阻的目的：为了保护MOS管不被过高的栅极电压击穿。电阻的作用是给G极提供导通电压的同时，给稳压管提供工作电流。</li>
<li>能保证稳压管正常工作的前提下，阻值可以大一点，这样可以减小电流消耗。</li>
<li>接G极的小阻值电阻，要求不高的情况下，可以去掉不用。如果工作电压低于Vgs，也可以不用电阻和稳压管保护。</li>
</ul>
<h2 id="注意在nmos跟pmos防反接电路中电流方向与一般相比是反的比如在nmos中正常是d-s但是这里是s-d">注意在Nmos跟PMOS防反接电路中，电流方向与一般相比是反的，比如在NMOS中，正常是D-S，但是这里是S-D</h2>
<p>​
对于S,D，其实应该是一个沟道的两端，他可以从D-S也可以从S-D，跟PN结的单向导电还是有区别的</p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>防反接</tag>
      </tags>
  </entry>
  <entry>
    <title>H桥电路</title>
    <url>/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/</url>
    <content><![CDATA[<h2 id="h桥电路">H桥电路</h2>
<h3 id="什么是h桥电路">什么是H桥电路</h3>
<p>​
一个简单电路，包含<strong>4个开关元件，负载位于中心，呈H型</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909095641491.png"></p>
<p><strong>开关元件（Q1-Q4）</strong>通常都是<strong>双极性晶体管</strong>或者<strong>FET晶体管</strong>，在某些高压应用是IGBT。<strong>二级管（D1-D4）</strong>称为<strong>钳位二极管</strong>，通常是肖特基型。</p>
<h3 id="h桥电路详解">H桥电路详解</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909095802841.png"></p>
<p>​ 可以实现正转与反转</p>
<h3 id="工作状态分析">工作状态分析</h3>
<h4 id="正转">正转</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909100021755.png"></p>
<ul>
<li>Q<sub>1</sub>, Q<sub>4</sub> 导通</li>
<li>Q<sub>2</sub> Q<sub>3</sub> 截止</li>
</ul>
<h4 id="反转">反转</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909100121234.png"></p>
<h4 id="调速">调速</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909100139359.png"></p>
<ul>
<li>Q<sub>1</sub> Q<sub>4</sub>
给它输入50%占空比的PWM波形，就达到了降低转速的效果</li>
<li>增加转速则将输入PWM的占空比设置为100%</li>
</ul>
<h4 id="停止状态">停止状态</h4>
<p>这里以电机从正转切换到停止状态为例；</p>
<ul>
<li>正转情况下；<code>Q1</code>和<code>Q4</code>是打开状态；</li>
<li>这时候如果关闭<code>Q1</code>和<code>Q4</code>，直流电机内部可以<strong>等效成电感，也就是感性负载，电流不会突变</strong>，那么电流将继续保持原来的方向进行流动，这时候我们希望电机里的电流可以快速衰减；</li>
</ul>
<p><strong>这里有两种方法</strong></p>
<p>第一种：</p>
<p>​ 关闭Q<sub>1</sub> Q<sub>4</sub>
这时候电流仍然会通过反向续流二极管进行流动，此时短暂打开Q<sub>1</sub>
和Q<sub>3</sub> 从而打算快速衰减电流的目的</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909100538456.png"></p>
<p>第二种：</p>
<p>​ 关闭Q<sub>1</sub>,打开Q<sub>2</sub>
这时候电流不会衰减的很快，电流循环在Q<sub>2</sub>， M
Q<sub>4</sub>之间流动，通过MOS管内阻将电能消耗掉</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-h-qiao-dian-lu/image-20240909100657455.png"></p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>H桥电路</tag>
      </tags>
  </entry>
  <entry>
    <title>三极管推挽电路</title>
    <url>/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/</url>
    <content><![CDATA[<h2 id="三极管推挽电路">三极管推挽电路</h2>
<h3 id="三极管推挽电路-1">三极管推挽电路</h3>
<p>​
功率放大电路，虽然电压可能不会显著增大，但是其对电流的放大作用会使得总功率变大</p>
<p>​ 电流驱动能力不足，加一个推挽电路，用于驱动后续电路</p>
<h4 id="原理分析">原理分析</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822100523019.png" alt="image-20240822100523019">
<figcaption aria-hidden="true">image-20240822100523019</figcaption>
</figure>
<p>上面的三极管为npn三极管，下面的是pnp管，前面是限流电阻，两个三极管的中间位置是信号的输出</p>
<p><strong>分析方波</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822101025688.png"></p>
<p>​
对于Q2，它的基极电压为5V，发射极电压4.3V，对于PNP来说，导通要求基极电压需要低于发射极0.7V，因此它反向偏置不导通，Q1为NPN型，基极电压大于0.7V，集电极-发射极电压为正，可以导通，经过管压降为4.3V（输出）</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822101820094.png"></p>
<p>​
由此，实现了上方三极管导通的时候下方断，输出高电平，上方断的时候下方导通，输出为低电平。这里最后输出的是0.7V</p>
<p><strong>分析实际方波，存在斜率</strong></p>
<p><strong>分析上升过程</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822103441346.png"></p>
<p>下降过程不再赘述，在实际中，也不会出现Q12同时导通的情况</p>
<h5 id="输入输出">输入输出</h5>
<ul>
<li>高电平情况下
<ul>
<li><strong>V输出= V输入– V BE1</strong></li>
</ul></li>
<li>当输入信号为负时，Q1 关闭，Q2 开始导通并在输出端产生负输入的复制品。
<ul>
<li><strong>V OUT = V IN + V BE2</strong></li>
</ul></li>
</ul>
<p><strong>为啥都是上面是NPN，下面是PNP</strong></p>
<p>​
为啥会有这个问题，因为一般的三极管都是集电极输出，但是在这里，两个三极管都是发射极输出</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822104254575.png" alt="image-20240822104254575">
<figcaption aria-hidden="true">image-20240822104254575</figcaption>
</figure>
<p>对于三极管，BE之间可以视为二极管，如果上面是PNP，下面是NPN，就会直接导通，容易烧坏三极管</p>
<h4 id="定义特性啥的">定义特性啥的</h4>
<p>推挽放大器由<strong>2个晶体管</strong>组成，其中一个是<strong>NPN型</strong>，另外一个<strong>PNP型</strong>。<strong>一个晶体管在正半周期推动输出，另一个在负半周期拉动输出，因此被称为推挽放大器。</strong></p>
<p>主要优点是当没有信号时，输出晶体管没有功耗。推挽放大电路有多种类型，但<strong>通常将B类放大器视为推挽放大器。</strong></p>
<h4 id="a类放大器">A类放大器</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822105215121.png"></p>
<p>​
仅由一个设置为<strong>始终保持导通状态的开关晶体管</strong>组成，产生<strong>最小的失真</strong>和<strong>最大幅度的输出信号</strong>。</p>
<p>​ A类放大器的效率很低，接近30%。即使没有连接输入信号，A
类放大器的级也允许相同数量的负载电流流过它，因此输出晶体管需要大散热器。</p>
<h4 id="b类放大器">B类放大器</h4>
<p>​ <strong>B类放大器</strong>是实际的<strong>推挽放大器</strong>。B
类放大器的效率高于 A 类放大器，因为它由两个晶体管 NPN 和 PNP 组成。</p>
<p>​ B
类放大器电路<strong>每个晶体管将在输入波形的一个半周期内工作</strong>。因此，这类放大电路的导通角为180度。一个晶体管在正半周期推动输出，而另一个在负半周期拉动输出，这就是它被称为<strong>推挽放大器</strong>的原因。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822105455075.png"></p>
<h5 id="交叉失真">交叉失真</h5>
<p>​ B 类通常会受到称为<strong>交叉失真</strong>的影响，其中信号在 0V
时失真。我们知道，晶体管需要在其基极 - 发射极结处提供 0.7v
的电压才能将其打开。因此，当交流输入电压施加到推挽放大器时，它从 0
开始增加，直到达到 0.7v，晶体管保持关断状态，我们没有得到任何输出。PNP
晶体管在交流波的负半周也会发生同样的事情，这被称为死区。为了克服这个问题，二极管用于偏置，然后放大器被称为
AB 类放大器。</p>
<h4 id="ab类放大器">AB类放大器</h4>
<p>​
交叉失真缺陷可以通过使用两个在晶体管位置导通的二极管来校正。修改后的电路现在称为
<strong>AB 类放大器电路</strong>。</p>
<p>​ 从 0V 到
0.7V，<strong>二极管偏置在导通状态，此时晶体管在基极没有信号。这解决了交叉失真问题。</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/22/ji-chu-dian-lu-san-ji-guan-tui-wan-dian-lu/image-20240822110004707.png" alt="image-20240822110004707">
<figcaption aria-hidden="true">image-20240822110004707</figcaption>
</figure>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>推挽</tag>
        <tag>三极管推挽</tag>
      </tags>
  </entry>
  <entry>
    <title>上拉电阻与下拉电阻</title>
    <url>/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/</url>
    <content><![CDATA[<h2 id="上拉电阻与下拉电阻">上拉电阻与下拉电阻</h2>
<h3 id="什么是上下拉电阻">什么是上下拉电阻</h3>
<p>​
上拉下拉电阻统称为拉电阻，<strong>作用</strong>是将状态不确定的信号线通过一个电阻将其钳位至高电平（上拉）或低电平（下拉）</p>
<p><strong>啥是状态不确定的信号</strong></p>
<p>​ 在数字电路中，通常有三种状态：<strong>0（低电平） 1（高电平）
浮空（不确定）</strong></p>
<h3 id="如何辨别拉电阻">如何辨别拉电阻</h3>
<ul>
<li>上拉电阻与电源串联</li>
<li>下拉电阻与地串联</li>
</ul>
<h3 id="拉电阻原理">拉电阻原理</h3>
<p><strong>并联外接电阻，提高输出电平</strong>、</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909164436977.png"></p>
<p>下拉电阻同理</p>
<h3 id="上拉电阻">上拉电阻</h3>
<p><strong>引出</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909164602023.png"></p>
<p>单片机GPIO输出高电平，这时候给他个下拉电阻，发现电压变为了3.8V，</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909164700284.png"></p>
<p>再给他加一个上拉电阻，发现该点电压变为了4.2V</p>
<p>这里得看<strong>内部</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909164805252.png" alt="单片机内部引脚电路">
<figcaption aria-hidden="true">单片机内部引脚电路</figcaption>
</figure>
<p>想让他输出高电平时，上面的MOS导通，下面的截止，该点电压为电源电压，</p>
<p>加入100Ω的下拉电阻变为3.8V</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909164932769.png"></p>
<p>电源内部是有电阻的，上面的MOS管也是有内阻的，当下面MOS截止时，可以视为其阻抗无穷大，电路可以等效为</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909165024399.png"></p>
<p>所以测量的电压为3.8V 串联分压了</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909165118192.png"></p>
<p>加入上拉电阻，上面俩电阻并联，电阻值变小，下面的电阻会分到更多的电压，所以电压会回升为4.2V，<strong>提供更高的驱动能力</strong></p>
<p><strong>上拉电阻最本质上就是让上拉电阻与单片机里面的内阻并联</strong></p>
<p><strong>上拉电阻还可以将一个不确定的信号钳位在高电平</strong></p>
<p>为啥会有不确定信号</p>
<p>​
比如当引脚处于开漏输出时，上面的MOS永远是断开的，相当于连着一个无穷大的电阻，如果想让他输出高电平，下面的MOS也得断开，就相当于两个无穷的电阻串联了，所以它的输出信号是不确定的</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909165724175.png"></p>
<p>这时候给他加个上拉电阻</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240909165823969.png" alt="image-20240909165823969">
<figcaption aria-hidden="true">image-20240909165823969</figcaption>
</figure>
<p>相比于无穷大的电阻，上面的电阻并联后电阻变低，相比于无穷大忽略，电压全部落在下面的电阻上，即可输出为高电平</p>
<h3 id="下拉电阻">下拉电阻</h3>
<p><strong>作用</strong> 将不确定信号转化为低电平信号</p>
<p><strong>为啥信号是不确定的</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240910082405111.png"></p>
<p>​
这是当单片机处于数字输入时，单片机的内部电路，是简化过的，本来三极管应该是触发器</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240910082453711.png"></p>
<p>​ 两块半导体的阻抗太大了，所以P点的电压是飘忽不定的</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240910082627428.png"></p>
<p>​
三极管内阻非常大，这三电阻串联，根据串联分压，下拉电阻的电压就近乎为0，</p>
<p>​ 如果直接接地，也可以实现低电平，但是没办法实现高电平</p>
<p>​ 比如再直接加个5V的电平，但是输出还是低电平</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240910082829194.png"></p>
<p>直接加个5V，但是电源是有内阻的，电压全部落在内阻上，该点位电压仍为0V</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-shang-la-dian-zu-yu-xia-la-dian-zu/image-20240910083011198.png" alt="image-20240910083011198">
<figcaption aria-hidden="true">image-20240910083011198</figcaption>
</figure>
<p>​ 实现高电平了</p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>上拉电阻</tag>
        <tag>下拉电阻</tag>
      </tags>
  </entry>
  <entry>
    <title>尖峰吸收电路</title>
    <url>/2024/08/27/ji-chu-dian-lu-xi-shou-dian-lu/</url>
    <content><![CDATA[<h2 id="吸收电路">吸收电路</h2>
<h3 id="为啥要用吸收电路">为啥要用吸收电路</h3>
<p>场景：</p>
<ul>
<li>电感反向电动势</li>
<li>变压器</li>
</ul>
<h4 id="反激电路里为啥要用吸收电路">反激电路里为啥要用吸收电路</h4>
<p>​ 反激常用RCD，这里就用RCD电路来概述</p>
<p>​
<strong>RCD的出现是为了解决原边MOS关闭时，漏感能量造成原边MOS应力过高的问题</strong></p>
<ul>
<li>现实变压器不是理想的，像98折的充值活动一样，原边绕组（原边线圈）充了100块钱，但是到副边只剩98块钱了，中介吞了2块钱。这<strong>中介便是漏感</strong>，漏感通俗的定义是<strong>无法耦合到副边的感量</strong>。</li>
<li>顾名思义，<strong>测量</strong>也非常简单，通过短路输入绕组，再测量原边的感量，由于输入绕组短路，磁芯磁路被短路，耦合到副边的能量都被短路了，还能测量出来的便是漏感。如下图表示：<img src="/medias/loading.gif" data-original="/2024/08/27/ji-chu-dian-lu-xi-shou-dian-lu/image-20240827135659087.png"></li>
<li><strong>漏感的存在会造成什么问题</strong>
<ul>
<li>感和原边的电感是串联关系，假定给原边的电感充入100块的电流，原边电感也只能得到98，漏感还得有两块钱，且由漏感的定义为<strong>无法耦合到副边的感量</strong>+电感电流不能突变</li>
<li>假设MOS关断的时候，漏感上的电流为1A，MOS关断，阻抗视为无穷大，可假定他为10MΩ，此时MOS上的电压为I*R=10MV，“pong“炸了</li>
</ul></li>
</ul>
<h5 id="还要注意一个问题">还要注意一个问题</h5>
<p>​
尖峰吸收电路所需吸收的能量是变压器漏感产生的尖峰电压，而不是开关管关断后主线圈中产生的反向电动势</p>
<p>​
初级线圈的反向电动势是向二次供电线圈和次级线圈传递能量的，绝对不能让尖峰吸收电路吸收它产生的能量，否则的话次级线圈回路和二次供电回路就没有电压产生。</p>
<h3 id="rcd吸收电路">RCD吸收电路</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/ji-chu-dian-lu-xi-shou-dian-lu/image-20240827153206094.png"></p>
<ul>
<li>当MOS关断的时候，漏感的能量通过二极管，到电容C里存储能量</li>
<li>当漏感能量耗尽，电容C放电，通过电阻消耗能量</li>
</ul>
<p><strong>RCD吸收一般不适合对二极管反压尖峰的吸收，因为RCD吸收动作有可能加剧二极管反向恢复电流</strong></p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>尖峰吸收电路</tag>
      </tags>
  </entry>
  <entry>
    <title>复位电路</title>
    <url>/2024/09/03/ji-chu-dian-lu-fu-wei-dian-lu/</url>
    <content><![CDATA[<h2 id="复位电路">复位电路</h2>
<h3 id="为啥要复位">为啥要复位</h3>
<ul>
<li>程序逻辑错误，复位可以把所有逻辑状态恢复到初始值</li>
<li>电源接通到电源稳定期，是一个缓慢的爬坡过程，这时候单片机不能正常工作，需要复位电路延时到电压稳定后才正常执行程序</li>
</ul>
<h3 id="高低电平复位">高低电平复位</h3>
<p>​
单片机属于数字电路，数字电路里只有0（低电平）和1（高电平）之分，因此，单片机要么是高电平复位，要么是低电平复位，</p>
<p>​ 单片机中，小于1.5V的电压为低电平，大于1.5V的电压为高电平</p>
<h4 id="高电平复位">高电平复位</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/03/ji-chu-dian-lu-fu-wei-dian-lu/image-20240903160626999.png"></p>
<ul>
<li>上电复位电路的本质就是RC串联充电电路</li>
<li>上电后，电容两端的电压不能突变，上电一瞬间电容等效为短路，RST为高电位，电位等于VCC，复位</li>
<li>之后通过电阻R1对电容进行充电，此时电阻两端电压开始减小，根据时间常数τ=RC，对于上图中的电路而言，大概需要4τ-5τ，也就是0.4s-0.5s左右可近似认为电容充电完毕，此时电容两端电压差近似为VCC，电阻两端电压差为0V，RST为低电平，近似为0V，单片机正常工作</li>
<li>按下按钮，电容被短路，电容放电，电阻上开始有点压，RST变为高电平，复位</li>
</ul>
<h4 id="低电平复位">低电平复位</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/03/ji-chu-dian-lu-fu-wei-dian-lu/image-20240903161550668.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/03/ji-chu-dian-lu-fu-wei-dian-lu/image-20240903161842630.png"></p>
<ul>
<li>上电后，电容两端电压不能突变，上电一瞬间RST端口近似为GND，即低电平，复位</li>
<li>经过4τ-5τ的时间后，电容充电完毕，电容两端电压差近似为VCC，电阻两端电压差为0V，相当于导线，RST端电位近似为VCC，后正常工作</li>
</ul>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>复位</tag>
        <tag>stm32</tag>
      </tags>
  </entry>
  <entry>
    <title>晶振电路</title>
    <url>/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/</url>
    <content><![CDATA[<h2 id="晶振电路">晶振电路</h2>
<h3 id="作用">作用</h3>
<p>​
单片机的正常运行需要时钟信号，可以简单的理解为单片机收到一个脉冲，就执行一次或多次指令。晶振电路就是用来产生时钟信号的</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830133131255.png" alt="image-20240830133131255">
<figcaption aria-hidden="true">image-20240830133131255</figcaption>
</figure>
<p>比如像这样，在外部施加适当的电压后，就可以输出预先设置好的周期性时钟信号</p>
<h3 id="简介">简介</h3>
<p>​
<strong>晶体振荡器</strong>用一种能把电能和机械能相互转化的晶体在共振的状态下工作，以提供稳定，精确的单频振荡。晶振提供的时钟频率越高，单片机的运行速度也就越快。</p>
<p><strong>晶振的封装</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830134548963.png"></p>
<p>​
下图左边为原理图，右边为等效电路图，生成的是<strong>正弦波</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830134437406.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830134506676.png" alt="image-20240830134506676">
<figcaption aria-hidden="true">image-20240830134506676</figcaption>
</figure>
<p>​ <strong>晶振连接单片机的OSC32-IN跟OUT</strong></p>
<ul>
<li>不同频率的晶振有着不同的作用,
例如：32.768K晶振通常用于时间显示，16MHZ、26MHZ等用于传输信号的</li>
<li>下面这两个电容叫<strong>匹配电容</strong>C<sub>L1,2</sub>;有点多，另起了</li>
</ul>
<h4 id="关于晶振电路的电容">关于晶振电路的电容</h4>
<ul>
<li><p><strong>负载电容C<sub>L</sub></strong></p></li>
<li><p>首先，这个晶振跨接晶体两端的总有效电容称为<strong>负载电容</strong>，</p></li>
<li><p>也就是说，你选了这个型号，数据手册上写了，它的负载电容是多少。</p></li>
<li><p><strong>它主要影响负载谐振频率和等效负载电阻，与晶体一起决定振荡器电路的工作频率</strong>，</p></li>
<li><p>然后就可以根据这个负载电容来调整外界电容值的大小，来微调晶振电路工作中输出频率的精度</p></li>
<li><p><strong>匹配电容C<sub>L1</sub>C<sub>L2</sub></strong></p>
<ul>
<li>接地的那两个电容</li>
<li>一般外接这两个电容是为了使晶振两端的等效电容等于或接近负载电容</li>
<li>一般晶振两端所接电容是所要求的负载电容的两倍。这样并联起来就接近负载电容了。</li>
<li>电容值的大小影响谐振频率（也就是会发生频偏），一般情况下，<strong>增大电容会使震荡频率下降，减小电容会使震荡频率升高</strong>。</li>
</ul></li>
</ul>
<h5 id="匹配电容的计算">匹配电容的计算</h5>
<p>​ 为了保持晶体的负载平衡，在实际应用中，一般要求<span class="math inline">\(\mathrm{C_{L1}=C_{L2}}\)</span>,所以进一步可以得到下式
<span class="math display">\[
\mathrm{C_{L1}=C_{L2}=2\times(C_L-C_{ic}-\triangle C)}
\]</span> <span class="math inline">\(\mathrm{C_{ic}+\triangle
C}\)</span>​​一般为3---5pf</p>
<ul>
<li><p>C<sub>L</sub>为晶振负载电容，查手册</p></li>
<li><p>Cs为引线电容，可通过查询芯片数据手册获取</p></li>
<li><p>C<sub>i</sub>为引脚电容，可以通过查询芯片数据手册获取</p></li>
</ul>
<p>比如当负载电容取6pF时，当C<sub>stray</sub>=2pF <span class="math display">\[
\mathrm C_{\mathrm L1}=\mathrm C_{\mathrm L2}=2\times(6-2)\mathrm
p\mathrm F=8\mathrm p\mathrm F
\]</span></p>
<h3 id="分类">分类</h3>
<h4 id="有源振荡">有源振荡</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830141310103.png" alt="image-20240830141310103">
<figcaption aria-hidden="true">image-20240830141310103</figcaption>
</figure>
<ul>
<li><strong>自身就可以产生振荡信号，不依赖外部电路</strong></li>
<li>一般四个引脚。一个电源，一个接地，一个信号输出，一个NC（空脚）</li>
<li></li>
</ul>
<h4 id="无源振荡">无源振荡</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-jing-zhen-dian-lu/image-20240830141225209.png" alt="image-20240830141225209">
<figcaption aria-hidden="true">image-20240830141225209</figcaption>
</figure>
<ul>
<li>借助时钟电路产生振荡信号</li>
<li>一般俩引脚，输入跟输出</li>
</ul>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>stm32</tag>
        <tag>晶振</tag>
      </tags>
  </entry>
  <entry>
    <title>滤波电路</title>
    <url>/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/</url>
    <content><![CDATA[<h2 id="滤波电路">滤波电路</h2>
<h3 id="滤波原理">滤波原理</h3>
<ul>
<li><strong>单向脉动性直流电压</strong></li>
</ul>
<p>​
整流电路输出的电压时单向脉动性电压，不能直接给电子电路使用，所以要对输出的电压进行滤波，消除电压中的交流成分</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240829163349350.png" alt="单向脉动性电压的分解">
<figcaption aria-hidden="true">单向脉动性电压的分解</figcaption>
</figure>
<p>​
如左图所示，电压的方向性都是一致的，但是在电压幅度上是波动的，就是在时间轴上，电压呈现出周期性的变化，所以是脉动性的</p>
<p>​ 该电压可以分解为一个直流电压跟一组频率不同的交流电压，如右图所示</p>
<ul>
<li><strong>电容滤波原理</strong></li>
</ul>
<p>​ 利用电容器<strong>隔直通交</strong>原理</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240829163719784.png"></p>
<p>​
电容C对于直流电相当于开路，所以直流电只能找负载玩；交流电通过电容接地流出了，这是因为电容C的容量较大，容抗较小，</p>
<p>​
滤波电容C的容量越大，对交流成分的容抗越小，使残留在负载R上的交流成分越小，滤波效果越好</p>
<ul>
<li><strong>电容滤波原理</strong></li>
</ul>
<p>​ 电感<strong>通直隔交</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240829164224235.png"></p>
<p>​ 对于整流电路输出的交流成分，因 L1
电感量较大，感抗较大，对交流成分产生很大的阻碍作用，阻止了交流电通过 C1
流到加到负载 RL。这样，通过电感 L1
的滤波，从单向脉动性直流电中取出了所需要的直流电压 +U。</p>
<p>​ 滤波电感 L1 的电感量越大，对交流成分的感抗越大，使残留在负载 RL
上的交流成分越小，滤波效果就越好，但直流电阻也会增大。</p>
<h3 id="rc滤波">RC滤波</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240829165013006.png"></p>
<p>​
其实这里可以看做是RC串联，然后输出电阻跟后面的那个元器件并联，所以输出电压就是后面的器件的电压</p>
<p>​
那么感觉就可以理解为一个分压电路了，并且下面的器件应该是分担绝大部分电压，分压看阻抗，即应该选择阻抗相比要很大的器件在下面。电阻的阻抗是个常数，跟频率无关，那么电容呢，<span class="math inline">\(Z_{C}=\frac{1}{j\omega C}\)</span>,其中<span class="math inline">\(\omega=2\pi f\)</span>。</p>
<h5 id="如何记忆区分">如何记忆区分</h5>
<p>​
当我们想通低频信号的时候，频率低，容抗高，那么输出电压就应该是电容两端的电压，所以低通应该是电容在下面</p>
<p>​
想通高频信号的时候，频率高，容抗低，那么输出电压应该是电阻两端的电压，所以高通电容在上面</p>
<p><strong>进一步的理解</strong></p>
<p><strong>低通滤波</strong></p>
<ul>
<li>低频信号
<ul>
<li>容抗大，电流更多的通过R</li>
<li>大部分电压降在电容C上，即输出电压近似于输入电压</li>
<li>V=V称之为信号容易通过</li>
</ul></li>
<li>高频信号
<ul>
<li>容抗低，电容接近于短路，大部分（高频）电流直接流过电容器并流入地</li>
<li>输出电压小，</li>
<li>输出跟输入比小的一，称之为信号不容易通过</li>
</ul></li>
<li>低通就是，低频信号时，输出等于输入；高频信号时，会被衰减，在极限情况下，输出为零，这样不就只保留有用的低频信号了</li>
</ul>
<p><strong>高通滤波</strong></p>
<ul>
<li>低频信号
<ul>
<li>容抗大，电压都在电容上，输出电压非常小</li>
<li>这里电容就给低频信号拦住了，不让他去输出端</li>
</ul></li>
<li>高频信号
<ul>
<li>容抗小，电压都在电阻上，输出电压等于输入电压</li>
</ul></li>
</ul>
<h3 id="lc滤波">LC滤波</h3>
<ul>
<li><strong>低通滤波器</strong>：Low Pass Filter（简称：LPF）</li>
</ul>
<p>​
仅提取低频（Low）侧频率的滤波器。因为是让低于阻断频率的频率通过的滤波器，所以被称为低通滤波器。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103040784.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/basic-img0006.png" alt="图：低通滤波器">
<figcaption aria-hidden="true">图：低通滤波器</figcaption>
</figure>
<ul>
<li><strong>高通滤波器</strong>：High Pass Filter（简称：HPF）</li>
</ul>
<p>​
仅提取高频（High）侧频率的滤波器。因为是让高于阻断频率的频率通过的滤波器，所以被称为高通滤波器。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103106873.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/basic-img0007.png"></p>
<ul>
<li><strong>带通滤波器</strong>：Band Pass Filter（简称：BPF）</li>
</ul>
<p>​
仅提取特定频率范围的滤波器。因为是只让所设定频率范围通过的滤波器，所以被称为带通滤波器。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103118605.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/basic-img0008.png"></p>
<ul>
<li><strong>带阻滤波器</strong>：Band Elimination
Filter（简称：BEF）</li>
</ul>
<p>​ 因为是只阻断特定频率范围的滤波器，所以被称为带阻滤波器。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/basic-img0009.png"></p>
<h4 id="低通滤波器的种类">低通滤波器的种类</h4>
<ul>
<li>L型滤波器(1) 应用场景：输入阻抗 ⇒ 高；输出阻抗 ⇒ 低 时</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103216168.png"></p>
<ul>
<li>L型滤波器(2) 应用场景：输入阻抗 ⇒ 低；输出阻抗 ⇒ 高 时</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103249336.png"></p>
<ul>
<li>π型滤波器 应用场景输入阻抗 ⇒ 高；输出阻抗 ⇒ 高 时</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103300105.png"></p>
<ul>
<li>T型滤波器 应用场景：输入阻抗 ⇒ 低；输出阻抗 ⇒ 低 时</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-lu-bo-dian-lu/image-20240830103308612.png"></p>
<p>​
相比L型滤波器，π型和T型滤波器的噪声去除效果更好，因而还要考虑这方面的因素来选定电路。</p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>滤波</tag>
        <tag>RC滤波</tag>
        <tag>LC滤波</tag>
      </tags>
  </entry>
  <entry>
    <title>采样保持电路</title>
    <url>/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/</url>
    <content><![CDATA[<h2 id="采样保持电路">采样保持电路</h2>
<h3 id="简介">简介</h3>
<p>​
采样保持电路，有时表示为S/H电路或S&amp;H电路，通常与模数转换器一起使用来采样输入模拟信号并保持采样信号，因此得名为采样保持电路。</p>
<p>​ 典型的采样保持电路的简单框图</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829141802736.png"></p>
<p>​ PWM控制mos，开关闭合时，信号被采样，打开时，电路保持输出信号</p>
<h3 id="基本采样保持电路">基本采样保持电路</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829151600448.png"></p>
<p>主要包括四个主要部分：输入放大器，电容，输出缓冲器和开关电路</p>
<p>​ 核心是<strong>电容</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829152312997.png"></p>
<p><strong>当 MOSFET
作为闭合开关工作时，通过漏极端子提供给它的模拟信号将被馈送到电容器，然后电容将充电至其峰值。</strong>当释放开关时，电容停止充电。由于电路末端连接了高阻抗运算放大器，电容将因此而产生高阻抗，因此无法放电。</p>
<h3 id="电压采样电路">电压采样电路</h3>
<ul>
<li>隔离型
<ul>
<li>互感器采样</li>
<li>光耦采样</li>
<li>霍尔采样</li>
</ul></li>
<li>非隔离型
<ul>
<li>分压采样</li>
<li>运放直接采样</li>
</ul></li>
</ul>
<h5 id="非隔离型电压采样电路">非隔离型电压采样电路</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829152808581.png" alt="电压分压采样电路">
<figcaption aria-hidden="true">电压分压采样电路</figcaption>
</figure>
<p>​
输入电压经过电阻分压，然后经过输入侧滤波接入运算放大器，再经过输出端滤波(RC)接入ADC采样模块，这里的运算放大器起电压跟随作用，</p>
<p>​
ADC采样在单片机里，但是单片机的IO口输入电压范围时0-3.3V，所以要把测量电压保持在这个范围</p>
<p>​ 其实感觉就是一个分压，不过不止分压，还有运放的隔离，滤波等</p>
<p><strong>为啥说电容是核心</strong></p>
<ul>
<li><strong>采样阶段</strong>：在电压信号的采样阶段，开关（通常是 MOSFET
或类似的半导体开关）闭合，将输入电压连接到电容器上。此时，电容器的电压将充电到输入电压的值。这个过程在采样阶段持续发生，确保电容器电压与输入信号保持一致。</li>
<li><strong>保持阶段</strong>：在采样阶段结束后，开关断开，电容器与输入信号隔离。电容器上的电压（即采样电压）被保持在一个稳定的值，直到
ADC
读取这个电压值。电容器的特性使得它可以在保持阶段内存储电压值，以便提供稳定的输入信号给
ADC 进行转换。</li>
</ul>
<p><strong>运放</strong></p>
<p>​ 电压经过运行（跟随器）之后，输入到MCU的ADC模块</p>
<p>​
由于运放具有<strong>输入电阻无穷大</strong>，而<strong>输出电阻无穷小</strong>的特点。等效电阻与运放的输入电阻相比较，可以忽略。输入到运行正极的电压等于Uin+，这样Uout=Uin+。</p>
<h5 id="隔离型电压采样电路">隔离型电压采样电路</h5>
<p><strong>霍尔电压采样</strong></p>
<p>​
霍尔元件的采样原理：霍尔传感器内部包含垂直于磁场方向放置的半导体薄片，根据霍尔效应，当有电流流过半导体薄片时会产生电动势，该电动势称为霍尔电势，可以通过测量电动势的大小得到留过电流的大小。</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829154642737.png"></p>
<p>​
待测电压通过采样电阻Rs3接入霍尔电压传感单元U1，得到一个幅值在0~V+的输出电压Vo。</p>
<p>​
Vo经过分压电阻Rs1与Rs2后接入运算放大器U2，分压电阻的作用是调整霍尔电压传感器的输出电压幅值，以适应ADC采样模块的输入电压范围。</p>
<p>​
运算放大器U2起到电压跟随的作用。U2的输出再经过低通滤波器（R1、C1）后接入ADC采样单元。</p>
<p><strong>隔离运放电压采样</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829155055932.png"></p>
<p>​
输入电压经过Rs1与Rs2分压后接入隔离运算放大器，随后接入差分运放电路中，运放U1的输出电压经过滤波器（R1、C1）后接入ADC采样模块。</p>
<h3 id="电流采样电路">电流采样电路</h3>
<h5 id="非隔离型电流采样电路">非隔离型电流采样电路</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829155356943.png" alt="电流分流采样电路">
<figcaption aria-hidden="true">电流分流采样电路</figcaption>
</figure>
<p>​
在待测支路中串联采样电阻Rs3，并将电阻两端电压接入运算放大器U2中。</p>
<p>​ 电路中U2以及电阻Ry21-Ry24构成的差分电路。</p>
<p>​ 差分电路的输出经过滤波器（R11、C11）后接入ADC采样模块。</p>
<h5 id="隔离型电流采样电路">隔离型电流采样电路</h5>
<p><strong>霍尔电流采样电路</strong></p>
<p>​ 霍尔电流采样电路一般由霍尔传感元件、运算放大器和滤波器构成。</p>
<p>以单电源闭环霍尔电流采样为例：</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829155810646.png"></p>
<p>​
待测电流穿过霍尔电流传感器U1会产生一个幅值在0~V+之间的输出电压值Vo。</p>
<p>​
Vo经分压电阻Rs1与Rs2后接入运放U2，随后经低通滤波器（R1、C1）后接入ADC采样单元。U2、Rs1与Rs2作用可参考霍尔电压采样电路。</p>
<h3 id="电压采样电路设计">电压采样电路设计</h3>
<p><strong>要求：</strong>采集一个输出范围为20V-28V的Uo电压信号到0-3.3V的AD。
<strong>设计思路：</strong>将20v到28v中的8v压差全部映射到0-3.3v的范围内，才内能更好的利用AD模块，所以首先将Uo与20V做差分，将电压抬低到0-8v（注：有时碍于仪放信号输入电压的范围较小会先分压再抬低见形式二），然后通过电阻分压将8v映射到3.3v的范围内。
<strong>形式一</strong></p>
<ul>
<li>利用现有的电压产生20v的基准电压</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829160634407.png" alt="image-20240829160634407">
<figcaption aria-hidden="true">image-20240829160634407</figcaption>
</figure>
<ul>
<li>通过运放将Uo与20V做差分</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829160706988.png"></p>
<ul>
<li>分压及输出阻抗匹配（电压跟随器）</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829160848576.png"></p>
<ul>
<li>输出钳位保护</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829160908157.png"></p>
<p><strong>形式二</strong></p>
<ul>
<li>将Uo分压7倍，即将0-28v映射到0-4v，同理将20v也分压7倍即要产生2.857v的电压基准</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829161026166.png"></p>
<ul>
<li>差分并放大2.887倍及钳位电路（计算方法：3.3/（4-2.857），差放直接输入给AD不需要阻抗匹配）</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/ji-chu-dian-lu-cai-yang-bao-chi-dian-lu/image-20240829161041603.png"></p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>采样</tag>
        <tag>ADC</tag>
        <tag>运放</tag>
      </tags>
  </entry>
  <entry>
    <title>钳位电路</title>
    <url>/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/</url>
    <content><![CDATA[<h2 id="钳位电路">钳位电路</h2>
<h3 id="什么是钳位">什么是钳位</h3>
<p>​ 钳位就是把位置卡住，在电路里就是限制电压</p>
<p>​
钳位二极管就是把输入电压变成峰值钳制在某一预定的电平上的输出电压，而不改变信号</p>
<h3 id="二极管钳位电路工作原理">二极管钳位电路工作原理</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240904163646439.png"></p>
<ul>
<li><p>图1：二极管正向接法，管压降0.7V，因此电阻上的电压为5.3V</p></li>
<li><p>图二：问是输出6.7V还是2.7V</p>
<p>假设U<sub>sc</sub>为6.7V，6.7&gt;2.0V，所以D<sub>2</sub>正向导通，产生0.7V的管压降，即D<sub>2</sub>的阳极被钳制在2.7V，即输出电压U<sub>sc</sub>被钳制在2.7V，此时2.7V&lt;6.0V，D<sub>1</sub>将处于反偏状态</p></li>
</ul>
<p><strong>哪个电压低，电路的输出电压就是低电压再加上0.7V</strong></p>
<h3 id="常见二极管钳位电路">常见二极管钳位电路</h3>
<h4 id="正钳位电路">正钳位电路</h4>
<p>​ 由电容，负载，二极管组成</p>
<h5 id="简单正钳位电路">简单正钳位电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240909101158491.png"></p>
<ul>
<li>输入电压在正半周期时，电流如蓝色箭头所示，二极管截止，输出电压等于电容电压加上正版周期电压，V<sub>out</sub>=2V<sub>in</sub></li>
<li>输入电压在负半周期时，电流如红色箭头所示，二极管导通，电容充电至+V（注意这里电容方向定义为左负右正，所以输出电压为+V而不是-V），V<sub>out</sub>=0V</li>
</ul>
<h5 id="偏压型正钳位电路">偏压型正钳位电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240909101640740.png"></p>
<p>​ 通过在电路中加入偏置电压来提高或降低钳位值</p>
<ul>
<li>Figure
a为正向偏压型，所加的偏压与二极管导通方向一致时，波形向上，即钳位值会提高V1</li>
<li>Figure
b为反向偏压型，所加的偏压与二极管导通方向相反时，波形向下，即钳位值会降低V1。</li>
</ul>
<h4 id="负钳位电路">负钳位电路</h4>
<h5 id="简单型负钳位电路">简单型负钳位电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240909105453075.png"></p>
<ul>
<li>输入Vin在正半周时（Vin上正下负），二极管导通，电流如红色箭头所示，电容两端压差充电至+V（左正右负），Vout=0V；</li>
<li>输入Vin在负半周时（Vin上负下正），二极管截止，电流如蓝色箭头所示，Vout电压等于负的（电容电压+负半周电压），即Vout=-2V；</li>
</ul>
<h5 id="偏压型负钳位电路">偏压型负钳位电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240909110229835.png"></p>
<p>​
偏压型负钳位同偏压型正钳位类似，在电路中加入偏置电压来提高或者降低钳位值。</p>
<ul>
<li>Figure
C为反向偏压型，所加的偏压与二极管导通方向相反时，波形向上，即钳位值会提高V1</li>
<li>Figure
D为正向偏压型，所加的偏压与二极管导通方向相同时，波形向下，即钳位值会降低V1。</li>
</ul>
<h5 id="双二极管钳位电路">双二极管钳位电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/04/ji-chu-dian-lu-qian-wei-dian-lu/image-20240909111806043.png"></p>
<ul>
<li>A点电压大于VDD，上面的二极管导通，B点电压为Vdd+0.7V</li>
<li>A点电压小于VDD，不满足导通条件，大于GND，下面的二极管导通，B点电压为-0.7V</li>
</ul>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>钳位电路</tag>
      </tags>
  </entry>
  <entry>
    <title>限幅电路</title>
    <url>/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/</url>
    <content><![CDATA[<h2 id="限幅电路">限幅电路</h2>
<h3 id="什么是限幅电路">什么是限幅电路</h3>
<p>​
限幅，也就是把电压限制在某个范围，去除交流信号的一部分，但不会对波形的剩余部分造成影响</p>
<h3 id="分类">分类</h3>
<p>​
基于二极管的限幅电路主要分为两类，一是串联二极管限幅电路，二是并联二极管限幅电路</p>
<h4 id="串联二极管限幅电路">串联二极管限幅电路</h4>
<p>​ 二极管与输出串联，输出电压为负载两端的电压</p>
<p>​
当二极管正向偏置导通时，输入信号在输出断，相反，当二极管反向偏置时，串联限幅电路会传递输入信号。分为正/负限幅电路</p>
<h5 id="正限幅电路">正限幅电路</h5>
<p>​
串联正限幅去除波形的正半部分，如下所示，二极管处于反向偏置与输出串联</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909143935219.png"></p>
<p>​ 正半周期，二极管不导通，负载上没有压降</p>
<h6 id="带偏置的正限幅电路">带偏置的正限幅电路</h6>
<p>​
带偏置的正限幅电路用于限制正半周期的一部分，而不是整个半周期，使用具有正偏压或负偏压的串联正限幅器来产生所需的波形</p>
<p><strong>正偏差</strong></p>
<p>​ 电池的正极接到二极管的P侧</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909144257893.png"></p>
<ul>
<li>正半周期，一开始Vi很小，小于V<sub>b</sub>，二极管在V<sub>b</sub>的作用下导通，信号出现在输出端</li>
<li>当输入电压增加到电池电压以上时，二极管变为反向偏置，不传导输入信号，因此，电池电压V<sub>b</sub>出现在输出端</li>
<li>在负半周期，二极管由于输入电压和电池电压而正向偏置。因此，输入电压通过二极管并出现在输出端</li>
</ul>
<p><strong>负偏差</strong></p>
<p>​ 电池与二极管反向连接</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909144818652.png"></p>
<h5 id="负串联限幅电路">负串联限幅电路</h5>
<p>​ 串联负限幅电路对输入周期的负半部分进行限幅</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909145743415.png"></p>
<h6 id="带偏置的串联负限幅电路">带偏置的串联负限幅电路</h6>
<p><strong>正偏差</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909145925776.png"></p>
<p><strong>负偏差</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909145954248.png"></p>
<h4 id="并联限幅电路">并联限幅电路</h4>
<p>​
二极管与输出并联，当二极管阻断时，输入信号出现在输出上，并联限幅电路分为正向和负向</p>
<h5 id="正向并联限幅电路">正向并联限幅电路</h5>
<p>​ 对正半周期进行限幅</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909150551787.png"></p>
<ul>
<li>正半周期，且Vin大于0.7V时，二极管导通，Vout被钳位在0.7V</li>
<li>在负半周期，和Vin电压小于0.7V时，二极管是截止状态，所以Vout=Vin</li>
</ul>
<h6 id="正偏压限幅">正偏压限幅</h6>
<p>​ 当Vin的电压大于等于Vbias+0.7V时，二极管导通，Vout被钳位</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909150805781.png"></p>
<h5 id="负向并联限幅电路">负向并联限幅电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909150841732.png"></p>
<ul>
<li>正半周期，二极管截止，Vout=Vin，即波形跟随</li>
<li>在负半周期，Vin&lt;=-0.7V，二极管导通，Vout被钳位在-0.7V</li>
</ul>
<h6 id="负偏压限幅">负偏压限幅</h6>
<p><img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909150948600.png"></p>
<p>Vin&lt;=-0.7-Vbias时，二极管导通，Vout被钳位</p>
<h4 id="双向偏压限幅">双向偏压限幅</h4>
<p>​
双向偏压限幅是两个二极管加两个偏置电压，正半周大于等于4.7V时，D1导通，超出部分被钳位在4.7V；负半周小于等于-6.7V时，D2导通，超出部分被钳位在-6.7V。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/09/ji-chu-dian-lu-xian-fu-dian-lu/image-20240909151530264.png" alt="image-20240909151530264">
<figcaption aria-hidden="true">image-20240909151530264</figcaption>
</figure>
<h3 id="限幅电路与钳位电路的区别">限幅电路与钳位电路的区别</h3>
<ul>
<li>限幅消掉输入波形的一部分而对剩余波形不做任何改变</li>
<li>钳位对波形不做改变而仅进行一定数值的偏移</li>
</ul>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>限幅电路</tag>
      </tags>
  </entry>
  <entry>
    <title>防倒灌电路</title>
    <url>/2024/08/30/ji-chu-dian-lu-fang-dao-guan-dian-lu/</url>
    <content><![CDATA[<h2 id="防倒灌电路">防倒灌电路</h2>
<p>​ 简单了解吧</p>
<h3 id="为啥要用这玩意">为啥要用这玩意</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-fang-dao-guan-dian-lu/image-20240830110316703.png"></p>
<p>​
这个东西，它支持PD供电，输入20V还支持DC24V充电，并且DC充电的时候USB也能插着用，并且的且，传输数据的USB接口跟PD供电接口是同一个，这不坏事出问题了，<strong>DC
24V 可能会通过USB 的VBUS 直冲上位机</strong>。倒灌了</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/30/ji-chu-dian-lu-fang-dao-guan-dian-lu/image-20240830110528963.png"></p>
<p>​ 买现成的，完结撒花</p>
]]></content>
      <categories>
        <category>基础电路</category>
      </categories>
      <tags>
        <tag>防倒灌</tag>
      </tags>
  </entry>
  <entry>
    <title>DCDC烧坏</title>
    <url>/2024/08/26/shi-xi-dcdc-shao-pi/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="514afbe4f347f18d964cc1f75d7830d904c362c353a25f76ceb5a128263cf292">dba70c5695197b5b3c51187085f4377b41ac6de5678be60d1b0d4642265920d0a6fca921a8320a2c9d7e7b6586cc8330948d5146ec6f0b59c510a64da18a6404dfe6cfbb327b8a93ee383c44d7db10ce332e74242bac618faea90bc03a3d8e07bc4c02d60a4f0eb70607238a767332333a5b4a09de6f8505264f7fec0d998f6e8593e3c2fd696150200ca5f2b05f39373a19f924c0e44d8ce75672861381ad146c3b79fdb34b85f73739180b261f6d3b2788222d16b45aa3216eae57059a187d6ff02f5e30dbb7378bd4b46cdcdb889f6b52a55ffead3565d0540d40e26c44470ad4c30fbf1b33eb49279a51209e003829d543de452216a802dcb7aeeede2a1f1fbd2a3e74c76443c6b59810d3f3949936846cc64775da6e966b331ba2f95a90c9c2fc8c3a01eb24af09564f37eb8f3bfeb26b25b57525d8c45c61e79390673b35837c4e8d551ad7c568645e2c178e98e0f7cf1bb0d634b4569969a37fdcd98f2b00af9ade00eb8f7bc403880c454ec79f8b5d2b3f25040d3b87af58724201a0edf21037a13e20cdffc1893884027a6a6504c0301a547ecbb59bfd9dbdcd6b699bac385e607245a0a7a7b9b69c3c204c6bd7a5a32624080ed3f07927cee120f5225b84e3bae56184f19e198131a9cb7c50d6f4005cac6c2d191b8ab4bce9a4e64bf08cca8398c4a8ab9e57665456faa1cea05d935edfd774838a674c935bfd992a3d859557cc9eb30fe1ac41ffe67d9059de6ea2a5813b566575c3f3cdf391567e76ad211874f931488ca9d3f72e898a3840f2e4d9e1e5a380976c8624cf60c3ba960ca2b00ae911aa5fc3590cbd87a8408cc332c5be889673d9b3efbd60b9c90565727ccacd57a99c5109fd2fffe9f4a9863a8bfb8b4e91520f3897e59839d03ed419e1b7f2b6c5347ed7b5bffbd50bb82f0e9a4a430998cce6edcd78cdc1127a086691c362e88f2cac57100ab4f03a69eeb68ceed02c8cba57f004b6e760130ab089a99efd58a27ce52da102b0a6c49ba834715270ba6a120c4681a795343f02b61285ac1ba5633b06bf332c5e75d3b9de7d5943d1dd14f3660fc15ebedcb4988a9248a5b1eb3dc96e163f3d75502fc6b3f34e06c5712f4f6cd34b45983b0edc33c0a7ae932f46162db3472ff85b4f7a1dad4a7a1694254442596a2bd8f5d7e81b1a625e93da029a82444e2dbdc446dec634b724a7026d7e3d84ba6c9d83e3dd5f25fc9ac730e17f26f0c11530d5c1f79c95cd55427cea0bc54388bf990f5bf8a33b90313f6aa3e31519f6ee7a2a58a373e665195733d8e5db2576792656906ded97daf007a27fdfc3a3072c9d6b12c608bd0534c40a5d89a75246e2ac50cc4215efdd30abb5838a2e95be892ade92abaf920db030c8a129705727c4c01cc726c6f3ad533761a4e7cc2f6a1e2828509b11ce9fd10b9b08b6aeb39ddc0fdea5739666820c06eb2996a73316aa20e414ba5ef27629ee346faf9a0eb5a42f769183b22b2bee4d2c1ec952b8371f54c33830a33972a943a21282a83eb600d3d6e2af595a79aa8588326f6c7a459cc871fc5b556da46552156f5bc49b6cc5aa6a742635e0778623c4d787503b462011cbd76642648cfb4fd63c6ebebf226eadb4aae2db01d01c1bccaa5277cbdbf918d73615b7badfed20d13eb58233d992cf60f9b64fed15c0e85190f1594c13d534a99952b4a1e953918490274798990ec9a189dfffef0ae901be3d6f172149b8808a52ca476281ec42977ef38a185bd5c54dea3c87be9c7625895bce085de6c2af0a7f2d1a0b224e9fa0e6bffbf105dc2da2d30ddb4ddb1386ea680ab662b69d0a6d0685ff8d8f284cddeed41b524c54ded01d715ed047283fc253d47bb903636eba96c4c45ac31988ce17c0212e1456966de066717cd3673e11aec72e2f8af3815d25843c7f913877ea228a3ba445f17b202dd8a78a0a8dc45aba471e6d8f51cda0b38a77c61d8ec511ec86e89d76ad8fe5cd9ab84c07cde69aa7e82308f9b972eae25656688d8870e2eae3c88d8c9916f982ea18c29a34a02dd4864248763484bbb222e6885f3667623ce724e5001b4e9f59457127a6083ef1ace21fea50651e955a2df3166ee1f20d029799307488e4b480a4f5af8d1b38e38501e78e0866424a078905ec3e82a72eb83bef7ffa737de63c</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>实习</category>
      </categories>
      <tags>
        <tag>实习</tag>
      </tags>
  </entry>
  <entry>
    <title>simulink使用中遇到的问题</title>
    <url>/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/</url>
    <content><![CDATA[<h2 id="simulink使用中遇到的问题">simulink使用中遇到的问题</h2>
<h4 id="旋转">1. 旋转</h4>
<p>ctrl + R = 旋转90° ctrl + I = 左右旋转</p>
<h4 id="scope显示的波形带圆圈">2. SCOPE显示的波形带圆圈</h4>
<p>打开示波器-视图-样式-标记（maker）-修改为无（none）</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240716153355953.png"></p>
<h4 id="谐振器中的变压器">3. 谐振器中的变压器</h4>
<p><strong>器件名称：</strong>linear transformer</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240814095309933.png"></p>
<p>​ 取消框选，变为单相变压器，这样就只有两个铁芯了</p>
<p><strong>参数设计：</strong></p>
<ul>
<li><p>units那里有两个选项，默认是pu，你学过电机或者电力系统应该就知道这是<strong>标幺制</strong>，所以我就不解释啥是标幺制了。另一个选项是SI，也就是国际单位制。</p></li>
<li><p>如果选的是国际单位制，那么units下面的nominal power and
frequency就不用管了。这个是用来设置变压器的额定容量和额定频率的，只在标幺制的时候才用的到，</p></li>
<li><p>Winding 1 就是一次侧绕组，Winding 2 就是二次侧绕组。</p></li>
<li><p>V1
V2肯定知道，是一二次侧的电压。注意人家写的是Vrms，也就是电压的有效值。</p></li>
<li><p>R1，R2，L1，L2是一二次侧的电阻和电感。就是那个变压器的等效电路，图里X1，X2就是电感的电抗值，对应的就是L1和L2，</p></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240814095553742.png" alt="变压器等效电路">
<figcaption aria-hidden="true">变压器等效电路</figcaption>
</figure>
<ul>
<li>Rm、Lm就是励磁电阻和<a href="https://zhida.zhihu.com/search?q=励磁电感&amp;zhida_source=entity&amp;is_preview=1">励磁电感</a>。在上面的图上就是中间的rm和Xm。（怎么写下标来着。。）</li>
</ul>
<p>上面提到的就是它能设置的全部参数了。如果你想要的是<strong>理想型变压器</strong>，没有损耗的那种，咋设置嘞。就把R1,L1,R2,L2都设置成0，Rm和Lm设置成inf就行了。像我这样。这时候，我这个变压器的变压比就是V1
/ V2了。</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240831092234015.png"></p>
<h4 id="死区时间--delay模块">4. 死区时间--Delay模块</h4>
<p>延时模块</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240903164654628.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/xiao-zhi-shi-simulink-shi-yong-zhong-yu-dao-de-wen-ti/image-20240903164716263.png" alt="模块参数">
<figcaption aria-hidden="true">模块参数</figcaption>
</figure>
<ul>
<li>总的延迟时间由延迟长度和采样时间共同决定</li>
</ul>
<p>延迟时间 = 延迟长度 * 采样时间</p>
<p>例如，延迟长度为5，采样时间设置为0.2，则模块的输出将在1s时开始更新，在0~1s之间，模块的输出值由<strong>初始条件</strong>中指定的初始值决定。</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>simulink</tag>
      </tags>
  </entry>
  <entry>
    <title>信号</title>
    <url>/2024/08/21/xiao-zhi-shi-xin-hao-sui-bi/</url>
    <content><![CDATA[<h2 id="信号">信号</h2>
<ul>
<li>模拟信号是连续的，数字信号是离散的</li>
<li>在数字逻辑电子电路中，数字信号是二进制的，即只有0 1
表示为高低电平</li>
</ul>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>信号</tag>
      </tags>
  </entry>
  <entry>
    <title>初识图纸</title>
    <url>/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/</url>
    <content><![CDATA[<h2 id="初识图纸">初识图纸</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816082415415.png" alt="image-20240816082415415">
<figcaption aria-hidden="true">image-20240816082415415</figcaption>
</figure>
<ul>
<li>φ：直径</li>
<li>R：半径</li>
<li>M50：普通外螺纹；M代表的是普通螺纹，50代表螺纹的大径，也就是公称直径
<ul>
<li>螺纹式双线，这个外螺纹，螺纹的牙顶线就是大径粗直线，里面的小径是细直线</li>
<li>在左视图里呢，外是牙顶圆，里面是牙底圆</li>
</ul></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816082812435.png" alt="image-20240816082812435">
<figcaption aria-hidden="true">image-20240816082812435</figcaption>
</figure>
<ul>
<li>外面有圆角，半径为R12</li>
<li>4*φ14： 4个直径为14的孔</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816082932238.png" alt="image-20240816082932238">
<figcaption aria-hidden="true">image-20240816082932238</figcaption>
</figure>
<p>分为</p>
<ul>
<li>形状公差
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083045437.png">圆柱度</li>
</ul></li>
<li>位置公差
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083009864.png">圆跳动</li>
<li><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083028686.png">垂直度</li>
<li><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083105053.png">同轴度</li>
</ul></li>
</ul>
<p><strong>区别：</strong>有三个格，最后有个大写字母的是位置公差，其是一个相对于另一个，有一个基本代号，形状公差，第一个格是项目符号，第二个是公差数值，，位置公差多的那个叫基准符号</p>
<p><strong>基准符号：</strong>去图纸里找，有个黑色三角<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083333807.png" alt="image-20240816083333807">就这儿</p>
<p><strong>圆跳动：</strong>（但其实好像是属于跳动公差）</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083822263.png"><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816083840114.png"></p>
<ul>
<li>公差方格连接的叫被测要素，指向的是φ26圆柱表面</li>
<li>对</li>
<li>基准要素，要注意他是轮廓要素还是中心要素：看引线位置跟尺寸线是否对齐，对齐则为中心要素，这里指的是轴线，</li>
<li><strong>φ26圆柱面对φ40圆柱轴线的圆跳动公差为0.025</strong></li>
</ul>
<p><strong>垂直度</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816084213910.png"></p>
<p><strong>φ40左端面 对 φ40圆柱轴线的垂直公差为0.04mm</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816084358643.png"></p>
<ul>
<li>M16-6g
<ul>
<li>M：普通螺纹也就是常说的三角形螺纹</li>
<li>16代表螺纹大径</li>
<li>里面的细直线也就是小径=0.85大径</li>
<li>6g是公差代号，g是小写字母代表外螺纹，大写字母代表外螺纹</li>
</ul></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816084704285.png" alt="image-20240816084704285">
<figcaption aria-hidden="true">image-20240816084704285</figcaption>
</figure>
<ul>
<li>两个之间的连接叫做退刀槽</li>
<li>2*1.5，横长为2mm，1.5是深度，这个深度就是从M16的外面往里走了1.5，所以可以得到直径为13mm</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816090013310.png"><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816090020707.png" alt="image-20240816090020707"></p>
<ul>
<li>6个直径为6.6个小孔，外面加上直径为11大孔，深度为6.8，在这里也就是大孔在第一个图里的宽度，根号下的是粗糙度为12.5um</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816090344597.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816090354455.png"></p>
<ul>
<li>C2 :2*45°的倒角，C表示45°倒角</li>
<li>这里看左侧的φ32，那么对应上图右侧的直径就是32，左侧的因为C2，所以线长应该是28</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816090706781.png"></p>
<ul>
<li>把上面这个玩意引出来了，叫移出断面图</li>
<li>下面剩了多少，根据上面的减去就是他的深度</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816091021943.png"></p>
<ul>
<li>细牙普通螺纹</li>
<li>因为有螺距：*1.5，粗牙普通螺纹不带螺距</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816091303288.png" alt="image-20240816091303288">这种细直线的圆圈是要画局部放大图<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816091346283.png"></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816092221096.png" alt="image-20240816092221096">
<figcaption aria-hidden="true">image-20240816092221096</figcaption>
</figure>
<ul>
<li>两个直径为18，允许的公差范围为0.05-0.25，</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816092424292.png" alt="image-20240816092424292">
<figcaption aria-hidden="true">image-20240816092424292</figcaption>
</figure>
<ul>
<li><strong>6XM18×1.5</strong>:
这表示图纸上有6个M18的螺纹孔，螺距为1.5毫米。M18表示螺纹的公称直径为18毫米</li>
<li><strong>6H</strong>:
这部分表示螺纹的公差等级，6H是螺纹内孔的常见公差等级，表示螺纹的精度和公差范围。</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/xiao-zhi-shi-chu-shi-tu-zhi/image-20240816093025212.png" alt="image-20240816093025212">
<figcaption aria-hidden="true">image-20240816093025212</figcaption>
</figure>
<ul>
<li>表示有两个直径为20的零件</li>
</ul>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>图纸</tag>
      </tags>
  </entry>
  <entry>
    <title>初识容器</title>
    <url>/2024/10/09/xiao-zhi-shi-rong-qi/</url>
    <content><![CDATA[<h2 id="初识容器">初识容器</h2>
<h3 id="如何理解docker">1. 如何理解Docker</h3>
<p>​
Docker利用‘’容器‘’技术，将应用程序及其所有依赖项打包在一个可移植的容器，封装成一个整体了，直接打开就能用</p>
<h3 id="docker架构">2. Docker架构</h3>
<p><img src="/medias/loading.gif" data-original="/2024/10/09/xiao-zhi-shi-rong-qi/image-20241009094004483.png"></p>
<ul>
<li>镜像：也就是容器的模版</li>
<li>镜像仓库：用于存储和管理镜像，（上传下载）</li>
<li>容器：容器=镜像+读写层，
<ul>
<li>镜像只是一个只读的模板，容器就是镜像的一个运行实例了，为了运行它，在镜像的基础上添加了一个可写的读写层，</li>
<li>容器运行时的任何修改都是发生在读写层，不会影响底层的镜像</li>
<li>当停止或删除该容器时，读写层也被删除，下载创立新容器的时候，不会包含之前的修改</li>
</ul></li>
</ul>
<h3 id="大体步骤">3. 大体步骤</h3>
<ul>
<li><p>首先安装docker</p></li>
<li><p>下载镜像</p>
<ul>
<li>镜像这玩意是多层的，比如基础的：java环境，这属于一个镜像了，有了它才能运行后级代码</li>
<li>应该说他是分层的，且上面一层依赖着下面的镜像来运行</li>
</ul></li>
<li><p>在本机搞了个东西，就可以打包一下赛到仓库里，然后在第二台电脑下载镜像，就能用了，没有环境差异</p></li>
<li><p>关于端口暴露问题</p>
<ul>
<li>Docker容器默认是隔离的，跟VM有类似这玩意跟主机是隔离的，那么就有一个问题，我们如何通过主机访问</li>
<li>这就是暴露端口的过程：将容器内部的端口映射到主机上的端口；这里容器就是个分封闭的房子，端口就是门，暴露端口就是开门迎客，端口映射就是指路牌</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>容器</tag>
      </tags>
  </entry>
  <entry>
    <title>电感反向电动势</title>
    <url>/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/</url>
    <content><![CDATA[<h2 id="电感反向电动势">电感反向电动势</h2>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110154574.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110228615.png"></p>
<p>电阻上面没有压降，所以施加在MOS管漏极上的电压就有6V</p>
<p>那么将电阻换成电感会发生什么</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110337793.png" alt="image-20240827110337793">
<figcaption aria-hidden="true">image-20240827110337793</figcaption>
</figure>
<p>当mos管截止的时候，MOS管的漏极电压峰值高达40V</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110426582.png"></p>
<p><strong>电感电流不能突变</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110459446.png"></p>
<p>MOS关断了，但是电流还需要一段时间才能停止流动，但是电流没地儿去了，不断积累直到所有存储的感应能量都转化回电能，所以MOS管的漏极上会得到巨大的电压尖峰</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110702516.png"></p>
<p><strong>解决办法</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/xiao-zhi-shi-dian-gan-fan-xiang-dian-dong-shi/image-20240827110805149.png"></p>
<h5 id="为啥说是反向的">为啥说是反向的</h5>
<p>​
首先理解<strong>反向</strong>，反向的意思就是说，你想减少，我不乐意，给你施加个能量，让你缓慢减少，你想增加，我还是不乐意，给你施加个能量，让你缓慢增加</p>
<p>​
对此做出如下理解，电感储存的能量转化成反向电动势用于减缓电流减为0的过程，这不就是电感电流不能突变</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>反向电动势</tag>
      </tags>
  </entry>
  <entry>
    <title>电压增益曲线</title>
    <url>/2024/08/15/xiao-zhi-shi-dian-ya-zeng-yi-qu-xian/</url>
    <content><![CDATA[<h2 id="电压增益曲线">电压增益曲线</h2>
<p><strong>电压增益</strong>（<em>Gv</em>）定义为输出电压
<em>Uo</em>与输入电压<em>Ui</em>之比： <span class="math display">\[
G_v=\frac{U_o}{U_i}
\]</span> ​
<strong>电压增益曲线</strong>描述了当输入电压和负载条件固定时，随着频率的变化，输出电压的变化，看的是<strong>变换器在不同频率下的性能表现</strong></p>
<h4 id="坐标轴">坐标轴</h4>
<p><strong>x轴</strong></p>
<ul>
<li>频率（f）：通常用赫兹（Hz）或归一化频率（f<sub>n</sub>=f/f<sub>s</sub>）表示，其中
f<sub>s</sub>
是基准频率（通常为串联谐振频率）。表示变换器的工作频率。通过改变工作频率，可以控制系统工作点，影响电压增益</li>
</ul>
<p><strong>y轴</strong></p>
<ul>
<li>电压增益（<em>Gv</em>）：通常为无单位的比值，也可以表示为倍数或dB（分贝）。表示输出电压相对于输入电压的放大或衰减程度，增益值越大，输出电压相对于输入电压越高；小于1时，表示输出电压低于输入电压</li>
</ul>
<h4 id="电压增益曲线的意义">电压增益曲线的意义</h4>
<h5 id="谐振频率">1. 谐振频率</h5>
<ul>
<li>CLLC谐振变换器有两个主要谐振频率：串联谐振频率（fs）（第一谐振频率）和并联谐振频率（fp）（第二谐振频率）。在这些频率附近，电压增益可能会出现峰值，意味着系统在这些频率下的能量传递效率较高。</li>
</ul>
<h5 id="峰值增益">2. 峰值增益</h5>
<ul>
<li>变换器在特定频率下的最高效率工作点</li>
<li>电压增益峰值通常出现在谐振频率附近，此时变换器的电感和电容网络处于谐振状态，谐振状态下，电路阻抗最低，能量传递效率最高，峰值增益越高，能量传递效率越高，能将更多的输入电压转化为输出电压</li>
<li></li>
</ul>
<h4 id="正反向电压增益曲线的谐振峰值随着ｈ-值-的-增-大-而-降低这也就意味着ｈ-值越小电压调节范围越宽cllc里面的">正、反向电压增益曲线的谐振峰值随着ｈ
值 的 增 大 而 降低。这也就意味着ｈ
值越小，电压调节范围越宽(CLLC里面的)</h4>
<h5 id="电感比h">1. 电感比h</h5>
<p><span class="math display">\[
h=\frac{L_r}{L_m}
\]</span></p>
<p>Lr是谐振电感，Lm是励磁电感</p>
<h5 id="h值与增益曲线的关系">2. h值与增益曲线的关系</h5>
<ul>
<li><em>h</em>增大时，比值增加，会导致谐振频率的调整，由于谐振频率的位置决定了电压增益曲线的形状和峰值位置，h值的增大通常会导致电压增益曲线的谐振峰值降低，换句话说，<strong>增大h值会使得电压增益曲线的峰值变得不那么高</strong></li>
<li><strong>物理原因：</strong>
当h值增大时，谐振网络的谐振频率可能会更接近原边电感主导的频率，在这一频率下，电路阻抗更高，导致电压增益减小，从而降低了谐振峰值</li>
</ul>
<h5 id="为啥h越小电压调节范围越宽">为啥h越小，电压调节范围越宽</h5>
<ul>
<li><p><strong>峰值与调节范围的关系</strong>：</p>
<ul>
<li>当 h
值较小时，谐振峰值较高。系统在谐振频率附近可以提供更高的增益，这有利于在较低的输入电压下维持所需的输出电压。</li>
<li>然而，如果增益曲线过于陡峭，输入电压的稍微变化可能导致输出电压的显著变化，这反而会限制电压调节范围。</li>
</ul>
<p><strong>曲线平坦度与调节范围</strong>：</p>
<ul>
<li>当
h值较小时，系统的增益曲线可能会变得较为平坦，这意味着增益在较宽的频率范围内保持相对稳定，从而允许更宽的输入电压调节范围。</li>
</ul></li>
</ul>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电压增益</tag>
      </tags>
  </entry>
  <entry>
    <title>调制方式</title>
    <url>/2024/12/04/xiao-zhi-shi-diao-zhi-fang-shi/</url>
    <content><![CDATA[<h2 id="调制方式">调制方式</h2>
<h3 id="pwm">PWM</h3>
<h3 id="pfm">PFM</h3>
<p>​
信号是有载波也就是常见的那个正弦波；跟调制信号（一条直线）构成的，所谓调频，调的是载波的频率，那么对应的方波呢？正弦波频率改变，幅值没变，占空比没变，<strong>周期变了</strong>。对应方波的周期也会发生变化</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>调制</tag>
      </tags>
  </entry>
  <entry>
    <title>温湿度仪原理图</title>
    <url>/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/</url>
    <content><![CDATA[<h2 id="温湿度仪原理图">温湿度仪原理图</h2>
<h4 id="主控电路">1. 主控电路</h4>
<p><strong>查找芯片</strong></p>
<p>主控电路选用stm32g030k6t6</p>
<p>放置--器件--搜索--stm,,,,,,--放置</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716164616562.png"></p>
<p><strong>PB9</strong>，PB8</p>
<p>​ 点击芯片，找到数据手册，搜索PB9，可以得到</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716164712804.png"></p>
<p>​ 该表格介绍引脚分配和描述，</p>
<p>在I2C总线通信中，I2C1_SDA和I2C1_SCL分别是两条主要的信号线。</p>
<ul>
<li>I2C1_SDA用于发送和接收数据，PB9引脚作为I2C1_SDA引脚时，用于传输I2C总线上的数据。</li>
<li>I2C1_SCL用于同步时钟信号。PB8引脚作为I2C1_SCL引脚时，用于传输I2C总线上的时钟信号。</li>
</ul>
<p>在与温度传感器通信时：</p>
<ul>
<li><p><strong>I2C1_SCL（PB8）</strong>：连接到温度传感器的时钟输入端。</p></li>
<li><p><strong>I2C1_SDA（PB9）</strong>：连接到温度传感器的数据输入/输出端。</p></li>
</ul>
<p>在Description中找到他的电压能够承受多少V<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716165329781.png" alt="image-20240716165329781"></p>
<p>if给芯片5V的电压就坏事了，本设计使用两节电池，1.5V+1.5V=3V符合条件</p>
<p><strong>修改网络标识</strong></p>
<p>放置--网络标签--tap键修改名称--然后alt+w引出导线连接加号与引脚</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716170036992.png" alt="image-20240716170036992">
<figcaption aria-hidden="true">image-20240716170036992</figcaption>
</figure>
<p>这里还得微调一下，移动网络标识直至加号完全消失<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716172600029.png" alt="image-20240716172600029"></p>
<p><strong>网络标识</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716171216260.png" alt="image-20240716171216260">4.5引脚为网络标识；，放置-网络标识</p>
<p>右侧的方式需要左右翻转，快捷键X</p>
<p><strong>非连接标识</strong></p>
<p>​
用于提示不用连接引脚，防止报错，在放置--非连接标识，必须放在黑色圆圈处才有作用<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716172954723.png" alt="image-20240716172954723"></p>
<p><strong>复位引脚</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716173319896.png" alt="image-20240716173319896">
<figcaption aria-hidden="true">image-20240716173319896</figcaption>
</figure>
<p><strong>10kΩ的电阻</strong></p>
<p>​ 放置-器件，搜索10k，加入限定0805+stn基础库--应用筛选</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716173508920.png" alt="image-20240716173508920">
<figcaption aria-hidden="true">image-20240716173508920</figcaption>
</figure>
<p><strong>100nf的电容同理</strong></p>
<p>​ 这里也可以shift+F 直接进入器件的搜索</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240716173656116.png" alt="image-20240716173656116">
<figcaption aria-hidden="true">image-20240716173656116</figcaption>
</figure>
<p>可以点击两个元器件，在右侧显示出其封装</p>
<p>上面那玩意呢不知道是啥，但是L1不是电感，叫磁珠</p>
<h4 id="晶振模块">2. 晶振模块</h4>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717150942554.png" alt="image-20240717150942554" style="zoom: 200%;"></p>
<p>使用32.768K来为他进行RTC的计时</p>
<h4 id="sht40温湿度传感器模块">3. SHT40温湿度传感器模块</h4>
<p><img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717153610150.png"></p>
<h4 id="三态输出8位移位寄存器">4. 三态输出8位移位寄存器</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717160922061.png" alt="image-20240717160922061">
<figcaption aria-hidden="true">image-20240717160922061</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717154713251.png" alt="image-20240717154713251">
<figcaption aria-hidden="true">image-20240717154713251</figcaption>
</figure>
<p>后面的U<sub>5,6</sub>与其高度相似，区别在于LED1，，还是LED2</p>
<p>右键芯片，选择扇出网络标签，批量修改</p>
<h4 id="唤醒按键">5. 唤醒按键</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717162327499.png" alt="image-20240717162327499">
<figcaption aria-hidden="true">image-20240717162327499</figcaption>
</figure>
<p>中间这玩意是个按键</p>
<h4 id="测试led">6. 测试led</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717162407592.png" alt="image-20240717162407592">
<figcaption aria-hidden="true">image-20240717162407592</figcaption>
</figure>
<h4 id="共阴极三位数码管">7. 共阴极三位数码管</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717164050812.png" alt="image-20240717164050812">
<figcaption aria-hidden="true">image-20240717164050812</figcaption>
</figure>
<h4 id="两节5号电池盒防反接">8. 两节5号电池盒+防反接</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717171003758.png" alt="image-20240717171003758">
<figcaption aria-hidden="true">image-20240717171003758</figcaption>
</figure>
<h4 id="swd下载调试接口">9. SWD下载调试接口</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/07/16/kai-yuan-xiang-mu-fu-ke-wen-shi-du-yi-yuan-li-tu/image-20240717172115713.png" alt="image-20240717172115713">
<figcaption aria-hidden="true">image-20240717172115713</figcaption>
</figure>
]]></content>
      <categories>
        <category>开源项目</category>
      </categories>
      <tags>
        <tag>温湿度仪</tag>
      </tags>
  </entry>
  <entry>
    <title>半桥变换器</title>
    <url>/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/</url>
    <content><![CDATA[<h3 id="半桥变换器">半桥变换器</h3>
<h4 id="拓扑结构">拓扑结构</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/image-20240826134603191.png"></p>
<ul>
<li>分隔电容C<sub>1</sub>, C<sub>2</sub></li>
<li>变压器T</li>
<li>原边线圈圈数 N<sub>p</sub></li>
<li>副边线圈圈数 N<sub>s1</sub> , N<sub>s2</sub></li>
<li>储能电感 L</li>
<li>滤波电容 C</li>
</ul>
<h4 id="工作原理">工作原理</h4>
<p>10 00 01 00</p>
<p><strong>S1导通，S2关断</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/image-20240826134904019.png"></p>
<ul>
<li><strong>左边：</strong>电流由输入电压端流经S1、变压器原边线圈与C2形成电流回路。此时<strong>变压器原边线圈两端压降为Vi-Vi/2=Vi/2</strong></li>
<li><strong>变压器</strong>原边线圈因电流流过而产生磁力线，磁力线透过铁芯传到副边线圈1，<strong>副边线圈1产生感应电势</strong></li>
<li><strong>右边：</strong>副边线圈1两端感应电压Vi/(2*n)，使得理想整流二极管D1导通，电流形成回路，通过D1、输出储能电感与输出电容</li>
<li>副边储能电感两端固定压降VL，使得电感线圈上产生电流，此增加的电流于电感铁芯内累积磁力线，直到S1关闭为止</li>
</ul>
<p><strong>S1关断，S2关断：</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/image-20240826135353989.png"></p>
<ul>
<li>原边线圈因S1关断，原边无电流回路产生，变压器停止传输能量，此时变压器副边线圈1和线圈2，端点电压皆为0</li>
<li><strong>副边电流方向由储能电感到输出电容，经过两线圈共同连接点，各一半电流到D1与D2，回到储能电感</strong></li>
<li>电感产生反电势致使D1与D2同时导通，储能电感在开关关断时续流，电感上压降与输出相同</li>
<li>储存电感将导通时间储存在铁芯内的磁力线，透过电感上的感应线圈以电流形式进行释放</li>
</ul>
<p><strong>S1关断，S2导通时：</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/image-20240826135937512.png"></p>
<ul>
<li>电流由输入电压端流经C1、变压器原边线圈与S2形成电流回路，此时变压器原边线圈两端压降为Vi-Vi/2=Vi/2</li>
<li>变压器原边线圈因电流流过而产生磁力线，其磁力线透过铁芯传到副边线圈2，<strong>副边线圈2产生感应电势</strong></li>
<li>副边线圈2两端感应电压Vi/(2*n)，使得理想整流二极管D2导通。电流形成回路，通过D2、输出储能电感与输出电容</li>
<li>副边储能电感两端固定压降VL，使得电感线圈上产生电流，该增加的电流在电感铁芯内累积磁力线，直到S2关闭为止</li>
</ul>
<p><strong>S1关断，S2关断时：</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/26/tuo-bu-ban-qiao-bian-huan-qi/image-20240826140402603.png"></p>
<ul>
<li>与上一次00是一样的</li>
</ul>
<p><strong>总结</strong></p>
<ul>
<li>10与01的区别：上管导通的话，副边就是上面线圈起作用了，下管导通寄宿下面的线圈作用，主要看变压器，一个是流入变压器，一个电流流出变压器，所以电流方向不同，根据二极管，所以导通不同回路</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>DC-DC变换器</tag>
      </tags>
  </entry>
  <entry>
    <title>反激变换器</title>
    <url>/2024/08/27/tuo-bu-fan-ji-bian-huan-qi/</url>
    <content><![CDATA[<h2 id="反激变换器">反激变换器</h2>
<h3 id="反激变换器拓扑结构">反激变换器拓扑结构</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/tuo-bu-fan-ji-bian-huan-qi/image-20240827150755166.png"></p>
<h3 id="工作原理">工作原理</h3>
<p><img src="/medias/loading.gif" data-original="/2024/08/27/tuo-bu-fan-ji-bian-huan-qi/e8b7ce99d22d3741e5267ff689143590.png"></p>
<p><strong>S导通(开关管导通)时：</strong></p>
<ul>
<li>电流由输入电压端流经变压器原边线圈与开关形成电流回路。此时变压器原边线圈两端压降为Vi</li>
<li>副边线圈两端感应电压Vi/n，因回路上二极管不导通，<strong>副边回路上无电流</strong></li>
<li>变压器原边线圈因电流流过而产生磁力线于变压器铁芯内，其数量会随流通电流的时间增加而增加</li>
<li>因副边线圈无电流流通，原边电流增加使得<strong>原边能量累积于原边线圈中</strong>，直到开关断开为止</li>
</ul>
<p><strong>S关断(开关管关断)时：</strong></p>
<ul>
<li>原边线圈两端电压因磁力线累积储存在变压器铁芯内，因而产生反电势</li>
<li>原边线圈两端反电势由铁芯内累积的磁力线，使得副边线圈两端电压产生相对感应电势</li>
<li>二极管导通(理想二极管)，副边线圈两端电压为Vo，原边线圈两端电压为Vo*n</li>
<li>电流
由副边线圈开始经二极管与输出电容形成回路，并将变压器的能量释放，直到下一次开关导通为止</li>
</ul>
<p><strong>总结</strong></p>
<p>​ 特点:变压器的一次和二次绕组的极性相反</p>
<ul>
<li>当开关管<strong>导通</strong>时，变压器原边电感电流开始上升，此时由于次级同名端的关系，输出二极管截止，变压器<strong>储存能量</strong>，负载由输出电容提供能量。</li>
<li>当开关管<strong>截止</strong>时，变压器原边电感感应电压反向，此时输出二极管导通，变压器中的能量经由输出二极管向负载<strong>供电</strong>，同时对电容充电，补充刚刚损失的能量。</li>
</ul>
<p>+++</p>
<p>考虑到原边漏感的能量可能会造成开关S两端过压，损坏S，因此一般要加入吸收电路</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>DC-DC变换器</tag>
      </tags>
  </entry>
  <entry>
    <title>mathtype 公式排版</title>
    <url>/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/</url>
    <content><![CDATA[<h2 id="mathtype-公式排版">mathtype 公式排版</h2>
<h4 id="公式右编号">公式右编号</h4>
<p>实现效果：<img src="/medias/loading.gif" data-original="/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/image-20240812140321850.png"></p>
<p>实现：</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/image-20240812140531229.png"></p>
<p>点击右编号，默认直接生成，可以得到</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/image-20240812140601684.png"></p>
<p>点击编号，插入编号，格式化</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/image-20240812140711253.png"></p>
<p>将节编号取消就是期刊用的（1）了</p>
<p>，引用的时候，点击mathtype上面的插入引用<img src="/medias/loading.gif" data-original="/2024/08/12/pai-ban-mathtype-gong-shi-pai-ban/image-20240812140842830.png">这里去双击公式（2)的编号去就可以实现引用，这样后续编号发生变化也会随之变化</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>mathtype</tag>
      </tags>
  </entry>
  <entry>
    <title>【控制器】---PID控制器</title>
    <url>/2024/07/30/kong-zhi-qi-pid-kong-zhi-qi/</url>
    <content><![CDATA[<h2 id="控制器---pid控制器">【控制器】---PID控制器</h2>
<h4 id="基本公式">基本公式</h4>
<p><span class="math display">\[
u(t)=K_{p}e(t)+K_{i}\int_{0}^{t}e(\tau)d\tau+K_{d}\frac{d}{dt}e(t)\\=K_{p}[e(t)+\frac1{T_{i}}\int_{0}^{t}e(\tau)d\tau+T_{d}\frac
d{dt}e(t)]
\]</span></p>
<h4 id="p-比例环节----误差">P 比例环节----误差</h4>
<p>​ P比例作用是对<strong>偏差</strong>
在<strong>瞬间</strong>做出反应，即偏差一旦产生，立即产生作用，使其控制类朝减少变化，控制的强弱取决于比例系数，系数越大控制作用越强</p>
<p>​
比如：烧水，要烧到60度，水温一开始25，那么就有偏差了。60-25，，用p*这个差值进行控制，下个周期温度可能是40了，就变成了pe<sub>ss</sub>，由此可见，也接近目标温度，P的作用越小</p>
<p><strong>特点：</strong></p>
<p>​
比例控制P决定了系统响应的迅速性，能够加快调节的速度，使系统更快到达期望值，Kp越大，越快接近目标值。</p>
<p>​
但由于稳态误差的存在，仅有P控制器的存在并不能到达期望值，而总是有偏差存在。</p>
<blockquote>
<p>这里可以想另一个例子，水缸里加水，但是这个缸是漏的，目标值为1米，漏0.1米水位的水，那么一开始误差大，加水量为Kp*e；比如设Kp为0.5；那么随着水位上升，误差减小，当水位到达0.8米的时候会出现一个状况，kp×e=0.1，也就是说进水量=出水量了！系统稳定了！但是还没到达目标值！这！就是稳态误差！各类阻力消耗其实就是水缸漏水！</p>
</blockquote>
<p>而且，如果P控制器的参数过大，增长曲线的斜率也会较大，导致震荡幅度增大，系统震荡更加频繁，导致系统不稳定。</p>
<h4 id="i-积分环节----误差累积">I 积分环节----误差累积</h4>
<p>​
回到刚才的例子，在烧水的过程中，p不断修正，水自身也会散热，就会出现一个情况，在某一时刻，加热的速度正好等于水的散热速度，那么水温就不会再升高了，系统变成稳定了，水壶一直被加热但是温度并不会上升，这个时候实际温度到目标温度之间的差值就是<strong>静态误差</strong></p>
<p>​
由于稳态误差的存在，只有P的调节作用是不够的，所以我们需要<strong>积分环节I</strong>来消除稳态误差，只要实际温度和目标温度存在偏差就会把这个偏差进行累加（离散的积分就是累加），然后把这个积分后的结果作用到加热设备上，那么这时候得到的误差其实是变大了的，所以调节能力变强了，跳出之前的暂态误差</p>
<p><strong>特点：</strong>积分控制I
是为了消除系统的稳态误差，使系统到达期望值，但是这会导致调节时间变长，超调量增加。</p>
<h4 id="d微分环节">D微分环节</h4>
<p>​
那么这时候，水温越来越接近60°了，但是水温的<strong>变化速度</strong>还有存在，所以需要微分环节来消除这个变化速度，也就是说，当误差越来越小时，增量应该放缓，而不是保持一个速度去增加，这样会导致水温超过目标值，</p>
<p><strong>特点：</strong>微分控制D决定了控制系统是否具有前瞻性，也就是影响着系统的未来，能够减少调节时间，使系统更快到达期望值，还能减少超调量。但是微分控制器容易受到干扰，当有外界干扰存在时，D的参数越大，系统越不稳定。</p>
<p>P专注于当下，I总结的是过去，D预测未来！</p>
<h4 id="组合情况">组合情况</h4>
<p>对于干扰较强的系统，最好不使用D；对于对响应速度没有高要求的系统，采用PI控制就足够；对于车辆速度控制，使用PI控制，对于转向控制，使用PD控制</p>
<hr>
<h4 id="超调">超调</h4>
<p>​ 超调就是~响应超过了设定值</p>
<p><strong>超调率</strong>=（峰值-稳态值）/稳态值*100%</p>
<p>有超调就得振荡吧，你得回到稳定值，那么你震几次，系统不就更晚稳定，增大了调节时间，还可能不稳定</p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>控制器</tag>
      </tags>
  </entry>
  <entry>
    <title>【控制器】---模糊PI控制器</title>
    <url>/2025/03/05/kong-zhi-qi-mo-hu-pi/</url>
    <content><![CDATA[<h2 id="控制器---模糊pi">【控制器】---模糊PI</h2>
<h3 id="模糊控制的基础知识">1. 模糊控制的基础知识</h3>
<h4 id="模糊pi是干啥的">1.1 模糊PI是干啥的</h4>
<p>​
PI控制是根据误差进行调节，利用比例Kp与积分Ki实现反馈调节，这里的俩玩意是咋来的哩</p>
<ul>
<li><strong>E误差较大时</strong>，增大Kp，来达到更快的调节，缩小调节时间；</li>
<li><strong>Ec误差变化率较大时</strong>，减小Ki，减小误差积分，使系统减少积分饱和</li>
</ul>
<blockquote>
<p><strong>啥是积分饱和</strong>：PI控制器中，因积分项过度累计导致的非线性失控现象</p>
<p>误差变化率大，说明误差本身在迅速变化，可能是负载突变或输入电压波动~，如果这时候Ki还是这么大，那么积分项<span class="math inline">\(∫e（t）dt\)</span>的累计速度会很快,那么会产生超调，振荡，动态性能变差等一系列问题。</p>
</blockquote>
<p>​ 所以引入<strong>模糊控制</strong>，来实时的控制改变Kp与Ki，</p>
<h4 id="模糊控制基础理论">1.2 模糊控制基础理论</h4>
<p>​ 模糊控制器也称FC控制器（Fuzzy
Control），如下图所示可<strong>按照输入的维数划分</strong>，分为如下三类：</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250305155421055.png" alt="FC控制器分类">
<figcaption aria-hidden="true">FC控制器分类</figcaption>
</figure>
<ul>
<li><strong>一维FC控制器</strong> 输入变量x仅有偏差e，
对动态偏差调节品质较差</li>
<li><strong>二维FC控制器</strong>
x有偏差e和偏差变化率ec两个分量。偏差变化率可以反应受控过程中输出变量的动态特性，采用较多</li>
<li><strong>三维FC控制器</strong>
增加了变化率的变化率ecc分量。但即使到了三维，也不可消除静态误差，且由于维数高产生的模糊子集数要大大多于所实现的动态特性。只适用于一些特殊场合。</li>
</ul>
<p>那么对于一个完整的二维FC模糊控制应该包括：<strong>模糊化，模糊推理，解模糊</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250305155912412.png" alt="模糊控制过程">
<figcaption aria-hidden="true">模糊控制过程</figcaption>
</figure>
<p>一个基础的模糊控制器主要有三个功能</p>
<ul>
<li><strong>模糊化：</strong>把精确量（如误差e和误差变化率ec）转化为相应的模糊量（E，EC）</li>
<li><strong>模糊推理：</strong>利用总结的语言规则（模糊控制表）进行模糊推理</li>
<li><strong>解模糊：</strong>把推理结果从模糊量转化为可以用于实际控制的精确量</li>
</ul>
<h3 id="拆分">2. 拆分</h3>
<h4 id="量化因子与比例因子">2.1 量化因子与比例因子</h4>
<p><img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/8d97ee3b2cca92558f0028408f3c4b70.png"></p>
<p>​
这里我们使用偏差e跟ec作为输入实现控制系统参数调整，所以需要对e和ec进行模糊化，首先</p>
<ul>
<li><p><strong>量化因子：</strong>理解为归一化，</p>
<blockquote>
<p>设计的模糊控制器输入限制在[-3,3],但是实际上的是【-300,300】，那么就需要<strong>实际输入/100作为标准输入</strong>，这里的<strong>1/100就是量化因子</strong></p>
</blockquote>
<p><span class="math display">\[
K_e=\frac{n}{x_{max}-x_{min}}\quad(n=6\text{对应}[-3,3])
\]</span></p>
<p>​ 示例：温度控制误差范围±50℃ <span class="math display">\[
K_e=6/(50-(-50))=0.06
\]</span></p></li>
<li><p><strong>比例因子：</strong>解归一化</p>
<blockquote>
<p>同样的，不能一直当小瘪三，如果我实际的输出是【-30,30】，那么这里就得再将<strong>标准输出×10作为实际输出</strong>，<strong>10就是比例因子</strong></p>
</blockquote>
<p>利用量化因子，我们就将输入量规划到论域范围了，然后呢~他还是精确量，然后需要进行模糊化</p></li>
</ul>
<h4 id="模糊化">2.2 模糊化</h4>
<p><strong>模糊化的实质是计算输入对各模糊子集的归属程度</strong></p>
<p>​ 首先来理解一些这一步骤的意义</p>
<ul>
<li><strong>输入：</strong>精确量
<ul>
<li>比如说：当前温度28.6℃</li>
</ul></li>
<li><strong>输出：</strong>各模糊子集的隶属度值集合
<ul>
<li>“低温”子集隶属度：0.0</li>
<li>“舒适”子集隶属度：0.3</li>
<li>“高温”子集隶属度：0.7</li>
</ul></li>
<li><strong>物理意义：</strong>当前温度更接近“高温”范畴，但仍有部分属于舒适区</li>
</ul>
<p>​ 在来看一下一些概念</p>
<ul>
<li><strong>模糊子集：</strong>将连续量离散化为可理解的语义单元（如NB/NM/NS/ZO)
<ul>
<li><strong>意义：</strong>作为规则库中的条件判断单元</li>
</ul></li>
<li><strong>隶属度函数：</strong>描述元素对模糊集合归属程度的数学映射规则，是模糊集合的量化载体
<ul>
<li><strong>意义：</strong>将</li>
</ul></li>
<li><strong>隶属度：</strong>量化归属程度
<ul>
<li><strong>意义：</strong>决定各条模糊规则的贡献比例</li>
</ul></li>
</ul>
<h5 id="模糊子集">2.2.1 模糊子集</h5>
<p><strong>模糊集合的表示方法：</strong></p>
<ul>
<li><p><strong>当论域X为有限集</strong>，记<span class="math inline">\(x={x1,x2，....xn}\)</span>,此时有三种常见的表示形式</p>
<ul>
<li><p><strong>zadeh表示法</strong></p>
<ul>
<li><p><span class="math display">\[
A=\sum_{i=1}^n\frac{\mu_A(i)}{x_i}=\frac{\mu_A(x_1)}{x_1}+\frac{\mu_A(x_2)}{x_2}+\cdots+\frac{\mu_A(x_n)}{x_n}
\]</span></p>
<ul>
<li>注：∑跟+，
不是求和的意思，只是<strong>概括集合诸元的记号</strong>；<span class="math inline">\(\frac{\mu_A(x_i)}{x_i}\)</span>不是分数，表示**点x<sub>i</sub>对模糊集A的隶属度是<span class="math inline">\(u_A(x_i)\)</span>.</li>
</ul></li>
</ul></li>
<li><p><strong>序偶表示法</strong></p>
<ul>
<li><span class="math display">\[
A=\{(x_1,\mu_A(x_1)),(x_2,\mu_A(x_2)),\cdots,(x_n,\mu_A(x_n))\}
\]</span></li>
</ul></li>
<li><p><strong>向量表示法</strong></p>
<ul>
<li><span class="math display">\[
A=(\mu_A(x_1),\mu_A(x_2),\cdots,\mu_A(x_n))
\]</span></li>
</ul></li>
</ul></li>
<li><p><strong>当论域为无限集时</strong>，X上的模糊集A可以写成</p>
<ul>
<li><p><span class="math display">\[
A=\int_{x\in X}\frac{\mu_A(x)}{x}
\]</span></p>
<ul>
<li>同样的，∫也不是积分的意思，里面那玩意也不是分数</li>
</ul></li>
</ul></li>
</ul>
<p><strong>模糊子集的划分</strong></p>
<p>对于模糊输入变量e ，模糊子集通常可以划分为：</p>
<p>e ={负大, 负小, 零, 正小, 正大}={NB, NS, ZO, PS, PB} e ={负大,
<strong>负中</strong>, 负小, 零, 正小, 正中, 正大}={NB, NM, NS, ZO, PS,
PM, PB} e ={负大, 负中, 负小, <strong>零负</strong>,
<strong>零正</strong>, 正小, 正中, 正大}={NB, NM, NS, NZ, PZ, PS, PM,
PB} （英文字头简记）</p>
<h5 id="隶属度函数">2.2.2 隶属度函数</h5>
<p><strong>6种典型的隶属度函数</strong></p>
<ul>
<li><p><strong>高斯型隶属函数</strong></p>
<p>高斯型隶属度函数有两个参数 σ 和 c 确定 <span class="math display">\[
f(x,\sigma,c)=e^{-\frac{(x-c)^2}{2\sigma^2}}
\]</span> 其中参数σ通常为正，参数 c 用于确定曲线的中心，</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">gaussmf(x,[σ，c])</span><br></pre></td></tr></table></figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306111219075.png" alt="高斯型">
<figcaption aria-hidden="true">高斯型</figcaption>
</figure></li>
<li><p><strong>三角形隶属函数</strong></p>
<ul>
<li><p>三角形曲线的形状由三个参数a,b,c确定 <span class="math display">\[
f\left(x,a,b,c\right)=\begin{cases}0&amp;\quad x\leq
a\\\frac{x-a}{b-a}&amp;\quad a\leq x\leq b\\\frac{c-x}{c-b}&amp;\quad
b\leq x\leq c\\0&amp;\quad x\geq c&amp;\end{cases}
\]</span> 其中参数a,c确定三角形的“脚”, 而参数b确定三角形的“峰”</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">trimf(x,[a,b,c])</span><br></pre></td></tr></table></figure></li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306111831636.png" alt="三角形隶属函数">
<figcaption aria-hidden="true">三角形隶属函数</figcaption>
</figure></li>
<li><p><strong>梯形隶属函数</strong></p>
<p>梯形曲线可由四个参数a,b,c,d确定 <span class="math display">\[
f\left(x,a,b,c,d\right)=\begin{cases}0&amp;\quad x\leq
a\\\frac{x-a}{b-a}&amp;\quad a\leq x\leq b\\1&amp;\quad b\leq x\leq
c\\\frac{d-x}{d-c}&amp;\quad c\leq x\leq d\\0&amp;\quad x\geq
d&amp;\end{cases}
\]</span> 其中参数a,d确定梯形的脚，b和c确定梯形的肩膀</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">trapmf(x,[a,b,c,d])</span><br></pre></td></tr></table></figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306112153196.png" alt="梯形">
<figcaption aria-hidden="true">梯形</figcaption>
</figure></li>
<li><p><strong>S形隶属函数</strong></p>
<p>S形函数由参数a和c决定 <span class="math display">\[
f(x,a,c)=\frac{1}{1+e^{-a(x-c)}}
\]</span>
其中，参数a的正负符号决定了S形隶属函数的开口朝左还是右，用来表示“正大”或“负大”</p>
<p>这里的这个公式其实是个特殊形式，非通的~问题不大，有兴趣再看</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">sigmf（x，[a,c]</span><br></pre></td></tr></table></figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306131209210.png" alt="S形">
<figcaption aria-hidden="true">S形</figcaption>
</figure></li>
<li><p><strong>Z形隶属函数</strong></p>
<p>因形似Z而得名，参数a,b确定形状</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">zmf(x,[a,b])</span><br></pre></td></tr></table></figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306131457396.png" alt="Z形函数">
<figcaption aria-hidden="true">Z形函数</figcaption>
</figure></li>
<li><p>广义钟形隶属函数</p>
<p>广义钟形隶属函数由是三个参数a,b,c确定 <span class="math display">\[
f(x,a,b,c)=\frac{1}{1+\left|\frac{x-c}{a}\right|^{2b}}
\]</span> 其中参数a,b通常为正，参数c 用于确定曲线的中心</p>
<figure class="highlight matlab"><table><tr><td class="code"><pre><span class="line">gbellmf(x,[a,b,c])</span><br></pre></td></tr></table></figure>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306132407241.png" alt="广义钟形">
<figcaption aria-hidden="true">广义钟形</figcaption>
</figure></li>
</ul>
<h4 id="模糊推理">2.3 模糊推理</h4>
<h5 id="知识库">2.3.1 知识库</h5>
<p>​ 知识库是由数据库和规则库两部分构成</p>
<ul>
<li><strong>数据库：</strong>
<ul>
<li>数据库存放的是<strong>所有输入，输出变量的全部模糊子集的隶属度矢量值</strong>（即经过论域等级离散化以后对应值的集合）；</li>
<li>若论域为连续域则为<strong>隶属度函数</strong>，在规则推理的模糊关系方程求解过程中，向推理机提供数据。</li>
</ul></li>
<li><strong>规则库：</strong>
<ul>
<li>基于人的经验，是按人的直觉推理的一种语言表达形式</li>
<li>通常由一系列的关系词连接而成，比如if-then，else，also，end，or</li>
</ul></li>
</ul>
<h5 id="模糊规则">2.3.2 模糊规则</h5>
<p><strong>原理：</strong></p>
<ul>
<li><p>当 <strong>误差e很大</strong> 时：</p>
<ul>
<li><p>应<strong>增大Kp</strong>来快速减小误差。</p></li>
<li><p>为避免积分饱和，应<strong>减小Ki</strong>。</p></li>
</ul></li>
<li><p>当 <strong>误差变化率ec很大</strong> 时：</p>
<ul>
<li>表示误差变化迅速，为避免过冲和积分饱和，应<strong>减小Ki</strong>。</li>
<li>为快速响应误差变化，应适当<strong>增大Kp</strong>。</li>
</ul></li>
<li><p>当 <strong>误差e较小</strong> 时：</p>
<ul>
<li>Kp应减小或保持，以免系统产生振荡。</li>
<li>Ki可以适当增加，以提高稳态精度。</li>
</ul></li>
<li><p>当 <strong>误差变化率ec较小时</strong>：</p>
<ul>
<li>说明误差趋于稳定，Kp减小或保持，Ki适当增加，提高精度。</li>
</ul></li>
</ul>
<p>截取csdn上的两个规则表如下：</p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306142616077.png" alt="Kp的模糊控制规则表">
<figcaption aria-hidden="true">Kp的模糊控制规则表</figcaption>
</figure>
<blockquote>
<p>增大kp能减少稳态误差，而且可以加快上升时间，峰值时间——动态性能。但是kp过大会产生较大的超调量。甚至导致系统不稳定——&gt;等幅振荡——&gt;发散振荡。</p>
</blockquote>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306142651835.png" alt="Ki的模糊控制规则表">
<figcaption aria-hidden="true">Ki的模糊控制规则表</figcaption>
</figure>
<blockquote>
<p>积分调节规律主要用于消除静差，但是如果积分作用过大，引起积分饱和(一丢丢的误差会被放大），导致超调量增加，所以要选择好合适积分系数，得到合适的超调量和消除误差。
当然积分系数不大，会产生误差。</p>
</blockquote>
<blockquote>
<p>再补充一下这玩意应该长啥样，</p>
<blockquote>
<p>if E = NB or NM <strong>and</strong> EC = NB or NM then U = PB</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/05/kong-zhi-qi-mo-hu-pi/image-20250306144440256.png"></p>
</blockquote>
</blockquote>
<h5 id="模糊推理-1">2.3.3 模糊推理</h5>
<p><strong>实质：</strong>根据模糊规则表求取输出值U的隶属度。即根据模糊控制规则进行模糊推理，并决策出模糊输出量</p>
<ol type="1">
<li><p><strong>Mamdani推理</strong>（最常用）</p>
<ol type="1">
<li><p>计算每条规则前件的触发强度</p>
<blockquote>
<p>以规则为例：</p>
<blockquote>
<p>IF 温度 IS 高 AND 湿度 IS 中 THEN 风扇 IS 快</p>
</blockquote>
<p>设：</p>
<ul>
<li>温度为“高”的隶属度 = 0.7</li>
<li>湿度 IS 中的隶属度 = 0.5</li>
</ul>
<p>则该规则的匹配度（或激发强度）为两者取最小值： $$</p>
<p>$$</p>
</blockquote></li>
<li><p>根据触发强度对后件隶属函数进行裁剪（常用最小法或乘积法）</p>
<blockquote>
<p>使用前件匹配度对后件的模糊集合进行截取（取最小值）：</p>
<ul>
<li>假设规则1的后件：“风扇速度 IS 快”，最大隶属度为1</li>
<li>应用匹配度后：风扇 IS 快 的最大隶属度被截取为 0.7</li>
</ul>
<p>重复此步骤对所有规则进行推理</p>
</blockquote></li>
<li><p>合成规则</p>
<blockquote>
<p>将各规则裁剪后的隶属函数取最大值叠加（即“取大”操作） <span class="math display">\[
μ输出(x)=max⁡(μ规则1(x),μ规则2(x),… )\mu_{\text{输出}}(x) =
\max(\mu_{\text{规则1}}(x), \mu_{\text{规则2}}(x),
\dots)μ输出(x)=max(μ规则1(x),μ规则2(x),…)
\]</span> 此时得到一个<strong>合成后的模糊输出集合</strong>。</p>
<blockquote>
<p>规则1输出“强”截断为0.3，规则2输出“中”截断为0.5，最终聚合输出为两个截断区域的叠加。</p>
</blockquote>
</blockquote></li>
</ol></li>
<li><p><strong>Sugeno 推理法</strong>（更常用于数据驱动模型）</p></li>
</ol>
<h4 id="解模糊">2.4 解模糊</h4>
<p>​
模糊推理的输出是一个模糊集合，但实际控制信号需要具体的数值，因此要进行<strong>解模糊</strong>。</p>
<p>方法很多，简单列举俩，用到再学</p>
<ol type="1">
<li><p><strong>质心法</strong></p>
<p>质心法通过计算模糊输出集合的质心来确定控制值。 <span class="math display">\[
y_{defuzz}=\frac{\int_yy\cdot\mu_Y(y)dy}{\int_y\mu_Y(y)dy}
\]</span> 这里，<span class="math display">\[y_{defuzz}\]</span>是最终的控制值，<span class="math display">\[\mu_{Y}(y)\]</span>是模糊输出集合的隶属度函数。</p></li>
<li><p><strong>最大隶属度法</strong></p>
<p>最大隶属度法选择模糊输出集合中隶属度最大的值作为最终的控制值： <span class="math display">\[
y_{defuzz}=\arg\max_y\mu_Y(y)
\]</span></p></li>
</ol>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>控制器</tag>
      </tags>
  </entry>
  <entry>
    <title>【控制器】---滑模控制</title>
    <url>/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/</url>
    <content><![CDATA[<h2 id="控制器---滑模控制">【控制器】---滑模控制</h2>
<h4 id="原理">原理</h4>
<p><strong>特点：</strong>
滑模控制本质上是<strong>非线性控制</strong>的一种，简单的说，它的非线性表现为控制的不连续性，即<strong>系统的“结构”不固定</strong>，可以在动态过程中根据系统当前的状态有目的地不断变化，迫使系统按照预定“滑动模态”的状态轨迹运动。</p>
<p>​
滑模控制的<strong>核心思想</strong>是建立一个<strong>滑模面</strong>，将被控系统<strong>拉取到滑模面上</strong>来，使系统沿着滑模面运动。一旦系统状态达到该滑模面，它们将保持在滑模面附近运动。</p>
<p>​
这里只需要将系统视为在滑动曲面上滑动。不过实际系统的实现是用<strong>高频切换</strong>来让系统近似在滑动曲面上滑动，高频切换的控制信号让系统在很邻近滑动曲面的范围内切跳，<strong>这种信号高频切换所导致输出信号会出现振荡</strong>，系统状态在所选取的滑模面附近来回颤动，这种颤动是无法消除的</p>
<p>滑模控制分为两个阶段：趋近阶段和滑动阶段</p>
<ul>
<li><strong>趋近阶段：</strong>系统状态从任意初始状态趋近滑模面（从状态空间的任意位置有限时间到达滑模面s=0)</li>
<li><strong>滑动阶段：</strong>一旦系统状态达到滑模面，它们将在滑模面上运动，对外部扰动和不确定性不敏感。(在滑模面上可以收敛到原点（平衡点)）</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731151630068.png"></p>
<p>​
系统状态在处于滑模面等于0（或附近）系统是稳定的，所以设计的目标就是如何使s趋近于0，从而系统稳定，比如令s的导数&lt;0.当s&gt;0时，s<sup>.</sup>&lt;0,反正s&lt;0,s<sup>.</sup>&gt;0，这样s最终趋近于0</p>
<h4 id="优缺点">优缺点</h4>
<p><strong>优点：</strong></p>
<ul>
<li>克服系统的不确定性</li>
<li>对干扰和未建模动态具有很强的鲁棒性（不灵敏），尤其是对非线性系统的控制具有良好的控制效果</li>
<li>调节的参数少，响应速度快</li>
</ul>
<p><strong>缺点：</strong></p>
<ul>
<li><p>硬件无法适应高频的信号切换</p></li>
<li><p>当状态轨迹到达滑动模态面后，难以严格沿着滑动模态面向平衡点滑动，而是在两侧两会穿越地趋近平衡点，从而产生抖振</p></li>
</ul>
<h4 id="构建滑模面">构建滑模面</h4>
<p>​ 滑模面<em>S(x)</em>通常被设计为状态变量的线性组合： <span class="math display">\[
S(x)=Cx
\]</span> 其中 C
是设计矩阵。对于跟踪控制问题，可以定义滑模面位误差状态的函数： <span class="math display">\[
S(x)=e(t)=x(t)-x_d(t)
\]</span> 目标是使得 <span class="math display">\[
\text{}e(t)\to0
\]</span> 即系统状态x(t)跟踪期望状态x<sub>d</sub>（t）。</p>
<p>以一个三阶系统为例： <span class="math display">\[
\left.\left\{\begin{array}{ll}\dot{\mathrm{x}}_1&amp;=\mathrm{x}_2\\\dot{\mathrm{x}}_2&amp;=\mathrm{x}_3\\\dot{\mathrm{x}}_3&amp;=\mathrm{f}(\mathrm{x})+\mathrm{g}(\mathrm{x})\mathrm{u}\end{array}\right.\right.
\]</span>
其中g(x)是u前面的系数公式，大多情况下是常数表达式，也存在一些g(x)
为x的函数的情况。下文中把f(x)和g(x)略写为f和g。</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731143721171.png"></p>
<p>立即设计<strong>滑模面</strong>，这玩意s也叫滑模切换函数 <span class="math display">\[
\mathrm{s=c_1 e_1 + c_2 e_2 + e_3 = \sum_{i=1}^3 c_i e_i = 0}
\]</span> 其中e<sub>3</sub>前系数为1.</p>
<p>找到s和u的关系，对s求导，<strong>滑模面s的导数：</strong> <span class="math display">\[
\begin{aligned}
\dot{s}&amp; =\mathrm{c}_1 \dot{\mathrm{e}}_1 +\mathrm{c}_2
\dot{\mathrm{e}}_2 + \dot{\mathrm{e}}_3 \\
&amp;\mathrm{=c_1 e_2 + c_2 e_3 + \dot{x}_3 - x_{1d}^{(3)}} \\
&amp;\mathrm{=c_1~e_2~+c_2~e_3~+f~+gu-x_{1d}^{(3)}} \\
&amp;=\Gamma+\mathrm{f}+\mathrm{gu}-\mathrm{x}_{1\mathrm{d}}^{(3)}
\end{aligned}
\]</span> 并设计<strong>李雅普诺夫函数</strong> <span class="math display">\[
\mathrm{V} = \frac{1}{2} \mathrm{s}^2
\]</span> 并对其求导 <span class="math display">\[
\begin{aligned}
\dot{\text{V}} &amp;= s \dot{s} \\
&amp;= \dot{s} \left( \Gamma + \text{f} + \text{gu} -
\text{x}_{1\text{d}}^{(3)} \right)
\end{aligned}
\]</span>
考虑到<strong>控制量u是需要进行设计的</strong>，先在上式中将u单独列出来
<span class="math display">\[
\begin{aligned}
\dot{V}&amp;
=\mathrm{s}\left(\Gamma+\mathrm{f}+\mathrm{g}\mathrm{u}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right)
\\
&amp;=\mathrm{s}\left(\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right)+\mathrm{sgu}
\\
&amp;=\text{s}\left[\left(\Gamma+\text{f}-\text{x}_{1\text{d}}^{(3)}\right)+\text{gu}\right]
\\
&amp;=\mathrm{sg}\left(\frac{\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}}{\mathrm{g}}
+\mathrm{u}\right)
\end{aligned}
\]</span> 该式右侧第一项与控制量u无关，第二项只含u本身</p>
<p>设计u具有以下形式（控制率） <span class="math display">\[
\mathrm u=-\mathrm k\cdot\mathrm s\mathrm g\mathrm n(\mathrm s)
\]</span> 代入上式可得： <span class="math display">\[
\begin{aligned}
\dot{V}&amp;
=\mathrm{sg}\left(\frac{\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}}{\mathrm{g}}
+\mathrm{u}\right) \\
&amp;=\mathrm{sg}\left(\frac{\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}}{\mathrm{g}}
-\mathrm{k}\cdot\mathrm{sgn}(\mathrm{s})\right) \\
&amp;=\mathrm{s}\left(\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right)-\mathrm{kg}|\mathrm{s}|
\end{aligned}
\]</span> 到此，右侧第二项已经满足≤0了，现在只要看第一项即可</p>
<p>对于第一项有： <span class="math display">\[
\mathrm{s}\left(\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right)\leq\left|\mathrm{s}\right|\left|\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right|
\]</span> 因此 <span class="math display">\[
\begin{aligned}
\text{V}&amp;
=\mathrm{s}\left(\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\right)-\mathrm{kg}|\mathrm{s}|\leq|\mathrm{s}|\bigg|
\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\bigg|
-\mathrm{kg}|\mathrm{s}| \\
&amp;=|\mathrm{s}|\left(\left|\begin{array}{c}\Gamma+\mathrm{f}-\mathrm{x}_{1\mathrm{d}}^{(3)}\end{array}\right|-\mathrm{kg}\right)
\end{aligned}
\]</span> 所以只要右侧括号内≤0，就有V的导数≤0，从而达到稳定</p>
<h4 id="滑模控制器设计">滑模控制器设计</h4>
<p>对于滑模变结构控制器的设计如下：</p>
<p>u=u<sub>eq</sub>+u<sub>sw</sub></p>
<p>u<sub>eq</sub>是等效控制，能够实现系统状态的跟踪，即将系统的状态一直保持在滑模面上；</p>
<p>u<sub>sw</sub>是切换控制，使系统状态趋近于滑模面，削弱系统的抖振，常用的趋近率有三种：（一般用第二种指数趋近律）</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731152801822.png"></p>
<p>​
还记得前面提到的两个运动过程嘛。在第一段运动过程也就是趋近运动中，所谓驱动运动是指s趋向于0的过程，在这个过程中趋近律一般有如下几种设计</p>
<p>本节将采用指数趋近律,</p>
<p>等效控制部分，对s=c1<em>e1+c2</em>e2+e3求导得</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731153256364.png"></p>
<p>根据s'=0可得到等效控制：</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731153308528.png"></p>
<p>假如eta过小，那么趋近的速度很慢，调节的过程太慢；相反，若eta太大，那么系统到达切换面的时候，具有比较大的速度，引起较大的抖动。对于
k，能够加快调节时间，能够快速到达滑模面的过程，还可以削弱抖振，改善系统的品质。本文中，指数趋近律的参数
k 为 20， eta为 5。所以切换控制为： <span class="math display">\[
\mathbf{u}_{sw}\text{=-}\boldsymbol{\varepsilon}\operatorname{sgn(s)-ks}
\]</span> 综上所述，滑模变结构的控制器设计为 <span class="math display">\[
\begin{aligned}\text{u}&amp;=u_{eq}+u_{sw}\\&amp;=\frac{1}{K_{h}\omega_{h}^{2}}\begin{bmatrix}(c_{1}-\omega_{h}^{2})e_{2}+(c_{2}-2\xi_{h}\omega_{h})e_{3}\\+\varepsilon\operatorname{sgn}(\mathrm{s})+\mathrm{ks}\end{bmatrix}\end{aligned}
\]</span></p>
<h5 id="补充为什么控制率这么设计能保证s0">补充：为什么控制率这么设计能保证s=0</h5>
<p>在控制原理中，用Lyapunov函数来判断系统的稳定性，对于系统状态方程s˙=cx<sub>2</sub>+u（目标已经变成s=0，因此现在写成s的状态方程），对于平衡点s，如果存在一个连续函数V满足</p>
<p><img src="/medias/loading.gif" data-original="/2024/07/31/kong-zhi-qi-hua-mo-kong-zhi/image-20240731153854650.png"></p>
<p>那么系统将在平衡点s=0处稳定，即<span class="math inline">\(\operatorname*{lim}_{t\to\infty}s=0\)</span>
令<span class="math inline">\(V(s,t)=1/2s^{2}\)</span>)，很明显满足第一个条件，第二个条件<span class="math inline">\(\dot{V}=s\dot{s}=-s\varepsilon
\mathrm{sgn}(s)=-\varepsilon\left|s\right|&lt;0\)</span>也满足。满足Lyapunov函数的条件，s最终会稳定滑模面，也就是s=0。</p>
<p>讲到这里，我们可以稍微总结一下滑模控制的设计步骤。首先根据被控对象的状态方程<strong>设计滑模面</strong>，状态一旦到达滑模面，将以指数趋近方式达到稳定状态。然后<strong>设计趋近律求出控制器的表达</strong>，李雅普诺夫函数作为稳定性的保证，即<strong>保证s=0可达</strong>，（相平面中的其他点能到达滑模面）。</p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>控制器</tag>
      </tags>
  </entry>
  <entry>
    <title>【控制器】---自抗扰控制器</title>
    <url>/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/</url>
    <content><![CDATA[<h2 id="控制器---自抗扰控制器">【控制器】---自抗扰控制器</h2>
<p>自抗扰控制器的设计分为三部分：</p>
<ul>
<li><strong>安排过渡过程：</strong>就是用跟踪微分器（TD）合理提取微分</li>
<li><strong>估计状态和总扰动：</strong>用状态扩张观测器（ESO）估计状态和总扰动</li>
<li><strong>计算控制量：</strong>不局限于比例、微分和积分的线性组合</li>
</ul>
<h4 id="原理">原理</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801093421261.png" alt="ADRC总体控制框图">
<figcaption aria-hidden="true">ADRC总体控制框图</figcaption>
</figure>
<p><strong>工作过程：</strong>输入期待电压v，经过TD，对V进行平滑处理，V<sub>2</sub>是对V的求导，然后同时对给定信号与给定信号的微分做了一个误差，然后再送到nlsef里面，这玩意是非线性状态误差反馈，也就是常说的补偿器环节。下面这个是状态扩张观测器（ESO)，这玩意是核心环节，它的作用是可以估计出实际的控制对象和我们状态观测器内部标称控制对象的误差值，这个误差值叫做Z<sub>3</sub>这样的话就可以把这个部分给他化简成我们的控制标准型，这里选择的是积分器串联型。</p>
<p>​
它在外界扰动/自身扰动发生前补偿该扰动，并将系统变为简单的双积分器进行控制</p>
<p><strong>ADRC是PID的改进版</strong>，韩先生认为<strong>PID的缺点</strong>为：</p>
<ul>
<li>误差的取法不合理
<ul>
<li>PID的误差是以e=v-y的方式产生的，但是这里的控制目标v在过程中是可以跳变的，而对象输出y的变化是有惯性的，不可能发生跳变（也就是输入信号阶跃，但是输出电压还是有过程的变化，而不是突变）所以要求让缓变的变量y来跟踪能够跳变的变量v本身就不合理会产生<strong>’‘快速性’‘</strong>和<strong>’‘超调’‘</strong>之间的矛盾</li>
</ul></li>
<li>由误差提取其微分的办法不合理；常用<span class="math inline">\(y=\frac{v(t)-v(t-\tau)}{\tau}\)</span>实现，但是当输入信号v（t）被噪声n（t）污染时，$y=<span class="math inline">\(，输出y中的近似微分信号\)</span><span class="math inline">\(会被放大的噪声分量\)</span>$所淹没，无法利用</li>
<li>线性加权的策略不一定最好</li>
<li>积分反馈有许多副作用；会使得闭环变得迟钝，容易产生振荡，积分饱和引起的控制量饱和</li>
</ul>
<p>为此提出了以下<strong>解决办法</strong>：</p>
<ul>
<li>安排合适的过渡过程</li>
<li>合理提取"微分"--“跟踪微分器”（TD）</li>
<li>探讨合适的组合方法--“非线性状态误差反馈"（NLSEF）</li>
<li>探讨“扰动估计”办法--“扩张状态观测器”（ESO）</li>
</ul>
<p>假定模型控制的是电机速度，则其具体含义如下图：</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801100009241.png"></p>
<p>​ 上下两图结合，我们就能明白 ADRC
控制系统的<strong>工作流程</strong>，首先给定目标速度，由 TD
得到实际模型跟踪的速度和加速度，扩张状态观测器根据电机的控制输入和实际输出得到观测的速度，加速度和扰动，与跟踪速度和加速度做差得到误差，由非线性状态误差反馈系统将误差进行非线性组合，减去扰动即为实际的控制输入。</p>
<h4 id="跟踪微分器td">跟踪微分器（TD）</h4>
<p>​ 跟踪微分器-Tracking
differentiator：分为线性和非线性两种，本质上是一种<strong>低通滤波器</strong>，作用是平滑指令以及减少闭环传递函数的超调（将闭环传递函数的峰值压低到0dB以下）。</p>
<p><strong>目的：</strong>解决由不连续或带随机噪声的量测信号，合理提取连续信号（跟踪给定）及微分信号的问题</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801101735736.png"></p>
<p><strong>输入</strong></p>
<ul>
<li><strong>期望信号（设定值）</strong>：比如我们的期望输出电压</li>
</ul>
<p><strong>输出</strong></p>
<ul>
<li><strong>平滑的期望轨迹</strong>：TD生成的平滑轨迹，使得系统能够跟踪期望信号而不会出现突变</li>
<li><strong>期望轨迹的导数：</strong>期望电压的变化率</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801111245527.png"></p>
<p>通过TD，依据微分输出与最速综合函数，可以来安排过渡过程</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801111538792.png"></p>
<p><strong>特点：</strong></p>
<ul>
<li>使<strong>误差反馈增益和误差微分增益</strong>选取范围扩大</li>
<li>使<strong>给定的反馈增益所适应的对象参数</strong>范围扩大</li>
</ul>
<p><strong>数学表达形式</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801145352420.png"></p>
<p>​ r：
跟踪速度因子；它与跟踪速度正相关，但是过大会放大噪声，因此引入滤波因子h
对噪声进行抑制，h越大滤波效果越强</p>
<h4 id="扩张状态观测器eso"><strong>扩张状态观测器（ESO)</strong></h4>
<p><strong>状态观测器</strong></p>
<p>​
根据测量到的系统输入（控制量）和系统输出（部分状态变量或状态变量的函数）来确定系统所有内部状态信息的装置就是状态观测器</p>
<p>​
ADRC是一种单输入单输出的控制，因此只能适用于<strong>非耦合</strong>的情况，（非耦合可以理解为独立性，互不影响）</p>
<p>​
如何理解ESO哩，对控制过程中真实存在的扰动进行补偿，达到抗干扰，鲁棒性好，对模型依赖性降低的效果，所谓扩张，则是将扰动项视为新的状态变量，所以是对状态向量的一种扩张</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801154106911.png" alt="二阶系统ESO结构图">
<figcaption aria-hidden="true">二阶系统ESO结构图</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801154140878.png" alt="n阶系统的ESO">
<figcaption aria-hidden="true">n阶系统的ESO</figcaption>
</figure>
<p>对于以下二阶系统： <span class="math display">\[
\begin{aligned}&amp;x_{1}^{\prime}=x_{2}\\&amp;x_{2}^{\prime}=f(x_1,x_2)+bu\\&amp;y=x_1\end{aligned}
\]</span> 我们将耦合项<span class="math inline">\(f(x_1,x_2)\)</span>看作扰动，将其扩张为新的状态变量<span class="math inline">\(x_3\)</span>故有如下式子： <span class="math display">\[
\begin{aligned}
&amp;x_1^{\prime} =x_{2} \\
&amp;\text{.} x_{2}^{\prime}=x_{3}+bu \\
&amp;x_3^{\prime}=w(t) \\
&amp;y=x_{1}
\end{aligned}
\]</span> 对于这样的系统，ESO的形式如下： <span class="math display">\[
\begin{aligned}
&amp;e_1=z_1(k)-y(k) \\
&amp;z_1(k+1)=z_1(k)+h(z_2(k)-\beta_1e_1) \\
&amp;z_2(k+1)=z_2(k)+h(z_3(k)-\beta_2fal(e_1,\alpha_1,\delta)) \\
&amp;z_3(k+1)=z_3(k)-h\beta_3fal(e_1,\alpha_2,\delta)
\end{aligned}
\]</span> 另一文中写到： <span class="math display">\[
\begin{aligned}&amp;e=z_1-y,fe=fal(e,0.5,\delta),fel=fal(e,0.25,\delta)\\&amp;z_1=z_1+h\left(z_2-\beta_{01}e\right)\\&amp;z_2=z_2+h\left(z_3-\beta_{02}fe+bu\right)\\&amp;z_3=z_3+h\left(-\beta_{03}fe1\right)\end{aligned}
\]</span> ​ 参数<span class="math inline">\(\beta_{01},\beta_{02},\beta_{03}\)</span>是由系统所用采样步长来决定的不管什么样的对象，采样步长一样，都可以用相同的<span class="math inline">\(\beta_{01},\beta_{02},\beta_{03}\)</span></p>
<p>对于<strong>ESO的参数整定</strong>方法，有一些经验公式： <span class="math display">\[
\beta_{01}=\frac1h,\beta_{02}=\frac1{3h^2},\beta_{03}=\frac2{8^2h^3},\beta_{04}=\frac5{13^3h^4},\cdots
\]</span></p>
<h4 id="非线性反馈控制器">非线性反馈控制器</h4>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801155609966.png"></p>
所以这里其实是又回到PID控制了，只不过e<sub>1,2,3</sub>发生了变化，过渡过程产生的误差信号<span class="math inline">\(e_1=v_1-z_1\)</span>；误差微分信号：<span class="math inline">\(e_2=v_2-z_2\)</span>
，及根据误差信号生成的积分信号：$<em>0=<em>0^te_1()d<span class="math inline">\(；只不过这里结合的时候不是采用的线性组合，通常采用的非线性组合有如下两种形式：\)</span>$
u</em>{0}=</em>{0}fal(e_{0},<em>{0},)+</em>{1}fal(e_{1},<em>{1},)+</em>{2}fal(e_{2},<em>{2},),</em>{0}&lt;0&lt;<em>{1}&lt;1&lt;</em>{2}\u_{0}=k_{0}e_{0}-fhan(e_{1},ce_{2},r,h)
<span class="math display">\[
其中
\]</span> fal(e,,)=
<span class="math display">\[\begin{cases}|e|^\alpha\operatorname{sign}(e),|e|&gt;\delta\\\frac{e}{\delta1-\alpha}&amp;,|e|\leq\delta\end{cases}\]</span>
\
<span class="math display">\[\begin{cases}d=rh^2\\a_0=hx_2\\y=x_1+a_0\\a_1=\sqrt{d(d+8|y|)}\\a_2=a_0+\operatorname{sign}(y)\left(a_1-d\right)/2\\fsg(y,d)=(\operatorname{sign}(y+d)-\operatorname{sign}(y-d))/2\\a=(a_0+y-a_2)fsg(y,d)+a_2\\fsg(a,d)=(\operatorname{sign}(a+d)-\operatorname{sign}(a-d))/2\\\mathrm{~fhan~}=-r\left(\frac
ad-\operatorname{sign}(a)\right)f\operatorname{sg}(a,d)-r\operatorname{sign}(a)&amp;\end{cases}\]</span>
<p><span class="math display">\[
由于ADRC具有扰动估计能力及较强的抗干扰性，所以无需依赖积分补偿来消除扰动的影响。故积分项可不添加
\]</span>
u_0=_1fal(e_1,_1,)+_2fal(e_2,_2,),_0&lt;0&lt;_1&lt;1&lt;_2\u_0=-fhan(e_1,ce_2,r,h)
<span class="math display">\[
将ESO估计的扰动$z_3$补偿到控制器的输出$u_0$上，b是控制器的增益，可得到以下两种形式：
\]</span> u=u_0-b\u=b $$
最终跟踪微分器（TD），扩张状态观测器（ESO），非线性反馈控制器组成了ADRC算法：</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801161309839.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/01/kong-zhi-qi-zi-kang-rao-kong-zhi/image-20240801163452762.png"></p>
<h4 id="adrc的一些问题与局限性">ADRC的一些问题与局限性</h4>
<h5 id="td的局限性">TD的局限性</h5>
<p><strong>线性TD</strong>的本质其实就是一个阻尼比为1的标准二阶系统，并且没有任何零点。对于一个标准的二阶系统，将其写成状态空间的形式，其中的两个状态就分别对应为滤波后的输入以及滤波后输入的微分</p>
<p><strong>TD减小超调的原因</strong></p>
<p>​ 闭环系统超调的本质原因，其实可以总结为以下两点：</p>
<ul>
<li>系统相位裕度不足，即开环系统在截止频率（开环增益0dB）处的相位滞后太多，导致系统阻尼太小，从而引起超调</li>
<li>尽管系统具有足够的相位裕度，但是某些高频模态引起的振荡也会造成超调</li>
</ul>
<p><strong>TD的局限性1：减小超调</strong></p>
<p>​
因为采用了二阶系统，并且没有零点，必然导致有较大的相位滞后，从而会降低响应速度。</p>
<p><strong>TD的局限:2：作为滤波器（微分器）</strong></p>
<p>​ TD作为滤波器的一大缺陷就是难以接受的相位滞后。</p>
<h5 id="eso的局限">ESO的局限</h5>
<p>​
太多字了，不想看了https://zhuanlan.zhihu.com/p/156228260?utm_id=0</p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>控制器</tag>
      </tags>
  </entry>
  <entry>
    <title>【控制器】---自适应控制</title>
    <url>/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/</url>
    <content><![CDATA[<h2 id="控制器---自适应控制">【控制器】---自适应控制</h2>
<h4 id="什么是自适应控制">什么是自适应控制</h4>
<p>​
自适应控制（APC）是一种带有在线参数识别的控制方法，自适应控制可以看做是一个
<strong>能根据环境变化</strong> <strong>智能调节自身特性</strong>
的<strong>反馈控制系统</strong>。</p>
<p>​
自适应控制的研究对象是具有不确定性的系统。能<strong>修正自己的特性</strong>以适应对象和扰动的动态特性的变化；<strong>不确定系统</strong>：数学模型不完全确定的系统，阶次确定参数1不确定，或者阶次参数都不确定，这种不确定性有时表现在内部，有时表现在外部</p>
<ul>
<li>内部不确定：结构或参数不能确切知道，如散热系统，化学反应速度</li>
<li>外部不确定：工序改变，环境改变，静摩擦，随机干扰</li>
</ul>
<p><strong>自适应控制要解决的问题</strong></p>
<p>​
面对的这些客观的各式各样的不确定性，<strong>如何综合出适当的控制规律，使得某一性能指标达到最优和次最优</strong>，</p>
<p><strong>核心思想</strong></p>
<p>​
通过在线估计系统不确定参数并及时调整控制系数来实现系统的稳定控制，简而言之，<strong>自适应控制是一种带有在线参数识别的控制方法。</strong></p>
<p><strong>核心概念</strong></p>
<ul>
<li><strong>系统不确定性：</strong>在实际应用中，系统的参数通常是不确定的，APC的目标就是在面对这种不确定的情况下实现系统的稳定控制</li>
<li><strong>在线估计：</strong>通过在线估计不确定参数的值来实现系统控制。这种估计方法通常是基于观测值和系统模型的预测，并使用某种优化方法来更新估计值</li>
<li><strong>控制系数调整：</strong>控制系数通常是根据不确定参数的估计值来调整的。这种调整方法通常是基于某种优化目标，例如最小化控制误差或最小化控制能量</li>
<li><strong>稳定性验证：</strong>通过验证系统在不同参数情况下的稳定性来确保系统的稳定控制。这种验证方法通常是基于某种稳定性分析方法，例如R-H准则（劳斯-赫尔维茨稳定性判据）或Bode图分析</li>
</ul>
<p><strong>分类</strong></p>
<p>​
主要可以分为模型参考自适应控制（MRAC）、自校正控制器（STC）、参数自适应控制（PAC）、智能自适应控制系统（专家控制、模糊控制、神经网络控制、遗传算法等）</p>
<h4 id="自校正控制器stc">自校正控制器（STC）</h4>
<p>在线参数估计---&gt;控制器改变</p>
<p>​
外环为一个控制器参数估计器，控制根据历史数据估计未知参数然后再设计控制器的为<strong>间接校正控制系统</strong>；直接根据历史数据估计控制器参数的为<strong>直接自校正控制系统</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802093750769.png" alt="自校正控制系统">
<figcaption aria-hidden="true">自校正控制系统</figcaption>
</figure>
<p>可调节器接收：测量输出、设定输入以及自适应机构提供的参数估计</p>
<p>自适应机构（参数调节器）接收：测量输出、设定输入以及控制量进行参数估计</p>
<p>可以将STC看做是参数估计器+控制器</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802094025045.png" alt="STC结构框图">
<figcaption aria-hidden="true">STC结构框图</figcaption>
</figure>
<p>常见的参数估计器可利用如下方法构成：递推最小二乘法（RLS）、快速仿射投影算法（FAP）、最小均方误差（MSE）、卡尔曼滤波（KF）、扩展卡尔曼滤波（EKF）。</p>
<p>构成STC的常见控制器：比例积分微分控制器（PID）、滑模控制（SMC）、模糊控制、神经网络、遗传算法、预测控制（PC）、二次型最优控制（LQR）、时间延迟控制（TDC）、基于不确定扰动估计器（UDE）的控制器。</p>
<p><strong>间接自校正控制</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802094457175.png" alt="间接自校正控制">
<figcaption aria-hidden="true">间接自校正控制</figcaption>
</figure>
<p>​ ”参数估计器“先辨识被控对象（过程）参数</p>
<p><strong>直接自校正控制</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802094601724.png" alt="直接自校正控制">
<figcaption aria-hidden="true">直接自校正控制</figcaption>
</figure>
<p>​ “控制器参数计算器”直接可以估计可调控制器参数</p>
<p>​ 参数估计方法：最小二乘法，随机逼近法，极大似然法</p>
<p>​ 控制策略：极点配置、PID、最小方差</p>
<h4 id="模型参考自适应控制mrac">模型参考自适应控制MRAC</h4>
<p>自适应率---&gt;控制器改变</p>
<p>​
在该控制框架中，可以人为构造一个所谓的“参考模型”，用以表征希望的闭环系统控制性能。而模型参考自适应控制则是希望求得一种动态调整的反馈控制律，使得系统的闭环控制性能与参考模型的性能可以保持一致。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802101807647.png" alt="模型参考自适应控制">
<figcaption aria-hidden="true">模型参考自适应控制</figcaption>
</figure>
<p><strong>自适应机构的作用</strong>：调节控制器的参数使误差e减小直至为零时停止调节</p>
<p><strong>自适应机构设计方法：</strong>基于稳定性理论的方法和局部参数最优化方法</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802102225930.png" alt="模型参考自适应控制">
<figcaption aria-hidden="true">模型参考自适应控制</figcaption>
</figure>
<p>系统由参考模型、可调系统、自适应机构三部分构成。</p>
<ul>
<li>可调系统包括被控对象、前置控制器和反馈控制器。</li>
<li>参考模型实际上是一种理想控制系统，其输出代表了期望的性能。</li>
<li>当参考模型与实际被控对象的输出有差异时，经比较器检测后，通过自适应机构做出决策，改变调节器（包括前置和反馈控制器）参数或生成辅助输入，以消除误差，使过程输出和参考模型输出一致。</li>
</ul>
<p><strong>分类</strong>：直接模型参考自适应控制(直接估计控制器参数)、间接模型参考自适应控制(先估计模型参数，后调整控制器参数)</p>
<h5 id="关于模型参考自适应控制系统的假定">关于模型参考自适应控制系统的假定</h5>
<ul>
<li>参考模型是时不变系统</li>
<li>参考模型和可调模型是线性的，有时为了分析方便，还假设它们的阶次相同；</li>
<li>广义误差可测</li>
<li>在自适应控制过程中，可调参数或辅助信号仅依赖于自适应机构</li>
</ul>
<h5 id="基于局部参数最优化的设计方法mit方案">基于局部参数最优化的设计方法（MIT方案）</h5>
<p>​
局部参数最优化方法的<strong>设计思想：</strong>系统包含若干可调参数，当被控对象的特性受外界干扰而变化时，自适应机构对这些可调参数进行调整，以补偿外界环境或其他干扰对系统性能的影响，从而逐步使得参考模型和控制对象之间的广义误差所构成的性能指标达到或接近最小值。</p>
<p>​
因此它的设计原理就是构造一个<strong>由广义误差和可调参数组成的目标函数</strong>，并把它视为可调参数空间的一个超曲面，利用参数最优化方法使这个目标函数逐渐减小，直至目标函数达到最小火位于最小值的某个领域为止</p>
<p><strong>MIT法则特点</strong></p>
<ul>
<li>使用的是输出偏差e，而不是状态偏差，所以自适应率所需要的信号都是容易获取的</li>
<li>设计过程并未考虑稳定性问题，在得到自适应率后需要进行稳定性校验，以保证误差e在闭环回路中能收敛于某一容许值</li>
<li>对于一阶系统，按照MIT法则设计的闭环自适应系统总是稳定的，跟踪速度或者自适应速度是按照指数规律进行的，理论上仅当时间趋于无穷时误差才为0，所以实际中并不要求e完全为0，当$|e|$时，认为系统就跟踪上参考模型了，在此意义上，自适应调节时间是有限的</li>
</ul>
<h5 id="直接mrac">直接MRAC</h5>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802105928352.png" alt="直接MRAC控制器结构">
<figcaption aria-hidden="true">直接MRAC控制器结构</figcaption>
</figure>
<p><strong>间接MRAC</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/02/kong-zhi-qi-zi-gua-ying-kong-zhi/image-20240802141301743.png" alt="间接MRAC">
<figcaption aria-hidden="true">间接MRAC</figcaption>
</figure>
<p><strong>参考模型的设计</strong></p>
<p>假设被控对象的状态方程和输出方程如下所示： <span class="math display">\[
\begin{aligned}&amp;\dot{x}(t)=Ax(t)+Bu(t)\\&amp;y(t)=x(t)\end{aligned}
\]</span> 那么参考模型的状态方程和输出方程可构造为如下所示： <span class="math display">\[
\begin{aligned}&amp;\dot{x}_m(t)=A_mx_m(t)+B_mc(t)\\&amp;y_m(t)=x_m(t)\end{aligned}
\]</span> <strong>自适应律的设计（重头戏）</strong></p>
<p>​ 控制器<span class="math inline">\(u(t)\)</span>方程可以表示为：<span class="math inline">\(u(t)=ac(t)+bx(t)\)</span>，然而参数<span class="math inline">\(a、b\)</span>未知</p>
<p>​ 由于控制器<span class="math inline">\(u(t)\)</span>中的参数啊，b未知，便有了自适应率的出现。自适应率的设计目的就是为了在线辨识出控制器中的两个未知参数。自适应率的设计一般可以分为两种方法，梯度法和稳定性理论分析法。</p>
<p><strong>方法1： 梯度法（MIT rule)</strong></p>
<p>​ 假设 MRAC控制器中含有一个未知可调节的参数<span class="math inline">\({\boldsymbol{\theta}}\)</span>,定义参考模型和被控对象的状态变量偏差如下：<span class="math inline">\(e=x_m-x\)</span>，目标是通过调节参数<span class="math inline">\({\boldsymbol{\theta}}\)</span>来令偏差<span class="math inline">\(e\)</span>最小，即<span class="math inline">\(e\to0\)</span>。</p>
<p>这里引入一个损失函数：<span class="math inline">\(J=\frac12e^2\)</span></p>
<p>如果令<span class="math inline">\(e\to 0\)</span>，则<span class="math inline">\(J\to 0\)</span>。也就是需要求得<span class="math inline">\(J\)</span>的最小值</p>
<p>于是采用<strong>梯度下降算法</strong>即**沿着<span class="math inline">\(J\)</span>的负梯度方向变化参数<span class="math inline">\({\boldsymbol{\theta}}\)</span>，（由于梯度的正方向是损失函数<span class="math inline">\(J\)</span>上升最快的方向，我们要最小化<span class="math inline">\(J\)</span>,即让参数沿着梯度相反的方向前进一个步长，因此参数<span class="math inline">\({\boldsymbol{\theta}}\)</span>变化的反方向与<span class="math inline">\(J\)</span>的负梯度方向一致，可以获得<span class="math inline">\(J\)</span>的极小值）即： <span class="math display">\[
\Delta\theta=-\kappa\frac{\partial J}{\partial\theta}=-\kappa
e\frac{\partial e}{\partial\theta}\\\dot{\theta}=-\gamma\frac{\partial
J}{\partial\theta}=-\gamma e\frac{\partial e}{\partial\theta}
\]</span> 其中，$<span class="math inline">\(为两个步长的差值，\)</span>k<span class="math inline">\(为学习步长，\)</span>$为调整速率。上式中第二行也可被单独成为MIT
rule</p>
<p><strong>方法2：稳定性理论分析法（李雅普诺夫第二法，波波夫超稳定性法）</strong></p>
]]></content>
      <categories>
        <category>控制系统</category>
      </categories>
      <tags>
        <tag>控制器</tag>
      </tags>
  </entry>
  <entry>
    <title>数据分析--01. 描述性分析</title>
    <url>/2024/09/11/shu-xue-jian-mo-shu-ju-fen-xi-01.miao-shu-xing-fen-xi/</url>
    <content><![CDATA[<h2 id="数据分析--01.-描述性分析">数据分析--01. 描述性分析</h2>
<h3 id="频数分析">频数分析</h3>
<p>​ 分类为a,b,c,d,,看每个类别出现的频次</p>
<h3 id="列联交叉分析">列联（交叉）分析</h3>
<p>​ 用于描述两个或多个分类变量之间的关系，</p>
<p>例如在市场调研中，用于分析不同消费者群体对产品偏好的差异；在医学研究中，用于探索不同治疗方法在不同人群中的效果；在社会科学研究中，用于分析社会群体中不同特征的分布和关联。</p>
<h3 id="描述性统计">描述性统计</h3>
<p>​ 比如找一群数据的，最大，最小，平均，方差等等</p>
<h3 id="分类汇总">分类汇总</h3>
<p>​
在分类完成的基础上对各类别相关数据分别进行求和、求平均数、求个数、求最大值、求最小值等方法的汇总。</p>
<h3 id="正态性分析">正态性分析</h3>
<p>​
一种对称的概率分布，其特点是均值、中位数和众数相等，而且数据围绕均值对称分布，形成一个钟形曲线。</p>
<p>​ 许多经典的推断统计方法，如 t
检验、ANOVA（方差分析）、线性回归等，都基于数据服从正态分布的假设。</p>
<h3 id="数据概述">数据概述</h3>
<p><img src="/medias/loading.gif" data-original="/2024/09/11/shu-xue-jian-mo-shu-ju-fen-xi-01.miao-shu-xing-fen-xi/image-20240911102511937.png"></p>
]]></content>
      <categories>
        <category>比赛</category>
      </categories>
      <tags>
        <tag>数学建模</tag>
        <tag>比赛</tag>
      </tags>
  </entry>
  <entry>
    <title>数据分析--02. 综合评价</title>
    <url>/2024/09/11/shu-xue-jian-mo-shu-ju-fen-xi-02.zong-he-ping-jie/</url>
    <content><![CDATA[<h2 id="数据分析--02.-综合评价">数据分析--02. 综合评价</h2>
<h3 id="层次分析法">层次分析法</h3>
<p>​
假设你要买一辆新车，但市场上有很多选择，而你关注的点也很多：价格、燃油效率、品牌声誉、舒适度等。你不知道该如何权衡这些因素，也不知道哪款车是最适合你的。</p>
<ol type="1">
<li><strong>构建层次结构</strong>：</li>
</ol>
<ul>
<li><strong>目标层</strong>：选择最佳的车</li>
<li><strong>准则层</strong>：影响选择的几个标准，比如价格、燃油效率、品牌声誉、舒适度</li>
<li><strong>方案层</strong>：你考虑的不同车型（例如车型A、车型B、车型C）</li>
</ul>
<ol start="2" type="1">
<li>两两比较</li>
</ol>
<p>​
你觉得价格和燃油效率哪个更重要？假设你认为价格更重要，你就给价格打一个较高的权重。</p>
<p>​
你觉得品牌声誉和舒适度哪个更重要？假设品牌声誉对你更重要，你也赋予它更高的权重。</p>
<ol start="3" type="1">
<li><strong>计算权重</strong>：</li>
</ol>
<p>​ 根据你对每个准则的比较结果，AHP会帮你计算每个准则的重要性权重，</p>
<p>4.<strong>比较方案</strong></p>
<p>​ 在确定了各个准则的权重后，你再来评估每辆车在这些准则上的表现。</p>
<h3 id="因子分析">因子分析</h3>
<p>​ 进行因子评分</p>
<ul>
<li>用于因子降维</li>
<li>计算因子权重</li>
<li>计算加权计算因子汇总综合得分</li>
</ul>
<h3 id="数据包络分析">数据包络分析</h3>
<p>​ <strong>广泛用于业绩评价</strong></p>
<h3 id="模糊综合评价">模糊综合评价</h3>
<h3 id="优劣解距离法">优劣解距离法</h3>
]]></content>
      <categories>
        <category>比赛</category>
      </categories>
      <tags>
        <tag>数学建模</tag>
        <tag>比赛</tag>
      </tags>
  </entry>
  <entry>
    <title>数据处理</title>
    <url>/2024/09/11/shu-xue-jian-mo-shu-ju-chu-li/</url>
    <content><![CDATA[<h2 id="数据处理">数据处理</h2>
<h3 id="数据标签">数据标签</h3>
<p>​ 男为0，女为1，数字化处理</p>
<h3 id="数据编码">数据编码</h3>
<p>​
0-100的数，规定50以下为0,50以上为1，将变量数再次编码，进一步浓缩整合</p>
<h3 id="异常值处理">异常值处理</h3>
<ul>
<li>3σ准则的，超过这3σ就属于异常值了，进行置空或者填补为其他有效值
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/09/11/shu-xue-jian-mo-shu-ju-chu-li/image-20240911090300253.png"></li>
<li><strong>前提</strong>：数据分布需要服从正态分布或者近似正态分布</li>
<li>若不服从正态分布，可以使用原理n倍标准差来描述</li>
</ul></li>
<li>基于聚类的异常检测
<ul>
<li>一个对象是基于聚类的离群点，如果该对象不属于任何簇，那么该对象属于离群点</li>
<li><strong>DBScan</strong></li>
<li><figure>
<img src="/medias/loading.gif" data-original="/2024/09/11/shu-xue-jian-mo-shu-ju-chu-li/image-20240911090800738.png" alt="image-20240911090800738">
<figcaption aria-hidden="true">image-20240911090800738</figcaption>
</figure></li>
</ul></li>
<li>孤立森林
<ul>
<li>一种无监督学习算法，属于组合决策树，</li>
<li>先在最大，值和最小值之间随机选择一个值 X，然后按照 <X 和>=X
可以把数据分成左右两组，在这两组数据中分别重复这个步骤，直到数据不可再分。</X></li>
<li>相对聚集的点需要分割的次数较多，比较孤立的点需要的分割次数少，孤立森林就是利用分割的次数来度量一个点是聚集的（正常）还是孤立的（异常）。</li>
<li><img src="/medias/loading.gif" data-original="/2024/09/11/shu-xue-jian-mo-shu-ju-chu-li/image-20240911090956050.png"></li>
</ul></li>
</ul>
<h3 id="数据标准化处理">数据标准化处理</h3>
<ul>
<li><strong>量纲化</strong>
<ul>
<li>1-10跟1000-10000，感觉可以理解为归一化</li>
</ul></li>
<li><strong>一致性</strong>
<ul>
<li>正向评价指标跟负向评价指标不能直接相加，取反或其他方法进行一直化处理</li>
</ul></li>
</ul>
<h3 id="虚拟变量转换">虚拟变量转换</h3>
<p>​ 常用在回归分析中</p>
<ul>
<li>将类别进行0 1 变换</li>
<li><strong>哑变量化</strong>
比如有三种，那么第三种就是哑变量的参考，前两者都为0则是第三者</li>
</ul>
<h3 id="特征筛选">特征筛选</h3>
<p>​ 降维</p>
<h3 id="特征降维">特征降维</h3>
<p>​ 将多维数据合并为更少维度的数据集</p>
<h3 id="缺失值处理">缺失值处理</h3>
<p>​ 空缺的用中位补</p>
<h3 id="时序数据滑窗转换">时序数据滑窗转换</h3>
<ul>
<li>将<strong>连续的时间数据</strong>分割成多个<strong>小窗口</strong>的方式，就像你从一段长视频中截取多个小片段一样。通过这些“窗口”，我们可以用过去的一段时间的数据，预测未来的一个或多个时间点。</li>
</ul>
<h3 id="样本均衡">样本均衡</h3>
<p>​
某一类别有995个数据，另一类别有5个数据时，此时属于严重的数据样本分布不均衡，模型很难从中提取规律，所以当发现样本不均衡时，需要做样本均衡处理，通过以下三种方法使得因变量不同类别的样本数量相差不大：</p>
<ol type="1">
<li>过采样（oversampling）即增加样本量较少的类别样本；</li>
<li>2.欠采样（undersampling）即减少样本量较多的类别样本；</li>
<li>3.混合采样（mixed
sampling），即结合过采样和欠采样的方法调整两类别的样本数量。</li>
</ol>
<h3 id="缩尾截尾处理">缩尾截尾处理</h3>
<p>​
对变量数值进行从小到大排列后，处理超出变量特定百分位范围的数值（被称作极端值）。缩尾是将这些极端值替换为其特定数值，截尾是直接删除这些极端值。</p>
<h3 id="数据变换">数据变换</h3>
<p>​ 对原始数据进行转换或处理</p>
<ul>
<li>BOX-Cox变换，让数据分布服从正态分布</li>
<li>小波变换， 减少数据噪声</li>
</ul>
]]></content>
      <categories>
        <category>比赛</category>
      </categories>
      <tags>
        <tag>数学建模</tag>
        <tag>比赛</tag>
      </tags>
  </entry>
  <entry>
    <title>01.晶体管的由来及内置电阻晶体管</title>
    <url>/2024/06/11/wen-wu-01.jing-ti-guan-de-you-lai-ji-nei-zhi-dian-zu-jing-ti-guan/</url>
    <content><![CDATA[<h2 id="晶体管的由来及内置电阻晶体管">01
晶体管的由来及内置电阻晶体管</h2>
<h4 id="材料">材料</h4>
<p>​ 从锗（80℃左右发生损害）到硅（180℃）</p>
<h4 id="作用">作用</h4>
<p>​ <strong>增幅</strong>和<strong>开关</strong></p>
<p>​
增幅：不改变输入信号的波形，只<strong>放大</strong>电压或电流，指模拟信号</p>
<p>​ 开关：在数字信号中，晶体管起着切换0和1的开关作用</p>
<h4 id="集电阻和晶体管于一体">集电阻和晶体管于一体</h4>
<p>​ 数字晶体管即内置了电阻的晶体管</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/11/wen-wu-01.jing-ti-guan-de-you-lai-ji-nei-zhi-dian-zu-jing-ti-guan/image-20240611204750395.png" alt="image-20240611204750395">
<figcaption aria-hidden="true">image-20240611204750395</figcaption>
</figure>
<p><strong>优点：</strong></p>
<ul>
<li>安装面积减少</li>
<li>安装时间减少</li>
<li>部件数量减少</li>
</ul>
<h4 id="基极是自来的阀门发射极是配管集电极是水龙头">基极是自来的阀门，发射极是配管，集电极是水龙头</h4>
<p>​
通过微小之力（基极的输入信号）来控制自来水的阀门，从而调节水龙头喷出巨大的水流（集电极电流）</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/11/wen-wu-01.jing-ti-guan-de-you-lai-ji-nei-zhi-dian-zu-jing-ti-guan/image-20240611205055893.png" alt="image-20240611205055893">
<figcaption aria-hidden="true">image-20240611205055893</figcaption>
</figure>
<p>​ <strong>放大+电流型器件</strong></p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>03.晶体管分类概述</title>
    <url>/2024/06/11/wen-wu-03.jing-ti-guan-fen-lei-gai-shu/</url>
    <content><![CDATA[<h2 id="晶体管分类概述">03.晶体管分类概述</h2>
<h4 id="晶体管的代表形状-tosmt">晶体管的代表形状 TO/SMT</h4>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406130920664.png" alt="image-20240611213213155">
<figcaption aria-hidden="true">image-20240611213213155</figcaption>
</figure>
<h4 id="根据工作原理分为双极晶体管和单极晶体管">根据工作原理，分为双极晶体管和单极晶体管</h4>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406130920665.png" alt="image-20240611213250901">
<figcaption aria-hidden="true">image-20240611213250901</figcaption>
</figure>
<p><strong>双极晶体管</strong></p>
<p>​
即：流经构成晶体管的半导体的电流由空穴（正极性）和电子（负极性）产生。一般而言的晶体管是指这种由硅构成的晶体管</p>
<p><strong>FET</strong></p>
<p>​ 指场效应晶体管，有接合型FET和MOS型，GaAs型</p>
<p>​ 接合型多用于音频设备的模拟电路</p>
<p>​ MOS型主要用于微控制器等数字IC</p>
<p>​ GaAs用于卫星广播信号接收等的微波增幅</p>
<h3 id="按功率分类">按功率分类</h3>
<p>​ 以最大额定值的集电极功率Pc进行区分</p>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406130920666.png" alt="image-20240611213714517">
<figcaption aria-hidden="true">image-20240611213714517</figcaption>
</figure>
<p><strong>小信号晶体管</strong></p>
<p>​
最大集电极电流在500mA以下，最大集电极功率不超过1W，以树脂封装居多</p>
<p><strong>功率晶体管</strong></p>
<p>​ Pc&gt;1W，</p>
<h3 id="按集成度分类">按集成度分类</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406130920667.png" alt="image-20240611214034489">
<figcaption aria-hidden="true">image-20240611214034489</figcaption>
</figure>
<h3 id="按形状分类">按形状分类</h3>
<figure>
<img src="/medias/loading.gif" data-original="https://raw.githubusercontent.com/lsdxz0/photo/main/image/202406130920668.png" alt="image-20240611214203911">
<figcaption aria-hidden="true">image-20240611214203911</figcaption>
</figure>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>02.晶体管截止频率定义和反向漏电流</title>
    <url>/2024/06/11/wen-wu-02.jing-ti-guan-jie-zhi-pin-lu-ding-yi-he-fan-xiang-lou-dian-liu/</url>
    <content><![CDATA[<h2 id="晶体管截止频率定义和反向漏电流">02.晶体管截止频率定义和反向漏电流</h2>
<h4 id="关于晶体管on时的逆向电流e---c">关于晶体管ON时的逆向电流（E---&gt;C）</h4>
<p>这个对于<strong>NPN型</strong>的来说，E-C是逆向的，</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/11/wen-wu-02.jing-ti-guan-jie-zhi-pin-lu-ding-yi-he-fan-xiang-lou-dian-liu/image-20240611212018881.png" alt="image-20240611212018881">
<figcaption aria-hidden="true">image-20240611212018881</figcaption>
</figure>
<p>​
基极B被偏置为正，集电极C被偏置为负，由发射极流向集电极的是<strong>逆电流</strong></p>
<p><strong>逆向晶体管的特点：</strong></p>
<ul>
<li>放大倍数低h（正向10%一下）</li>
<li>耐压低（7..8V与Vebo的导通电压一样低）</li>
<li>Vce（sat）饱和电压跟Vbe（ON）导通电压没有太大变化</li>
</ul>
<h4 id="关于封装攻略容许功耗">关于封装攻略容许功耗</h4>
<p><strong>定义：</strong>
由于输入晶体管的电压，电流产生的功耗在元件发热时，结温Tj为绝对最大额定值限定的温度（Tj=150℃）时的功率</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/11/wen-wu-02.jing-ti-guan-jie-zhi-pin-lu-ding-yi-he-fan-xiang-lou-dian-liu/image-20240611212524409.png" alt="image-20240611212524409">
<figcaption aria-hidden="true">image-20240611212524409</figcaption>
</figure>
<h4 id="晶体管的速度">晶体管的速度</h4>
<p><strong>fT：增益带宽积、截止频率、开关速度</strong></p>
<p>​ <strong>增益带宽积</strong>
指晶体管能够动作的极限频率，所谓极限，即基极电流对集电极电流的比（放大倍数）为1的情况</p>
<p>提高基极输入频率，则hfe放大倍数变低</p>
<p>这时，hfe为1的频率较多fT，指在该频率下能够工作的极限值</p>
<p>但是实际使用时能够动作的只有fT的1/5to1/10</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>06. MOSFET特性简单版，强调温度特性</title>
    <url>/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/</url>
    <content><![CDATA[<h2 id="mosfet特性简单版强调温度特性">06.
MOSFET特性简单版，强调温度特性</h2>
<h4 id="mosfet特性">MOSFET特性</h4>
<p><strong>MOSFET寄生电容模型图</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622222006942.png" alt="image-20240622222006942">
<figcaption aria-hidden="true">image-20240622222006942</figcaption>
</figure>
<table>
<thead>
<tr>
<th>符号</th>
<th>算式</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ciss</td>
<td>Cgs+Cgd</td>
<td>输入容量</td>
</tr>
<tr>
<td>Coss</td>
<td>Cds（main）+Cgd</td>
<td>输出容量</td>
</tr>
<tr>
<td>Crss</td>
<td>Cgd</td>
<td>反馈容量</td>
</tr>
</tbody>
</table>
<p>Cgd是反馈电容，Crss称为反向传输电容</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622222338939.png" alt="image-20240622222338939">
<figcaption aria-hidden="true">image-20240622222338939</figcaption>
</figure>
<p>Ciss在面对Vds的变化时，反应不是很明显，但是Coss跟Crss会有较大影响</p>
<h4 id="温度特性">温度特性</h4>
<p>​ 上面这三个玩意，在面对温度发生改变的时候，基本不受影响</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622222601604.png" alt="image-20240622222601604">
<figcaption aria-hidden="true">image-20240622222601604</figcaption>
</figure>
<h4 id="关于mosfet的开关及其温度特性">关于MOSFET的开关及其温度特性</h4>
<p><strong>开关时间</strong></p>
<p>​
栅极电压ON/OFF之后，MOSFET才ON/OFF，这个延迟时间为<strong>开关时间</strong>，一般在规格书上记为下面的</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622222836701.png" alt="image-20240622222836701">
<figcaption aria-hidden="true">image-20240622222836701</figcaption>
</figure>
<p>​ （在算一些损耗，阶跃谐振会用到）</p>
<p><strong>温度特性</strong></p>
<p>​
温度上升的同时开关时间略微增加，但是100℃上升时增加10%成左右，几乎没有开关特性的温度依存性</p>
<h4 id="关于mosfet的vgsth界限值">关于MOSFET的Vgs（th）（界限值）</h4>
<p>​ MOS管开启时，GS（栅极，源极）间的电压称为Vgs（th）</p>
<p>​ 即，输入界限值以上的电压时，MOSFET为开启状态。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622223938184.png" alt="image-20240622223938184">
<figcaption aria-hidden="true">image-20240622223938184</figcaption>
</figure>
<p>输入Vds=V时，使1mA电流通过Id所需的栅极界限值电压Id（th）为1.0V to
2.5V</p>
<p><strong>Id--Vgs特性和温度特性</strong></p>
<p>​ 温度越高，所需导通的阈值电压越低，不太行这玩意</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240622224136003.png" alt="image-20240622224136003">
<figcaption aria-hidden="true">image-20240622224136003</figcaption>
</figure>
<p>​ 可能会误导通</p>
<p><strong>补充</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-06.mosfet-can-shu-de-wen-du-te-xing/image-20240821103742716.png"></p>
<ul>
<li>G极(gate)—栅极，不用说比较好认</li>
<li>S极(source)—源极，不论是P沟道还是N沟道，两根线相交的就是</li>
<li>D极(drain)—漏极，不论是P沟道还是N沟道，是单独引线的那边</li>
</ul>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>04.数字晶体管的原理</title>
    <url>/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/</url>
    <content><![CDATA[<h2 id="数字晶体管的原理">04+05.数字晶体管的原理</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621222247268.png" alt="image-20240621222247268">
<figcaption aria-hidden="true">image-20240621222247268</figcaption>
</figure>
<p>这就是数字晶体管，里面加了俩内置电阻，（TR指的是晶体管，中间是集电极B，下面是发射极E，上面是集电极C）</p>
<ul>
<li><p>饱和条件</p>
<ul>
<li><p>要使晶体管达到饱和状态，集电极电流 IC与基极电流 IB的比率设为
20:1。这意味着：</p></li>
<li><p><span class="math display">\[
\frac{I_C}{I_B}=20
\]</span></p></li>
</ul></li>
<li><p>输入电阻</p>
<ul>
<li><p>R1 是基极电阻，允许有 ±30% 的容差（30%E-B间的电阻）</p></li>
<li><p>R2 是电阻分压器的一部分， <span class="math display">\[
{R}_2/{R}_1=\pm20\%
\]</span></p></li>
</ul></li>
<li><p>VBE=0.55-0.75V</p></li>
</ul>
<p><strong>数字晶体管直流电流增益率关系式</strong> <span class="math display">\[
G_1=\frac{\mathrm{Ic}}{(\mathrm{Ic/h_{FE}})+(\mathrm{V_{BE}/R_2})}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}&amp;\mathrm{G_{1}=I_{0}/lin}\\&amp;\mathrm{h_{FE}=I_{C}/I_{B}}\\&amp;\mathrm{I_{O}=I_{C},~lin=I_{B}+I_{R2},~I_{B}=I_{C}/h_{FE}~,~I_{R2}=V_{BE}/R_{2}}\end{aligned}
\]</span></p>
<p>电压关系式： <span class="math display">\[
\mathrm{V_{IN}=V_{R1}+V_{BE}}
\]</span> <strong>集电极电流关系式</strong> <span class="math display">\[
I_{C}=h_{FE}\times((Vin-V_{BE})/R_{1})-(V_{BE}/R_{2}))\cdot\cdot\cdot\odot1
\]</span></p>
<p><span class="math display">\[
\mathrm{I_{C}=20\times((Vin-V_{BE})/R_{1})-(V_{BE}/R_{2}))\cdot\cdot\cdot2}
\]</span></p>
<p>​
由上面的比率为20，将第一个式子的hFE换为20/1，得到2.再考虑上偏差，最后根据下面的式子<strong>选择数字晶体管的电阻R1，R2</strong>，使数字晶体管的Ic比使用设备上的最大输出电流Iomax大
<span class="math display">\[
\mathrm{lomax\leq20((Vin-0.75)/(1.3\times R_1)-0.75/(1.04\times R_2))}
\]</span></p>
<h4 id="io跟ic的区别">Io跟Ic的区别</h4>
<ul>
<li>Ic： 能够通过晶体管的电流的最大理论值</li>
<li>Io： 能够作为数字晶体管使用的电流最大值</li>
</ul>
<h4 id="gi跟hfe的区别">GI跟hFE的区别</h4>
<ul>
<li>hFE： 作为晶体管的直流电流增幅率</li>
<li>GI： 作为数字晶体管的直流电流增幅率</li>
</ul>
<p>​ 都表示发射极接地<strong>直流电流放大率</strong>，
数字晶体管有两个电阻器，但是一般的只有一个R1，根据R1的类型，放大率表示为hFE，在E-B之间附加电阻R2，输入电流则分为流过个别晶体管的电流，和流过E-B间电阻R2的电流，因此放大率比单体下降，称为GI</p>
<h4 id="vion与vioff的区别">Vi（on）与Vi（off）的区别</h4>
<ul>
<li>Vi（on）: 数字晶体管为保持ON状态的最低电压，定义Vi（on）为min</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621224933812.png" alt="image-20240621224933812">
<figcaption aria-hidden="true">image-20240621224933812</figcaption>
</figure>
<h4 id="关于数字晶体管的温度特性">关于数字晶体管的温度特性</h4>
<p>根据环境温度，VBF, hFE， R1，R2，都会变化，</p>
<p>hFE的温度变化率为0.5%℃</p>
<p>VBE的温度系数约为 -2mv/℃（-1.8 to -2.4mv/℃的范围有偏差）</p>
<h4 id="关于输出电压-输出电流特性的低小电流区域输出特性不好">关于输出电压-输出电流特性的低/小电流区域，输出特性不好</h4>
<p>低电流区域输出电压(Vo)/Vce(sat)上升（输出的饱和电压上升）</p>
<p>因此<strong>在低电流区域不能测定Vo</strong></p>
<h4 id="关于数字晶体管的开关动作">关于数字晶体管的开关动作</h4>
<ul>
<li><p><strong>晶体管的动作</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621225818880.png" alt="image-20240621225818880">
<figcaption aria-hidden="true">image-20240621225818880</figcaption>
</figure></li>
</ul>
<p>​
在基极（B）-发射极（E）之间输入正向电压，注入基极电流，也就是B里面注入空穴，那么E的载流子会被吸引至基极B，但是B领域非常薄，因此加入集电极电压，载流子可以穿过B，流向C，电流实现从C到E的移动</p>
<ul>
<li>开关动作</li>
</ul>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621230204443.png" alt="image-20240621230204443">
<figcaption aria-hidden="true">image-20240621230204443</figcaption>
</figure>
<p>晶体管的动作有增幅/放大作用和开关作用</p>
<p>​ 在放大作用中，通过注入基极电流IB，能够通过增幅hFE倍的集电极Ic</p>
<p>​ 在放大区域中，通过输入信号持续控制集电极电流，可以得到输出电流</p>
<p>​
在开关作用中，在ON时，电气性饱和状态（降低集电极-发射极间的饱和电压）下使用</p>
<h4 id="关于数字晶体管的用语">关于数字晶体管的用语</h4>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621230518214.png" alt="image-20240621230518214">
<figcaption aria-hidden="true">image-20240621230518214</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621230509704.png" alt="image-20240621230509704">
<figcaption aria-hidden="true">image-20240621230509704</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/21/wen-wu-04-05.shu-zi-jing-ti-guan-de-yuan-li/image-20240621230546375.png" alt="image-20240621230546375">
<figcaption aria-hidden="true">image-20240621230546375</figcaption>
</figure>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>07. MOSFET导通电阻特性</title>
    <url>/2024/06/22/wen-wu-07.mosfet-dao-tong-dian-zu-te-xing/</url>
    <content><![CDATA[<h2 id="mosfet导通电阻特性">0.7 MOSFET导通电阻特性</h2>
<h4 id="啥是导通电阻">啥是导通电阻</h4>
<p>​ MOS管工作时，漏极跟源极之间的阻值称为导通电阻（RDS(ON))</p>
<p>​ 数值<strong>越小</strong>，工作时损耗（功率损耗）越小。</p>
<p><strong>关于导通电阻的电气特性</strong></p>
<p>​
晶体管的消耗功率用集电极饱和电压（Vce（sat））乘以集电极电流（Ic）表示</p>
<p>​ （集电极损耗Pc）=（集电极饱和电压Vce（sat））* （集电极电流Ic）</p>
<p>​ MOSFET的消耗功率是用导通电阻（Rds（on））计算的</p>
<p>​ （功率PD） = （导通电阻Rds（on）） * （漏极电流Id）平方</p>
<p>此功率将热量散发出去，MOS管的导通电阻一般在Ω级以下，与一般的晶体管相比，消耗功率小，即发热小，散热策略简单</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/22/wen-wu-07.mosfet-dao-tong-dian-zu-te-xing/image-20240622225318983.png" alt="image-20240622225318983">
<figcaption aria-hidden="true">image-20240622225318983</figcaption>
</figure>
<ul>
<li>栅极源极之间的电压Vgs越高，导通电阻越小</li>
<li>栅极源极间电压相同的条件下，导通电阻因电流不同而不同</li>
<li>计算功率损耗时，需要考虑栅极源极间电压和漏极电流，选择合适的导通电阻</li>
<li>导通电阻因温度变化而变化，是个正温度系数，但是有个潜在的好处--&gt;多个mos管的并联时实现自动均流，</li>
</ul>
<p><strong>导通电阻比较</strong></p>
<p>​ 一般MOS的芯片尺寸（表面面积）越大，导通电阻越小。</p>
<p>​ 选择更大尺寸的封装，导通电阻会更小</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>08. MOSFET总栅极电荷Qg</title>
    <url>/2024/06/28/wen-wu-08.mosfet-zong-zha-ji-dian-he-qg/</url>
    <content><![CDATA[<h2 id="mosfet总栅极电荷qg">08. MOSFET总栅极电荷Qg</h2>
<p>#### 啥是总栅极电荷（Qg）</p>
<p>​ Qg是指：
为导通MOS而注入到栅极电极的电荷量。也称为栅极总电荷，单位为库仑(C)</p>
<p>​
总栅极电荷值较大，则导通MOS所需的电容充电时间变<strong>长</strong>，开关损耗增加，数值越小，开关损耗（切换损耗）越小，从而可实现高速开关。</p>
<h4 id="总栅极电荷和导通电阻">总栅极电荷和导通电阻</h4>
<p>​
<strong>总栅极电荷</strong>越小，开关损耗越小。而且，<strong>导通电阻值越</strong>小，工作时的功耗越小。</p>
<p>​
但需要注意的是，这俩的特性处于<strong>权衡</strong>关系，MOS的芯片尺寸（表面积）越小，总电荷量越小，但导通电阻值会变大，换句话说：
<strong>开关损耗与工作时的功耗之间存在权衡关系</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-08.mosfet-zong-zha-ji-dian-he-qg/image-20240628205520776.png" alt="image-20240628205520776">
<figcaption aria-hidden="true">image-20240628205520776</figcaption>
</figure>
<figure>
<img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-08.mosfet-zong-zha-ji-dian-he-qg/image-20240628205527283.png" alt="image-20240628205527283">
<figcaption aria-hidden="true">image-20240628205527283</figcaption>
</figure>
<p>比较复杂，暂时只要知道这个总栅极电荷与损耗，开关速度有关就行</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>09+10. SOA安全使用晶体管的选定方法</title>
    <url>/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/</url>
    <content><![CDATA[<h2 id="soa安全使用晶体管的选定方法">09+10.
SOA安全使用晶体管的选定方法</h2>
<h4 id="判断流程">判断流程</h4>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628210018165.png"></p>
<h4 id="测定实际的电流电压波形">1. 测定实际的电流、电压波形</h4>
<p>​
用示波器确定晶体管上的电压电流，需要全部满足规格书上记载的额定值，特别应该确认下列项目</p>
<table>
<thead>
<tr>
<th>晶体管的种类</th>
<th>电压</th>
<th>电流</th>
</tr>
</thead>
<tbody>
<tr>
<td>双极晶体管</td>
<td>集电极发射极间电压：V<sub>CE</sub></td>
<td>集电极电流：I<sub>C</sub></td>
</tr>
<tr>
<td>数字晶体管</td>
<td>输出电压：Vo（GND-OUT间电压)</td>
<td>输出电流：I<sub>O</sub></td>
</tr>
<tr>
<td>MOSFET</td>
<td>漏极源极间电压：V<sub>DS</sub></td>
<td>漏极电流：I<sub>D</sub></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="是否一直满足绝对最大额定值">2. 是否一直满足绝对最大额定值</h4>
<p>确认‘’<a href="####1.%20测定实际的电流、电压波形">1.测定实际的电流电压</a>‘’中确定的电压，电流是否超过了规格书记载的绝对最大额定值</p>
<p>​
如例1中，未确认的项目全部都需要在绝对最大额定值以下。即是浪涌电流和浪涌电压只在一瞬间超过了绝对最大额定值也不可使用。如果超过绝对最大额定值，有可能会造成破坏和劣化</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628211129056.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628212658785.png"></p>
<h4 id="是否在soa范围内">3. 是否在SOA范围内</h4>
<p>​ 确认安全工作区域（SOA）</p>
<p>​ <strong>安全工作区域（SOA）</strong> 表示晶体管可安全工作的区域</p>
<p>​
不过，SOA只是关于1脉冲的数据，在脉冲反复混入时，需要所有脉冲都进入SOA范围内，
并且通过 ‘’<a href="####4.%20在使用环境温度下是否在下降的SOA范围内">4.确认安全工作区域（SOA）2</a>‘’计算的平均施加功率在额定功率以下</p>
<p>​ SOA安全工作区域的简称，有时也称ASO</p>
<p><strong>SOA确认方法</strong></p>
<p>​ 确认‘’<a href="####1.%20测定实际的电流、电压波形">1.确认电流、电压</a>‘’中确认的波形是否在SOA范围内，即使浪涌电压电流只在一瞬间超出也不行，另外注意，即使在‘’<a href="####2.%20是否一直满足绝对最大额定值">2.确认绝对最大额定值</a>‘’中确认的绝对最大额定值的范围内，有时也会超出SOA范围</p>
<h4 id="在使用环境温度下是否在下降的soa范围内">4.
在使用环境温度下是否在下降的SOA范围内</h4>
<p>​ （按照使用环境温度或因晶体管发热温度上升时的元件温度来考虑）</p>
<p>由于通常的SOA是在常温（25℃）下的数据，所以周围温度在25℃以上时，或者因晶体管自身发热元件温度上升时，需要降低SOA的温度</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628214037069.png"></p>
<p><strong>SOA的温度降低方法</strong>:
（降低的温度基本上元件的温度）</p>
<p><strong>SOA的温度降额方法</strong></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628214241639.png"></p>
<p>具体的方法就是：
将SOA线平行移向低电流方向。如图所示，下降率根据区域不同而不同</p>
<ul>
<li><strong>1-1 热限制区</strong>
<ul>
<li>在该区域，SOA线具有45°的倾斜度（功率固定线）</li>
<li>下降率为0.8%/℃</li>
</ul></li>
<li><strong>1-2 2次下降区域</strong>
<ul>
<li>晶体管存在热失控引起的2次下降区域</li>
<li>SOA线具有45°以上的倾斜度</li>
<li>下降率为0.5%/℃</li>
</ul></li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628214804538.png"></p>
<p>​ 因此，该区域SOA线向低电流方向平移37.5%</p>
<h4 id="连续脉冲单脉冲">5. 连续脉冲？单脉冲？</h4>
<p><strong>单脉冲</strong></p>
<p>​
如同上电和掉电的浪涌电流一样，只发生一次脉冲的情形（无反复脉冲时）称为单脉冲，此时：</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215039456.png"></p>
<p><strong>连续脉冲</strong></p>
<p>​ 将脉冲反复发生的情形称为连续脉冲，此时：</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215150524.png"></p>
<h4 id="平均功耗是否在周围温度的额定功率以下">6.平均功耗是否在周围温度的额定功率以下？</h4>
<p>​ 周围温度的额定功率以下 = 元件温度在绝对最大额定值150℃以下</p>
<p>使元件温度升到150℃的功率定位额定功率，</p>
<p><strong>功率计算方法</strong></p>
<p>​
基本上，平均功率是以时间对电流和电压的积进行积分的值除以时间所得的值</p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215507777.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215532059.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215549696.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215606408.png"></p>
<p><strong>功率计算的积分公式</strong>---<u>通用，不仅于半导体</u></p>
<p><img src="/medias/loading.gif" data-original="/2024/06/28/wen-wu-09-10.soa-an-quan-shi-yong-jing-ti-guan-de-xuan-ding-fang-fa/image-20240628215811609.png"></p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>11. 晶体管元件温度计算方法</title>
    <url>/2024/07/15/wen-wu-11.jing-ti-guan-yuan-jian-wen-du-ji-suan-fang-fa/</url>
    <content><![CDATA[<h2 id="晶体管元件温度计算方法">11. 晶体管元件温度计算方法</h2>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>电子器件</tag>
        <tag>文天祥</tag>
      </tags>
  </entry>
  <entry>
    <title>比较器</title>
    <url>/2024/08/29/mo-dian-bi-jiao-qi/</url>
    <content><![CDATA[<h2 id="比较器">比较器</h2>
<p>​ 首先要明确，比较器跟运放是两个不同的器件</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-bi-jiao-qi/image-20240829144404289.png"></p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-bi-jiao-qi/image-20240829144244041.png"></p>
<p>​ 有专门的比较器，别用运放实现比较器，局限性较大</p>
<h3 id="输出高低电平">输出高低电平</h3>
<ul>
<li>单电源供电</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-bi-jiao-qi/image-20240829144601241.png"></p>
<ul>
<li>双电源供电</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-bi-jiao-qi/image-20240829144623947.png"></p>
<p>​
当你不需要输出负压，就选择单电源供电，如果需要输出负压就选择双电源供电。</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>比较器</tag>
      </tags>
  </entry>
  <entry>
    <title>运算放大器</title>
    <url>/2024/08/29/mo-dian-yun-suan-fang-da-qi/</url>
    <content><![CDATA[<h2 id="运算放大器">运算放大器</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240828142143361.png" alt="运算放大器原理图">
<figcaption aria-hidden="true">运算放大器原理图</figcaption>
</figure>
<h5 id="同相反相">同相？反相？</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829082119300.png"></p>
<h3 id="了解虚短-虚断">了解“虚短” “虚断”</h3>
<ul>
<li>理想运放的输入阻抗无穷大----------虚断
<ul>
<li>因为无穷大，所以给输入端施加电压，还是没电流，跟断路了一样，但是他又没断，所以叫虚断，</li>
<li>输入两个端口就可以画×了</li>
</ul></li>
<li>当给运放引入负反馈时，U<sub>n</sub>=U<sub>p</sub>-------虚短
<ul>
<li><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240828142536084.png"></li>
<li>随着反馈，U<sub>p</sub>-U<sub>N</sub>越来越小，最后基本没差，也就是在右侧的图上不断左移，U<sub>n</sub>跟U<sub>out</sub>都在不断修正，最终得到的结果就是U<sub>p</sub>=U<sub>n</sub>;</li>
</ul></li>
</ul>
<h3 id="如何理解运放">如何理解运放</h3>
<p>不接任何反馈: 输出电压只会处于两种状态,
接近供电正电压的高电平或者接近负电压(接地时负电压为0)的低电平</p>
<ul>
<li>如果同相输入(+)电压高于反相输入(-), 输出高电平</li>
<li>如果同相输入(+)电压低于反相输入(-), 输出低电平</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240828143642353.png"></p>
<p>​ 反馈接负输入端(存疑，视频里没有反馈，搞不懂)</p>
<p>运放在不断检测正负输入端的电压</p>
<ul>
<li>当正输入端的电压大于负输入端的电压的时候，运算放大器就会尽可能地抬高输出电压，直到正负输入端电压相等或者输出电压无法被继续抬高</li>
<li>当正输入端的电压小于负输入端的电压的时候，运算放大器就会尽可能地压低输出电压，直到正负输入端电压相等或者输出电压无法被继续压低</li>
</ul>
<h3 id="运放工作在线性非线性区域">运放工作在线性？非线性区域？</h3>
<p>判断运放工作区的方法是：</p>
<p>如有负反馈，则工作在线性区；</p>
<p>如有正反馈或者无反馈，则工作在非线性区；</p>
<p>PS：运放处于非线性状态时：虚短不成立，虚断可以使用。</p>
<h3 id="运算放大器的应用">运算放大器的应用</h3>
<h5 id="同相放大电路">同相放大电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829084355954.png"></p>
<p>​ 因为虚短-----&gt;V<sub>P</sub>=V-</p>
<p>​ 因为虚断-----&gt;输入端没有电流，所以两个电阻串联</p>
<p>​<br>
<span class="math display">\[
I=\frac{V_o}{R_1+R_2}\cdot\cdot\cdot\cdot V_p=V_-=I\cdot R_2\leftarrow
\]</span></p>
<p><span class="math display">\[
V_o=\frac{R_1+R_2}{R_2}V_p=1+\frac{R_1}{R_2}V_p
\]</span></p>
<p>​ 输出和输出信号是相位相同。放大倍数由Rg和Rf共同决定。</p>
<h5 id="电压跟随器">电压跟随器</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829104518389.png"></p>
<p>​
输出电压通过反馈电阻（或直接）接到反相输入端，反相输入端不再接地，信号由正向输入端输入</p>
<p>特点：<strong>高阻抗输入，大到兆欧级别，低阻抗输出，低到几欧姆</strong></p>
<p>作用：<strong>一个是起缓冲作用，前面接高阻抗，后面接低阻抗，二是隔离作用</strong></p>
<p>​ 输入电压与输出电压相同，充当缓冲器，不对信号提供放大或衰减</p>
<p>详解作用：</p>
<ul>
<li>消耗很小的电流
<ul>
<li>因为它高阻抗呀，电流小</li>
</ul></li>
<li>适合用于分压电路</li>
</ul>
<h5 id="反向放大电路">反向放大电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829085547572.png"></p>
<p>​ 因为虚短-----&gt;V<sub>P</sub>=V-</p>
<p>​ 因为虚断-----&gt;输入端没有电流，所以两个电阻串联</p>
<p>​<br>
<span class="math display">\[
I_1=\frac{V_n-V_-}{R_1}\cdot\cdot\cdot\cdot\cdot
I_f=\frac{V_--V_o}{R_f}\leftarrow
\]</span></p>
<p><span class="math display">\[
由I_1=I_f得到  V_0=-\frac{R_1}{R_f}V_n
\]</span></p>
<p>​ 输出和输出信号是相位相反。放大倍数由Rg和Rf共同决定。</p>
<h5 id="加法电路">加法电路</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829090643662.png"></p>
<p>假定四个电阻阻值相同，那么输出电压就等于三个电压之和了，相位相反</p>
<p><strong>再假定有个R5，给电压限制，只有0跟1V，如图绿色部分，根据电压状态，可以得到下面的表格</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829091047469.png" alt="image-20240829091047469">
<figcaption aria-hidden="true">image-20240829091047469</figcaption>
</figure>
<p>这个表格其实就是数模转换中的DAC</p>
<p>每个信号的放大倍数由反馈电阻Rf与每个输入信号串联的电阻R共同决定。</p>
<h5 id="减法器">减法器</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829091838222.png"></p>
<p>一般R<sub>1</sub>=R<sub>2</sub>=R<sub>A</sub>;
R<sub>3</sub>=R<sub>4</sub>=R<sub>B</sub></p>
<p>利用叠加定理，将其拆解为反向放大器和同相放大器，最后U<sub>O1</sub>+U<sub>02</sub>即可</p>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829092048410.png"> <span class="math display">\[
V_{out}=(V_B-V_A)*\frac{R_B}{R_A}
\]</span></p>
<h5 id="差分放大器">差分放大器</h5>
<p><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-yun-suan-fang-da-qi/image-20240829142127525.png"></p>
<p>​ 它属于是反向比例放大的变种 <span class="math display">\[
V_{out}=(\frac{R_1+R_2}{R_3+R_4})\times\frac{R_4}{R_1}\times
V_2-\frac{R_2}{R_1}\times V_1
\]</span>
当R<sub>1</sub>=R<sub>3</sub>且R<sub>2</sub>=R<sub>4</sub>时，可以得到下式，可以对差分信号进行放大
<span class="math display">\[
V_{out}=\frac{R_{2}}{R_{1}}\times(V_{2}-V_{1})
\]</span> ​
输出信号是输入信号之差。输出信号可先由分压器规则计算同相输入端的电压V+，然后使用同相运放增益公式计算出通相输出电压Vout1。然后在使用反向增益公式计算反向输出级的电压Vout2。最后将两个输出电压相加即可。</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>运放</tag>
      </tags>
  </entry>
  <entry>
    <title>【蓝桥杯EDA】客观题</title>
    <url>/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/</url>
    <content><![CDATA[<h2 id="蓝桥杯eda客观题">【蓝桥杯EDA】客观题</h2>
<p>​ 全部抄的<a href="https://blog.csdn.net/m0_74712453/article/details/137293930?ops_request_misc=%7B%22request%5Fid%22%3A%22cc81463cc0ec7bda671c4052b456a25c%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=cc81463cc0ec7bda671c4052b456a25c&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-137293930-null-null.142%5Ev102%5Epc_search_result_base5&amp;utm_term=蓝桥杯eda客观题&amp;spm=1018.2226.3001.4187">蓝桥杯EDA客观题-CSDN博客</a></p>
<h2 id="pcb类知识点和题目分析">1. PCB类知识点和题目分析</h2>
<h3 id="电阻">1.1 电阻</h3>
<p>​ 电阻的基础知识：<a href="https://blog.csdn.net/m0_74712453/article/details/136460293?spm=1001.2014.3001.5501">一篇了解电阻的使用-CSDN博客</a></p>
<h4 id="知识点">知识点</h4>
<h5 id="电阻决定式"><strong>电阻决定式</strong></h5>
<p><span class="math display">\[
R = ρl / S
\]</span></p>
<ul>
<li><em>ρ</em>：物质的电阻率，单位为【Ω*cm】</li>
<li>I：物质的长度，单位为【cm】</li>
<li>S：物质的横截面积</li>
</ul>
<p>​
l，s影响电阻，然后还有材料，ls相同，不同材料的导体电阻不同；还有<strong>温度</strong>，一般情况下，对于大多数导体，温度越高电阻越大，如金属；对少数导体，温度越高，电阻越小，如碳。</p>
<h5 id="电阻串并联"><strong>电阻串并联</strong></h5>
<p><span class="math display">\[
\frac{1}{R_{\parallel}} = \frac{1}{R_1} + \frac{1}{R_2}
\]</span></p>
<p><span class="math display">\[
R_{\parallel} = \frac{R_1 \times R_2}{R_1 + R_2}
\]</span></p>
<h5 id="温度对电阻的影响"><strong>温度对电阻的影响</strong></h5>
<p>温度系数TCR：电阻温度系数，表示电阻当温度改变1摄氏度时，电阻值的相对变化，单位为ppm/℃*百万分之几
<span class="math display">\[
\text{温度系数 } TCR = \frac{\frac{R - R_a}{R_a}}{(T - T_a)} \times
1000000
\]</span> ​ 上面这玩意就是阻值变化率</p>
<h5 id="安装方式"><strong>安装方式：</strong></h5>
<ul>
<li>贴片电阻
<ul>
<li><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250311161521148.png"></li>
</ul></li>
<li>插件电阻
<ul>
<li><figure>
<img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250311161716833.png" alt="image-20250311161716833">
<figcaption aria-hidden="true">image-20250311161716833</figcaption>
</figure></li>
</ul></li>
</ul>
<h5 id="电阻值"><strong>电阻值</strong></h5>
<p>​ 电阻的标称阻值分为E6、E12、E24、E48、E96、E192
六大系列，分别使用于允许偏差为±20、±10%、±5%、±2%、±1%、±0.5%的电阻器。其中以
<strong>E24</strong> 和 <strong>E96</strong>
两个系列为最常用。“E”表示“指数间距”（Exponential
Spacing），它表明了电阻阻值是由公式计算出来的。</p>
<h5 id="电阻值的标称"><strong>电阻值的标称</strong></h5>
<p>​ 这玩意是标准系列的固定值</p>
<p>贴片电阻</p>
<p>1）封装0603及以上的电阻在表面都印有丝印</p>
<p>2）丝印展示了两层意义：<strong>阻值大小和精度</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250311162456051.png" alt="分三类">
<figcaption aria-hidden="true">分三类</figcaption>
</figure>
<ul>
<li><p>带三位或四位数字的丝印</p>
<ul>
<li><p>三位数字表示5%精度的，四位数字表示1%精度的，前面几位表示数值，最后一位表示
10 的 x 次方。</p></li>
<li><blockquote>
<p>丝印为103 10*10^3=10k 5%精度</p>
<p>丝印为1003 100*10^3=100k 1%精度</p>
</blockquote></li>
</ul></li>
<li><p>带有R的丝印</p>
<ul>
<li><p>带字母”R”的电阻一般阻值较小，精度多为1%。把R
看作是小数点，前边的数字为有效值</p></li>
<li><blockquote>
<p>丝印为“22R0”，将R 看作小数点，前面的22
表示有效值，读数为22.0Ω，即精度为22Ω的1%精度电阻。</p>
</blockquote></li>
</ul></li>
<li><p>数字+字母R</p>
<ul>
<li>这种电阻丝印在0603
封装中比较常见，精度为1%，与之对应的标准为E-96。</li>
<li>E-96
规定：用两位数字加一个字母作为丝印，实际阻值可以通过查表来获取，两位数字表明了电阻数值，字母表明了10
的 x 次方，需要查表。</li>
</ul></li>
</ul>
<h5 id="电阻的封装功率"><strong>电阻的封装+功率</strong></h5>
<p>​
电阻的封装指的是它的物理形态和尺寸，比如熟知的0805；这里面前两位表示电阻的长度，后两位表示电阻的宽度，其实是0.08英寸长，0.05英尺尺寸宽，只是常见的是mm单位</p>
<table>
<colgroup>
<col style="width: 24%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 12%">
<col style="width: 13%">
<col style="width: 12%">
<col style="width: 12%">
</colgroup>
<thead>
<tr>
<th>封装代码</th>
<th>0201</th>
<th>0402</th>
<th>0603</th>
<th>0805</th>
<th>1206</th>
<th>2512</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>公制尺寸（mm）</strong></td>
<td>0.6 × 0.3</td>
<td>1.0 × 0.5</td>
<td>1.6 × 0.8</td>
<td>2.0 × 1.25</td>
<td>3.2 × 1.6</td>
<td>6.3 × 3.2</td>
</tr>
<tr>
<td><strong>典型功率（W）</strong></td>
<td>1/20W</td>
<td>1/16W</td>
<td>1/10W</td>
<td>1/8W</td>
<td>1/4W</td>
<td>1W</td>
</tr>
</tbody>
</table>
<ul>
<li>存在误差，小点的±0.05，大点的能到±0.2</li>
</ul>
<p>功率跟封装决定，如表</p>
<h5 id="电阻的额定电压"><strong>电阻的额定电压</strong></h5>
<p>电阻是有额定耐压值的，不能超过额定耐压值使用。</p>
<p>1、材质相同（厚膜）的额定电压，各品牌相差不大。</p>
<p>2、材质不同，额定电压有差别，薄膜要比厚膜要低。</p>
<p>3、封装越大，额定电压升高。</p>
<h5 id="零欧姆电阻"><strong>零欧姆电阻</strong></h5>
<p>​
零欧姆电阻又称为跨接电阻，并非真正的阻值为0，实际是电阻值很小的电阻</p>
<p>​ <strong>作用：</strong></p>
<ul>
<li>在电路中没有任何作用，只是在pcb上方便调试或为了兼容设计</li>
<li>可作跳线</li>
<li>方便测大电流</li>
<li>......</li>
</ul>
<p>​ <strong>零欧姆电阻阻值</strong></p>
<p>​ 0Ω电阻实际最大阻值10mΩ，20mΩ，50mΩ可选，</p>
<h4 id="题目">题目</h4>
<p><strong>1. 电子元器件的封装与功率有直接关系，一般 0805
封装的电阻功率为（ ）</strong></p>
<ol type="A">
<li><p>1/16W</p></li>
<li><p><code>1/8W</code></p></li>
<li><p>1/4W</p></li>
<li><p>1/2W</p></li>
</ol>
<p><strong>2. 一个贴片电阻，标识为 1002，下列对该电阻描述正确的是（
）</strong></p>
<ol type="A">
<li><p>电阻值为 10K，精度为 10%</p></li>
<li><p>电阻值为 100K，精度为 1%</p></li>
<li><p><code>电阻值为 10K，精度为 1%</code></p></li>
<li><p>电阻值为 100K，精度为 10%</p></li>
</ol>
<p><strong>3. 下列封装的电阻中，物理尺寸最大的是（ ）</strong></p>
<ol type="A">
<li><p>0805</p></li>
<li><p>0603</p></li>
<li><p>0402</p></li>
</ol>
<p><code>(D) 1206</code></p>
<p><strong>4. 以下元器件中，属于无源器件的有（ ）</strong></p>
<ol type="A">
<li><p>电阻</p></li>
<li><p>电容</p></li>
</ol>
<p><code>(C) 电感</code></p>
<ol start="4" type="A">
<li>LED</li>
</ol>
<blockquote>
<p><strong>无源三兄弟</strong>：电阻、电容、电感，不耗电、不放大；
<strong>有源三巨头</strong>：晶体管、IC、运放，要供电、能增强！</p>
<p>常用的无源器件：电阻器、电阻排、电容器、电感、变压器、继电器、按键、蜂鸣器、喇叭、开关、连接器、插座、连接电缆、印刷电路板。</p>
<p>常用的有源器件：IC、模块等都是有源器件。三极管、场效应晶体管、晶闸管、模拟集成电路、数字集成电路器件。</p>
</blockquote>
<p><strong>5. 下列关于“压敏电阻”的说法中，正确的是（ ）</strong></p>
<p><code>(A) 常用于电源保护电路</code></p>
<p><code>(B) 用力按压压敏电阻，其阻值减小</code></p>
<p><code>(C) 是一种半导体器件</code></p>
<ol start="4" type="A">
<li>响应速度快于 TVS 管</li>
</ol>
<blockquote>
<p>压敏电阻器主要用于限制有害的大气过电压和操作过电压，能有效地保护系统或设备：</p>
<p>1)在电力工业中，常使用压敏材料制成避雷器阀片。用氧化锌压敏材料制成高压绝缘子，既有绝缘作用，又能实现瞬态过电压保护。</p>
<p>2)在电子电路中，具有过电压保护、防雷、抑制浪涌电流、吸收尖峰脉冲、限幅、高压灭弧、消噪、保护半导体器件等作用。</p>
<p>TVS是一种二极管形式的高效能保护器件。当TVS二极管的两极受到反向瞬态高能量冲击时，它能以10的负12次方秒量级的速度，将其两极间的高阻抗变为低阻抗，吸收高达数千瓦的浪涌功率，使两极间的电压箝位于一个预定值，有效地保护电子线路中的精密元器件，免受各种浪涌脉冲的损坏。</p>
</blockquote>
<p><strong>6. 电阻负载上获得最大功率的条件是（ ）</strong></p>
<ol type="A">
<li>电阻值远小于电源内阻</li>
</ol>
<p><code>(B) 电阻值等于电源内阻</code></p>
<ol start="3" type="A">
<li><p>电阻值远大于电源内阻</p></li>
<li><p>电阻值等于电源内阻的 0.707 倍</p></li>
</ol>
<blockquote>
<p><strong>最大功率传输定理：</strong></p>
<p>当电源的内阻 <span class="math display">\[R_s\]</span>与负载电阻
<span class="math display">\[R_L\]</span>
相等时，负载获得的功率最大，即： <span class="math display">\[
R_L=Rs
\]</span></p>
</blockquote>
<p><strong>7. 一个 47KΩ ±1% 的贴片电阻数标值为
<code>________</code>，该电阻封装为 0805，电阻实体尺寸为长
<code>________</code> mm，宽为 1.2mm。</strong> （第一个空格处填写 10
进制整数，第二空格填写保留小数点后 1 位的有效数字）</p>
<p>​ <strong>答案：</strong> <code>4702</code>，<code>2.0</code></p>
<h3 id="电容">1.2 电容</h3>
<p>​ 关于电容基础知识可看：<a href="https://blog.csdn.net/m0_74712453/article/details/136474769?spm=1001.2014.3001.5501">一篇了解电容的使用-CSDN博客</a></p>
<h4 id="知识点-1">知识点</h4>
<h5 id="电容本质">电容本质</h5>
<p>​
两个相互靠近的导体，中间夹一层不导电的绝缘介质，这就构成了<strong>电容</strong></p>
<figure>
<img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250312160604732.png" alt="电容本质">
<figcaption aria-hidden="true">电容本质</figcaption>
</figure>
<p>​ 如图所示，两端存在电势差时，介质阻碍移动，积累在金属板上存储电荷</p>
<h5 id="电容量的大小">电容量的大小</h5>
<p><span class="math display">\[
C = Q / U
\]</span></p>
<ul>
<li>Q：电容器上所带的电荷量，单位为库伦（q）</li>
<li>U：电容器两端的电压差，单位为伏特（V）</li>
<li>C：电容器存储电荷的能力，单位为法拉（F）</li>
</ul>
<p><span class="math display">\[
1F=10^3\mathrm{m}F=10^6uF=10^{12}pF
\]</span></p>
<p><strong>电容的决定式</strong> <span class="math display">\[
C = \frac{\varepsilon_r S}{4\pi k d}
\]</span></p>
<ul>
<li><span class="math display">\[\varepsilon_r\]</span>
：两极板间介质的介电常数，单位是法/米 (F/m)<br>
</li>
<li>S ：两极板间的正对面积，单位是平方米 (m²)<br>
</li>
<li>k ：静电常数，等于 ( k = 8.987551 ^9 ) N·m²/C²<br>
</li>
<li>d ：两极板间的距离，单位是米 (m)</li>
</ul>
<p>化简后 <span class="math display">\[
C = 8.854 \times \frac{\varepsilon_r S}{d} \quad (F)
\]</span> <strong>想使电容容量大，有三种方法</strong></p>
<ul>
<li>使用介电常数高的介质</li>
<li>增大极板间面积</li>
<li>减小极板间距离</li>
</ul>
<h5 id="电容的特点">电容的特点</h5>
<p>​ 本质就是充放电，在电路中起到<strong>隔直流通交流</strong>的作用</p>
<blockquote>
<p>公式讲解之前有，这里就引一个物理模型的记忆</p>
<p>电容的电流由<span class="math display">\[ I=C \frac{dV}{dt}
\]</span>决定，当 V 不变时， <span class="math display">\[\frac{dV}{dt}
= 0\]</span>，电流为0，隔直流了，同理，交流时，不为0，通交流了</p>
</blockquote>
<h5 id="电容的作用">电容的作用</h5>
<ul>
<li><p><strong>电荷存储：</strong></p></li>
<li><p><strong>能量存储：</strong>电容器可以将电能以电场的形式存储在其电场中。</p></li>
<li><p><strong>滤波：</strong>用于去除电源中的噪声、波动或干扰。通过将电容器连接到电源线路上的适当位置，它可以<strong>平滑电源电压并降低电源中的纹波</strong>。</p></li>
<li><p><strong>耦合和解耦：</strong></p>
<ul>
<li><strong>耦合</strong>描述了信号在电路之间的传输和相互影响
<ul>
<li>串联在信号路径，传输交流，隔离直流</li>
</ul></li>
<li><strong>解耦</strong>则是为了降低这种影响，使电路更加独立和稳定
<ul>
<li>并联在电源和地，降低噪声，稳定电源</li>
</ul></li>
</ul></li>
</ul>
<h5 id="电容串并联">电容串并联</h5>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250312161740029.png"></p>
<ul>
<li><strong>电容串联</strong> 个数越多，电容量越小，但耐压越大</li>
<li><strong>电容并联</strong> 容量相加，耐压看最小的</li>
</ul>
<p>​
所以，<strong>电容并联的主要作用是增加容量，串联的主要作用是减少容量，提高耐压值</strong></p>
<h5 id="安装方式-1">安装方式</h5>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250312161850030.png"></p>
<h5 id="电容值">电容值</h5>
<p>​
在每芯片的供电电源上，我们通常会并联一个0.1uF的电容，几个芯片的供电电源上并联一个10uF的电容，</p>
<p>​
作用是保证芯片的可持续供电和滤掉高频杂波得到平滑的电源，当线路上的电源还没到达芯片时，可由旁路的0.1uf电容对芯片进行供电，保证芯片的工作。</p>
<h5 id="等效串联电阻esr">等效串联电阻ESR</h5>
<p>​ 不是理想的，那就有内阻了，</p>
<p>对于不同电容的阻抗频率曲线</p>
<ul>
<li>容量大的 ESR 要小写，谐振频率低些，主要滤低频。</li>
<li>容量小的ESR 要大些，谐振频率要高些，主要滤高频。</li>
</ul>
<h4 id="题目-1">题目</h4>
<p><strong>1.
在IC的电源引脚和地之间，通常需要放置一颗电容，这颗电容的主要作用是（
）</strong></p>
<ol type="A">
<li><p>隔离直流信号</p></li>
<li><p><code>旁路（去耦）</code></p></li>
<li><p>耦合</p></li>
<li><p>温度补偿</p></li>
</ol>
<blockquote>
<p>电路的耗电有时候大，有时候小，当耗电突然增大的时候，如果没有电容，电源电压会被拉低，产生噪声，严重会影响CPU重启，小容量的无极电容可以把这种噪声旁路到地（小容量的电容通频带比大电容高得多）提高稳定性</p>
</blockquote>
<p><strong>2. 电容器在电路中的功能包括（ ）。</strong></p>
<p><code>(A) 滤波</code></p>
<p><code>(B) 耦合</code></p>
<p><code>(C) 谐振</code></p>
<p><code>(D) 旁路</code></p>
<blockquote>
<p>电容器的种类很多，不同种类的电容器起作用也不同。其在电路中的功能包括：滤波、混合、谐振、旁路等。谐振是跟电感组成谐振电路</p>
</blockquote>
<p><strong>3. 电容器上的数字标识为 475，容量是（ ）uF。</strong></p>
<p><code>(A) 4.7</code></p>
<ol start="2" type="A">
<li><p>47</p></li>
<li><p>470</p></li>
<li><p>475</p></li>
</ol>
<blockquote>
<p>电容器的容量一般用三位数字标识，前两位为数值，最后一位为零的个数，基本单位是
pF。<br>
因此 “475” 表示的容量为：47 00000 pF = 4.7 uF。</p>
</blockquote>
<p><strong>4. 将 3 个数字标识为 105
的贴片电容并联到一起，其等效容量约为（ ）uF。</strong></p>
<ol type="A">
<li><p>1</p></li>
<li><p>0.33</p></li>
<li><p>3.3</p></li>
</ol>
<p><code>(D) 3</code></p>
<blockquote>
<p>数字标识为 <code>105</code> 的电容容量为 <code>1uF</code>，将三个 1uF
的电容并联后，容量为 <code>3uF</code>，因此正确答案为 D。</p>
</blockquote>
<p><strong>5. 对下图给出的元器件描述正确的选项是（ ）。</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250312165403122.png"></p>
<ol type="A">
<li><p>电解电容</p></li>
<li><p>贴片电容</p></li>
</ol>
<p><code>(C) 容量 22uF</code></p>
<ol start="4" type="A">
<li>耐压值为 226V</li>
</ol>
<blockquote>
<p>这玩意是钽电容，它属于电解电容的一种，但通常“电解电容”特指铝电解电容，而钽电容有其独特分类。</p>
</blockquote>
<p><strong>6. 下列元器件中焊接时需要注意“极性”的是（ ）。</strong></p>
<ol type="A">
<li>贴片电容</li>
</ol>
<p><code>(B) 电解电容</code></p>
<ol start="3" type="A">
<li>无源蜂鸣器</li>
</ol>
<p><code>(D) 有源蜂鸣器</code></p>
<blockquote>
<ul>
<li>贴片电容大部分无极性<br>
</li>
<li>电解电容和钽电容都有极性</li>
<li>无源蜂鸣器相当于一个压电元件或电磁元件，无极性</li>
<li>有源蜂鸣器内部包含驱动电路，通常有正负极之分</li>
</ul>
</blockquote>
<hr>
<p><strong>7. 下列材质的电容器中，通常无正、负极性的是（
）。</strong></p>
<ol type="A">
<li>钽电容</li>
</ol>
<p><code>(B) X5R 电容</code></p>
<p><code>(C) X7R 电容</code></p>
<p><code>(D) 云母电容</code></p>
<blockquote>
<p>电容器按是否具有极性可以分为两类</p>
<ul>
<li>无极性电容器
<ul>
<li>特点
<ul>
<li>不区分正负极</li>
<li>适用于AC,DC电路</li>
<li>用于高频滤波，信号耦合，旁路去耦，储能</li>
</ul></li>
<li>常见类型
<ul>
<li>陶瓷电容（MLCC)
<ul>
<li>包括X5R, X7R COG(NPO)</li>
<li>云母电容</li>
<li>聚酯(CBB)薄膜电容</li>
</ul></li>
</ul></li>
</ul></li>
<li>有极性电容器
<ul>
<li>特点
<ul>
<li>具有固定的正负极</li>
<li>用于DC电源滤波，储能，稳压</li>
</ul></li>
<li>常见类型
<ul>
<li>铝电解电容</li>
<li>钽电容</li>
<li>超级电容</li>
</ul></li>
</ul></li>
</ul>
</blockquote>
<p><strong>8. 电路中常用的储能元件有哪几项（ ）。</strong></p>
<ol type="A">
<li>电阻</li>
</ol>
<p><code>(B) 电容</code></p>
<p><code>(C) 电感</code></p>
<ol start="4" type="A">
<li>磁珠</li>
</ol>
<blockquote>
<p>磁珠，实际上是一种高频电感，主要作用是<strong>滤除电路中的高频噪声，抑制电磁干扰</strong>。但它不是电感，</p>
</blockquote>
<p><strong>9. 描述电容的技术指标有哪些（ ）。</strong></p>
<p><code>(A) 容量</code></p>
<p><code>(B) 耐压值</code></p>
<p><code>(C) 耐温值</code></p>
<p><code>(D) ESR</code></p>
<blockquote>
<p>电容的主要技术指标包括 <strong>容量、耐压值、耐温值</strong> 以及
<strong>ESR（等效串联电阻）</strong>。</p>
</blockquote>
<p><strong>10. 将两个参数分别为 300uF/16V 和 100uF/25V
的电容进行串联，其等效容量约为 <code>________</code>
uF，可以安全工作的电压为 <code>________</code> V。</strong><br>
（第一空填写 10 进制整数，第二空填写“大于”或“小于”后跟随 10
进制整数）</p>
<p><strong>答案：</strong> <code>75</code>，<code>大于 25</code></p>
<h3 id="封装类">1.3 封装类</h3>
<h4 id="知识点-2">知识点</h4>
<p><a href="https://blog.csdn.net/ffdia/article/details/116222777">从七种封装类型，看芯片封装发展史_半导体塑封工艺to、sop、ssop、tssop、dip、sot、esot、sod、qfn、sma、-CSDN博客</a></p>
<p><strong>封装的类型发展</strong></p>
<p>​ 封装的发展：TO→DIP→SOP→QFP→PLCC→BGA →CSP。</p>
<h5 id="分类">分类</h5>
<ul>
<li><strong>贴片封装</strong>
<ul>
<li>SOP</li>
<li>QFP</li>
<li>BGA</li>
<li>CSP</li>
</ul></li>
<li><strong>非贴片封装</strong>
<ul>
<li>TO</li>
<li>DIP</li>
<li>PLCC</li>
</ul></li>
</ul>
<h5 id="totransisitor-outline">TO<strong>（Transisitor
Outline）</strong></h5>
<p>TO代表的是晶体管外壳</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313163142745.png"></p>
<p>​
不过晶体管也有贴片的形式，就是后面的SOT类型，其中SOT-23是常用的三极管封装形式</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313163301679.png"></p>
<hr>
<h5 id="dipdouble-in-line-package">DIP<strong>（Double In-line
Package）</strong></h5>
<p>​ DIP即双直插式封装</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313163403701.png"></p>
<hr>
<h5 id="sopsmall-outline-package">SOP<strong>（Small Outline
Package）</strong></h5>
<p>​
如果说DIP是最常见的直插式封装，那么SOP就是<strong>贴片式</strong>最常见的封装。SOP即小外形封装，基本采用塑料封装。引脚从封装两侧引出呈现L字形。</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313163553558.png"></p>
<p>也有以下类型</p>
<ul>
<li><strong>SOJ</strong>：J型引脚小外形封装<br>
</li>
<li><strong>TSOP</strong>：薄小外形封装<br>
</li>
<li><strong>VSOP</strong>：甚小外形封装<br>
</li>
<li><strong>SSOP</strong>：缩小型SOP<br>
</li>
<li><strong>TSSOP</strong>：薄的缩小型SOP<br>
</li>
<li><strong>SOT</strong>：小外形晶体管<br>
</li>
<li><strong>SOIC</strong>：小外形集成电路</li>
</ul>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313164121032.png"></p>
<p>SOP封装的优点：<strong>在封装芯片的周围做出很多引脚，封装操作方便，可靠性比较高，是目前的主流</strong></p>
<hr>
<h5 id="qfpquad-flat-package">QFP<strong>（Quad Flat
Package）</strong></h5>
<p>QFP，即小型方块平面封装。<strong>QFP封装在颗粒四周都带有针脚</strong>，四侧引脚扁平封装。<strong>表面贴封装型封装之一</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313164508393.png"></p>
<hr>
<h5 id="plccplastic-leaded-chip-carrier">PLCC<strong>（Plastic Leaded
Chip Carrier）</strong></h5>
<p>​
PLCC，即塑封J引线芯片封装。PLCC封装方式，外形呈正方形，<strong>32脚封装，四周都有管脚，</strong>外形尺寸比DIP封装小得多。</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313164739121.png"></p>
<p>​
适合用SMT表面安装技术在PCB上安装布线，具有外形尺寸小、可靠性高的优点。</p>
<p>​ 跟前面的QFP相比，引脚是勾在里面的，不容易变形</p>
<hr>
<h5 id="bgaball-grid-array-package">BGA<strong>（Ball Grid Array
Package）</strong></h5>
<p>​ BGA，即球栅阵列封装，适应集成度的需求，</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313164914363.png"></p>
<hr>
<h5 id="csp">CSP</h5>
<p>​
CSP是面积最小，厚度最小，因而是体积最小的封装。在相同尺寸的各类封装中，CSP的输入/输出端数可以做得更多。这个封装经常在内存芯片的封装中出现。</p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313164947101.png"></p>
<h4 id="题目-2">题目</h4>
<p><strong>1.下列哪些封装属于贴片封装（ ）</strong></p>
<p><code>(A) SOT-89</code></p>
<ol start="2" type="A">
<li>DIP-20</li>
</ol>
<p><code>(C) SOT-23</code></p>
<p><code>(D) BGA</code></p>
<blockquote>
<p>贴片封装，是指可以直接焊接在电路板表面的封装方式，常见的贴片封装包括SOT和BGA封装</p>
<p>DIP是直插式</p>
</blockquote>
<p><strong>2.DIODE 常用于哪种元器件的封装（ ）</strong></p>
<p><code>(A) 二极管</code></p>
<ol start="2" type="A">
<li><p>电容</p></li>
<li><p>电感</p></li>
<li><p>三极管</p></li>
</ol>
<blockquote>
<p><strong>Diode</strong>
这个单词本身的意思就是<strong>二极管</strong></p>
</blockquote>
<p><strong>3. 以下封装中属于贴片封装的是（ ）</strong></p>
<ol type="A">
<li><p>SIP-8</p></li>
<li><p>DIP-8</p></li>
</ol>
<p><code>(C) SOP-8</code></p>
<ol start="4" type="A">
<li>LQFP-44</li>
</ol>
<blockquote>
<p>SIP 单列直插封装</p>
<p>DIP 双列直插</p>
<p>SOP</p>
<p>LQFP 低轮廓四方变频封装，适用于表面贴装技术</p>
</blockquote>
<p><strong>4. 一般情况下，以下哪种封装可以设计的引脚数量最多（
）</strong></p>
<ol type="A">
<li><p>SOT23</p></li>
<li><p>SOP</p></li>
<li><p>SOT89</p></li>
<li><p>BGA</p></li>
</ol>
<blockquote>
<ul>
<li>SOT 3-6个引脚</li>
<li>SOP 8-64个引脚</li>
<li>BGA 500-2000+</li>
<li>CPS比BGA更小，常用于较小芯片，几十个引脚差不多</li>
</ul>
</blockquote>
<p><strong>5. 下图中给出的元器件，最符合那种封装类型（ ）</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/03/11/bi-sai-lan-qiao-bei-eda-ke-guan-ti/image-20250313162517218.png"></p>
<ol type="A">
<li><p>SOIC</p></li>
<li><p>QFN</p></li>
<li><p>LQFP</p></li>
<li><p>DIP</p></li>
</ol>
<blockquote>
<p><strong>解析</strong>：图示为 <strong>SOIC</strong>
小外形集成电路封装，指外引线数不超过28条的小外形集成电路。<br>
<strong>正确答案</strong>：A</p>
</blockquote>
]]></content>
      <categories>
        <category>EDA</category>
      </categories>
      <tags>
        <tag>eda</tag>
        <tag>蓝桥杯</tag>
      </tags>
  </entry>
  <entry>
    <title>ADC采样</title>
    <url>/2024/08/29/mo-dian-cai-yang-ji-chu/</url>
    <content><![CDATA[<h2 id="adc采样">ADC采样</h2>
<h3 id="adc采样原理">ADC采样原理</h3>
<p>​
ADC是将模拟信号按照一定的采样频率进行离散化然后转换为数字信号的过程</p>
<p>​ <strong>包含四个步骤</strong>，采样，保持，量化，编码；</p>
<p>采样和保持在采样保持电路中完成，而量化和编码步骤则在ADC中完成。</p>
<ul>
<li>采样
<ul>
<li>实现模拟信号的离散化</li>
<li>采用的间隔由采样频率决定，频率越高采样得到的信号越接近原始信号，但较高的频率会使得数据量增加，一般取原始信号最高频率的3-5倍</li>
</ul></li>
<li>保持
<ul>
<li>模拟信号转化成数字信号也需要时间，所以得保持</li>
<li>可以通过并联电容实现</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-cai-yang-ji-chu/image-20240829111018070.png"></li>
</ul></li>
<li>量化
<ul>
<li>量化是将采样电压转化为离散电平的近似过程</li>
<li>常用方法有两种，只舍不入；四舍五入</li>
<li>量化过程会产生量化误差，它是一种无法消除的原理性误差，ADC的位数越高，离散电平之间的误差越小，量化误差也会越小</li>
<li>如下图所示，第二个图为采样后的信号，第三个图为量化后，当设置较小的量化位数时，可以明显的看出量化后为阶梯型，但更低的量化位数代表更大的量化误差，更高的量化位数表示信号的数字表示更接近于原始模拟信号</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-cai-yang-ji-chu/image-20240829133757370.png"></li>
<li>量化位数指的是每个样本在数字表示时使用的比特数，决定可以用来表示信号的离散电平数量，<strong>8-bit</strong>
量化：信号被分为 2<sup>8</sup>=256 个离散电平。</li>
</ul></li>
<li>编码
<ul>
<li>将量化得到的十进制数字信号转化成二进制编码</li>
</ul></li>
</ul>
<h4 id="adc采样详解">ADC采样详解</h4>
<p>​
取样信号的频率越高，所取信号经过低通滤波器后越能真是复现输入信号波形，但同时带来采样数据量过大的问题</p>
<p>​
对于ADC采样定理，必须掌握的就是奈奎斯特定理，该定理可以理解为<strong>一个正弦波每个周期最少两个点才能把正弦波还原</strong>，同时表明采样率f<sub>s</sub>必须大于被测信号最高频率分量f<sub>N</sub>的两倍，将f<sub>N</sub>定义为奈奎斯特频率</p>
<h5 id="为啥采样率为什么需要大于被测试信号最高频率分量两倍">为啥采样率为什么需要大于被测试信号最高频率分量两倍。</h5>
<p>​
给行驶的汽车拍照，采样率就是按快门的频率，按得越快，越能还原汽车行驶过程。那如果慢了，两张照片显示从A-D，但是中间是走的B还是走的C你就不知道了，在信号里就是出现了<strong>混叠</strong></p>
<p>​ 混叠是指在信号的采样频率低于两倍Nyquist频率时，
采样数据中出现虚假的低频成分现象。<img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-cai-yang-ji-chu/image-20240829135342291.png"></p>
<p>​
灰色波形表示实际测试高频信号，但由于采样率不够，会出现红色虚线所对应的波形，导致原波形频率降低，出现虚假的重建低频信号。</p>
<ul>
<li>假定采样率f<sub>s</sub>=f<sub>N</sub>
<ul>
<li>采样频率与信号频率相同，所以采样点总是出现在信号波形的同一个位置上，即在每个采样周期内，采集的点都是信号在相同位置的值，那么把这些采样点连接起来的话，就是一条直线了，而不是反映信号实际波动的波形</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-cai-yang-ji-chu/image-20240829135850050.png"></li>
</ul></li>
<li>假设采样率fs= （4/3）*fN
<ul>
<li>在不同周期内ADC采集点数不一样，有时候采集2个点，有时候采集1个点，最后绘制图形严重失真，证明假设不成立。</li>
<li><img src="/medias/loading.gif" data-original="/2024/08/29/mo-dian-cai-yang-ji-chu/image-20240829140000267.png"></li>
</ul></li>
<li>假设采样率fs=2fN
<ul>
<li>能够在一个信号周期内至少捕捉到两个不同的点（如一个波峰和一个波谷），两个点就能描绘出一个正弦波了
<ul>
<li><strong>第一个点</strong>可以捕获到波峰或波谷的位置</li>
<li><strong>第二个点</strong>则会捕捉到信号的相对相反位置</li>
</ul></li>
<li>该方法前提是必须找到信号的波峰或波谷，否则也会出现波形失真现象。</li>
<li>因此，使用Nyquist采样定理时只需要找到<strong>信号最大的频率分量</strong>，再用2倍最大频率分量的采样频率对信号进行采样，理论上可以避免信号波形失真。
<ul>
<li>对于一个信号，它的频率不是固定的，可能有sina+sinb，对于这种多频信号，就得找它存在的所有频率成分中频率最高的那个</li>
</ul></li>
</ul></li>
</ul>
<h4 id="adc采样保持">ADC采样保持</h4>
<p>​ 这一部分使用的电路是<strong>采样保持器</strong>（SHA）</p>
<p>​
<strong>采样保持电路</strong>由<strong>开关器件</strong>、<strong>电容</strong>和<strong>运算放大器</strong>组成。<strong>电容是采样和保持电路的核心</strong>，因为它是保持采样输入信号并根据命令输入将其提供到输出端的电路。</p>
<h5 id="adc量化编码">ADC量化编码</h5>
<p>​
将模拟信号转化为数字信号，需要将采样-保持电路的输出电压按某种方式进行划分到相应的离散电平上，将这一转化过程称为数值量化，简称量化。</p>
<p>​ 有点复杂看不懂，简单了解点</p>
<ul>
<li>量化位数</li>
<li>存在量化误差且无法消除，所谓量化误差是指由于模拟信号电压不一定被D整除，所以会出现误差，位数越多，各离散电平之间的差值越小，量化误差越小</li>
</ul>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>采样</tag>
      </tags>
  </entry>
  <entry>
    <title>大记忆恢复术</title>
    <url>/2024/10/09/ji-yi-hui-fu-zhu/</url>
    <content><![CDATA[<h2 id="大记忆恢复术">大记忆恢复术</h2>
<ol type="1">
<li>免费域名</li>
</ol>
<p><a href="https://dnsexit.com/users/dns/dyn/">Free dynamic DNS service
| DNSExit.com</a></p>
<p>2025年9月9日之后可以免费再续一年</p>
<p>lsdxz.linkpc.net</p>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
  </entry>
  <entry>
    <title>【调制方式】---PWM移相</title>
    <url>/2024/09/14/diao-zhi-pwm-yi-xiang/</url>
    <content><![CDATA[<h2 id="pwm移相跟占空比可变">PWM移相跟占空比可变</h2>
<figure>
<img src="/medias/loading.gif" data-original="/2024/09/14/diao-zhi-pwm-yi-xiang/image-20240914135217996.png" alt="image-20240914135217996">
<figcaption aria-hidden="true">image-20240914135217996</figcaption>
</figure>
<h3 id="pwm的两种输出方式">PWM的两种输出方式</h3>
<h4 id="pwm模式">PWM模式</h4>
<p><img src="/medias/loading.gif" data-original="/2024/09/14/diao-zhi-pwm-yi-xiang/image-20240914090203238.png"></p>
<ul>
<li>ARR 当计数器达到ARR值的时候，计数器会自动重置为0</li>
<li>CCR
比较寄存器，定时器的计数器与CRR相比，当计数器的值达到CCR时，PWM输出信号会改变状态</li>
<li>PWM波形的周期由ARR决定，输出频率等于定时器的时钟频率除以ARR。</li>
</ul>
<h4 id="输出比较模式">输出比较模式</h4>
<p>​
这里有一个用于递增或递减的计数器<strong>CNT</strong>，当<strong>CNT=CCR</strong>时，电平发生翻转，这个翻转行为决定了PWM的占空比，CNT超过ARR时，溢出置零</p>
<h4 id="二者区别与联系">二者区别与联系</h4>
<ul>
<li><p><strong>通过调整ARR，可以改变PWM信号的频率，而调整CCR可以改变占空比</strong></p></li>
<li><p>PWM模式与翻转模式下所输出的波形频率是相差2倍的，即PWM模式下输出频率为10Hz，那么输出比较模式下的输出频率只有5Hz</p>
<ul>
<li>超过CNT=CCR临界值时跳变一次，CNT溢出置零跳变一次</li>
</ul></li>
</ul>
<h3 id="pwm的移相">PWM的移相</h3>
<h4 id="pwm模式移相">PWM模式移相</h4>
<p>用PWM模式输出实现45°的移相，其中ARR=2000，占空比=50%</p>
<p>​
把ARR=2000与角度360°一一对应起来，或者说是360°均分为ARR份，那么要移相45°就是</p>
<p><img src="/medias/loading.gif" data-original="/2024/09/14/diao-zhi-pwm-yi-xiang/image-20240914105259235.png"></p>
<p><strong>需要注意的是</strong>，这里求得是CCR的差值，</p>
<p>AB两点之间的△CRR计算公式如下： <span class="math display">\[
\Delta CCR=\frac{ARR}{360^o}*x
\]</span>
<strong>相位移</strong>：当你调整一个PWM信号的CCR值，相对于另一个信号进行移相时，相位的改变实际上是由两个信号的CCR差值决定的。</p>
<p>可以把移相看作是<strong>对两个PWM信号之间CCR差值的调整</strong>，而不是直接在单一路PWM信号的CCR值上做调整。</p>
]]></content>
      <categories>
        <category>电力电子基础</category>
      </categories>
      <tags>
        <tag>调制</tag>
        <tag>移相</tag>
      </tags>
  </entry>
  <entry>
    <title>【CLLC】参数设计</title>
    <url>/2025/02/27/lun-cllc-can-shu-she-ji/</url>
    <content><![CDATA[<h2 id="ｃｌｌｃ-型三电平双向-ｄｃｄｃ-变换器混合控制策略">ＣＬＬＣ
型三电平双向 ＤＣ／ＤＣ 变换器混合控制策略</h2>
<p><strong>设计要求：</strong></p>
<p>​
400-500V输入，输出48V开关频率范围为：88-170KHz，死区时间t<sub>d</sub>=200ns</p>
<ul>
<li><strong>确定谐振频率</strong>
CLLC是由LLC改进而来的，先设计一个LLC的谐振网络，再设计剩余的低压侧谐振电容、选取LLC变换器的第二谐振频率为<em>f</em><sub>LLC</sub>=100
kHz.</li>
<li><strong>选取励磁电感：</strong>
<ul>
<li><em>i</em><sub>Lm</sub>(<em>t</em>)的峰值电流公式近似计算得到：<span class="math inline">\(i_{\mathrm{Lmp}}\approx\frac{nU_{\mathrm{ol}}}{L_{\mathrm{m}}}
\frac{T_{s}}{4}\)</span></li>
<li>为保证开关管结电容死区时间内完全放电，<em>i</em><sub>Lmp</sub>需满足：<span class="math inline">\(i_\text{ Lmp}t_\text{ d}&gt;2C_\text{
oss}U_1\)</span></li>
<li>由于第二谐振频率处的<em>M</em><sub>1</sub>小于1，<span class="math inline">\(L_\text{m}&lt;\frac{nU_\text{ol}T_st_\text{d}}{8C_\text{oss}U_1}=\frac{M_1T_st_\text{d}}{16C_\text{oss}}&lt;\frac{t_\text{d}}{16C_\text{oss}f_s}\)</span>​</li>
<li>死区时间<em>t<sub>d</sub></em>=200 ns，
第二谐振频率<em>f<sub>s</sub></em>=100kHz，
结电容<em>C<sub>oss</sub></em>=415 pF。由上面第二个式子可得
<em>L<sub>m</sub></em>&lt;301.2 uH。 所以Lm实际取值280 uH</li>
</ul></li>
<li><strong>选取电感比值<em>h</em></strong>
<ul>
<li><em>h</em>=<em>L<sub>m</sub>/L<sub>r</sub></em>
，选取h=3，确定谐振电感Lr为84uh，再由<span class="math inline">\(f_{\mathrm{~LLC}}=1/2\pi
\sqrt{L_{\mathrm{~r}}C_{\mathrm{~rl}}}\)</span>
得到高压侧谐振电容C<sub>r1</sub>的数值为31.7uf</li>
</ul></li>
<li><strong>选取谐振电容比值g</strong>
<ul>
<li><span class="math inline">\(g=C_{r2}/n^2C_{r1}\)</span>​</li>
<li>g值太小，则正向电压争议曲线的谐振峰值太高，且在第二谐振频率处的曲线斜率太小，导致变换器在很宽的调节范围内几乎没有电压调节能力</li>
<li>g值太大，则反向工作时的直流增益将比正向工作时高很多，不满足设计要求</li>
<li>一般g取值在1-3之间比较合适，取g=2</li>
</ul></li>
<li><strong>选取变压器的变比n</strong>
<ul>
<li><span class="math inline">\(n=M_1
\frac{U_1}{2U_{\mathrm{ol}}}\)</span></li>
<li>根据文中设置，U<sub>1</sub>=400，U<sub>0</sub>=48
想要M<sub>1</sub>小于1，需要小于4.167</li>
<li>n取值过小，会导致反向工作所需电压增益变高，开关管工作频率变低，从而会失去ZVS条件，故可初步选取
n=40:11</li>
<li>在得到谐振电容比值g之后，通过<span class="math inline">\(g=C_{r2}/n^2C_{r1}\)</span> 计算得到:<span class="math inline">\(C_{r2}=1014.4nF\)</span></li>
</ul></li>
<li><strong>计算相位角</strong>
<ul>
<li>移相占空比D和Lm存在对应关系，且在0-0.5内，未必能实现软开关，定义临界移相占空比D<sub>0</sub>
只有当意向占空比满足0&lt;D&lt;D<sub>0</sub>的条件时，变换器中所有软开关条件才可全部完成，因此对应于变换器高压侧最大输出电压U<sub>1max</sub>，有如下表达式</li>
<li><span class="math inline">\(\begin{cases}(0.5-D_0)\cos(\pi
D_0)=\frac{16L_\text{m}C_\text{oss}}{T_\text{s}t_\text{d}}\\\\U_\text{ol}=\frac{\cos(\pi
D_0)U_\text{lmax}}{2n}\end{cases}\)</span>
--------&gt;D<sub>0</sub>=0.28</li>
<li>移相控制模式中最大移相角为：$_<sup></sup>$</li>
</ul></li>
</ul>
<p><strong>参数</strong></p>
<p><img src="/medias/loading.gif" data-original="/2025/02/27/lun-cllc-can-shu-she-ji/image-20240815104704407.png"></p>
]]></content>
      <categories>
        <category>论文</category>
      </categories>
      <tags>
        <tag>CLLC</tag>
        <tag>参数设计</tag>
      </tags>
  </entry>
  <entry>
    <title>CAN总线</title>
    <url>/2024/08/19/tong-xun-can-zong-xian/</url>
    <content><![CDATA[<h2 id="can总线">CAN总线</h2>
<h3 id="为什么要用can">1. 为什么要用CAN</h3>
<h5 id="can通讯协议是什么">CAN通讯协议是什么</h5>
<p>​ CAN通讯协议是一种<strong>多主多节点架构</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>的<strong>串行通讯协议</strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>可以简单把CAN通信理解成开一场电话会议，</p>
<ul>
<li>当一个人讲话时其他人就听（广播），</li>
<li>当多个人同时讲话时则根据一定规则来决定谁先讲话谁后讲话（仲裁）</li>
</ul>
<p>但值得注意的是，在这场会议中，讲话人会确认听话人是否成功接收信息，如果说话人传递的信息有误，听话人会及时<strong>指出错误</strong>。</p>
<h5 id="特点">特点</h5>
<ul>
<li>多主控制</li>
<li>通信速度快，距离远</li>
<li>具有错误检测、错误通知和错误恢复功能
<ul>
<li>A听出了错误，通知给其他参会人员，演讲人强制闭嘴，不断反复重新叙述，直到说对发出声音</li>
</ul></li>
<li>故障封闭
<ul>
<li>判断错误类型是暂时的数据错误（如外部噪声）还是持续的数据错误（如单元内部故障、驱动器故障、断线等），当发生持续数据错误时，将故障的单元从总线上隔离出去</li>
</ul></li>
<li>多节点结构</li>
<li>仲裁机制
<ul>
<li>采用非破坏性仲裁机制，通过比较消息标识符的优先级来决定哪个节点有权继续发送数据，保证有序性，避免冲突</li>
<li>没有红绿灯的路上让路规则</li>
</ul></li>
</ul>
<h3 id="can协议的分层架构">2. CAN协议的分层架构</h3>
<p>​ CAN 协议如下图 所示涵盖了 ISO 规定的 OSI
基本参照模型中的传输层、数据链路层及物理层。</p>
<figure>
<img src="/medias/loading.gif" data-original="/2024/08/19/tong-xun-can-zong-xian/image-20241021141022021.png" alt="ISO/OSI基础参照模型">
<figcaption aria-hidden="true">ISO/OSI基础参照模型</figcaption>
</figure>
<h4 id="物理层硬件部分">2.1 物理层（硬件部分）</h4>
<p>​
与I2C、SPI等具有时钟信号的同步通讯方式不同，CAN通讯并不是以时钟信号来进行同步的，它是一种<strong>异步通讯</strong>，只具有
CAN_High 和 CAN_Low
两条信号线，共同构成一组<strong>差分信号线</strong>，以差分信号的形式进行通讯。</p>
<ul>
<li>差分信号中的两根数据线通常是通过<strong>双绞线</strong>布线的，会受到等效干扰，即某一时刻干扰使得一根数据线电压上升20mV，那么同样的干扰也会影响另一根，导致类似的电压变化，而差分信号只依赖于两线之间的电压差，而不是绝对电压值。</li>
</ul>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>多主结构：多个节点都有发起通信的能力，不依赖中心控制；；多节点结构：在这个网络里，每个节点既可以发送信息，也可以接收其他节点发来的信息，<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>（区别于并行通讯协议，并行是同时通过多条数据线传输多个比特，串行是一个接一个传输比特）<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
]]></content>
      <categories>
        <category>通讯协议</category>
      </categories>
      <tags>
        <tag>CAN总线</tag>
      </tags>
  </entry>
  <entry>
    <title>调制方式---移相控制</title>
    <url>/2024/09/11/sui-bi-diao-zhi-fang-shi/</url>
    <content><![CDATA[<h2 id="调制方式">调制方式</h2>
<h3 id="为啥要引入控制器">为啥要引入控制器</h3>
<p>​ 输出电压也能直接跟参考电压比，那么为啥要引入控制器呢</p>
<p>​ 增强系统的稳定性，响应速度，抗绕能力，并且确保输出的精度</p>
<h3 id="pi控制器的输出">PI控制器的输出</h3>
<p>​ 加一个控制器，它的输出可以是以下几种形式，取决于控制策略</p>
<p><strong>1. 控制频率（用于变频控制）</strong></p>
<ul>
<li>如果输出电压低于参考电压，PI控制器会增加开关频率，使得电路进入增益较大的区域，以提高输出电压。</li>
<li>如果输出电压高于参考电压，PI控制器会降低开关频率，从而减小电压增益。</li>
</ul>
<p><strong>2. 控制移相角（用于移相控制）</strong></p>
<ul>
<li>如果输出电压低，PI控制器会减小相位差，使得功率传输增加，从而提升输出电压。</li>
<li>如果输出电压过高，PI控制器会增大相位差，减少功率传输，降低输出电压。</li>
</ul>
<p><strong>3. 控制占空比(用于PWM控制)</strong></p>
<ul>
<li>当输出电压低于参考电压时，PI控制器会增大占空比，以增加传输的功率。</li>
<li>当输出电压过高时，PI控制器会减小占空比，减少功率输出。</li>
</ul>
<h3 id="移相控制">移相控制</h3>
<p>​
三电平变换器中，你可以将开关分为<strong>上桥臂和下桥臂</strong>，例如Q1/Q2和Q3/Q4：</p>
<p>移相控制的<strong>相位差</strong>就是桥臂A（状态
<code>1100</code>）切换到桥臂B（状态
<code>0011</code>）之间的<strong>零电压区间</strong>的时间长度。这一段时间正是由
<code>0100</code> 和 <code>0010</code> 状态来决定的。</p>
<p><strong>状态 <code>0100</code> 和
<code>0010</code></strong>：这两个状态的存在意味着桥臂A和桥臂B的导通时间之间存在一个空档期。在这个空档期间，两个桥臂都没有导通完全，输出电压为零。</p>
<p><strong>时间间隔的意义</strong>：移相控制的核心就是通过调节这个零电压区间（也就是
<code>0100</code> 和 <code>0010</code>
的持续时间）来控制桥臂A和桥臂B之间的切换时刻。零电压区间的长度反映了两个桥臂导通的相对时刻的差异，也就是相位差。</p>
<ul>
<li>如果这个零电压区间<strong>很短</strong>，桥臂A和桥臂B几乎是无缝切换，两个桥臂的相位差较小，输出电压的占空比大，功率输出较高。</li>
<li>如果这个零电压区间<strong>变长</strong>，相位差增大，桥臂A和桥臂B的导通时刻错开较大，输出电压的占空比减小，功率输出下降。</li>
</ul>
<h3 id="移相分类">移相分类</h3>
<p>​ <strong>根据控制量的数目，可以将移相调制方法分为三类</strong></p>
<ul>
<li><strong>单移相（SPS）</strong>
<ul>
<li>一个控制变量：原副边之间的移相角</li>
</ul></li>
<li><strong>双移相（DPS）</strong>
<ul>
<li>两个控制变量：原副边之间的移相角以及原边或副边的某组桥臂中点间电压的脉宽</li>
</ul></li>
<li><strong>三重移相（TPS）</strong>
<ul>
<li>原副边之间的移相角；原边桥臂中点间电压的脉宽；副边桥臂中点间电压的脉宽</li>
</ul></li>
</ul>
<h3 id="小结">小结：</h3>
<ul>
<li><strong>移相控制通过调节 <code>0100</code> 和 <code>0010</code>
状态的时间长度</strong>（零电压时间）来调整桥臂A和桥臂B的相位差，从而控制输出电压波形的占空比和功率传输。</li>
</ul>
<h3 id="关于死区时间">关于死区时间</h3>
<ul>
<li><p>在从 <code>1100</code> 到 <code>0100</code>
的切换中，<strong>死区时间应在 Q1 关断后加入</strong>，确保 Q1
完全关断后再进行其他动作。</p></li>
<li><p>在从 <code>0100</code> 切换到 <code>0011</code>
或其他状态时，<strong>死区时间应在 Q2
关断时加入</strong>，同样避免短路和误导通。</p></li>
<li><p><strong>死区时间</strong>在这种三电平拓扑中，通常是指<strong>Q1关断后与Q3、Q4导通之前</strong>的那段时间。也就是说，Q1关断之后，暂时没有新的开关导通，这一段时间是为了确保所有前一级的开关都完全关断，防止两个桥臂之间的短路。</p></li>
</ul>
<h4 id="理解q1关断时的工作状态">理解Q1关断时的工作状态：</h4>
<ul>
<li>当<strong>Q1关断</strong>时，<strong>Q2继续导通</strong>，这段时间电路仍然有功率传递。电感中的电流会自然续流，使得电路中的能量继续传递。</li>
<li>进入死区时间后，<strong>Q3和Q4还未导通</strong>，这段时间确保Q1和Q3不会因为时序问题而发生冲突或短路。</li>
</ul>
<h3 id="仿真">仿真</h3>
]]></content>
      <categories>
        <category>随笔</category>
      </categories>
      <tags>
        <tag>调制</tag>
      </tags>
  </entry>
</search>
